[{"content":" Äá»ƒ láº¥y file code vÃ  dá»¯ liá»‡u, vui lÃ²ng gá»­i email tá»›iÂ hung.ha@miquant.vn\nConcept Trong thá»‹ trÆ°á»ng tÃ i chÃ­nh Ä‘áº§y biáº¿n Ä‘á»™ng, má»—i Ä‘iá»ƒm dá»¯ liá»‡u khÃ´ng chá»‰ chá»©a giÃ¡ trá»‹ tá»©c thá»i mÃ  cÃ²n áº©n chá»©a cÃ¡c má»‘i liÃªn há»‡ ngáº§m hÃ¬nh thÃ nh tá»« quy luáº­t biáº¿n Ä‘á»™ng theo thá»i gian. CÃ¡c mÃ´ hÃ¬nh thá»‘ng kÃª chuá»—i thá»i gian (time series) truyá»n thá»‘ngâ€”vá»›i giáº£ Ä‘á»‹nh tuyáº¿n tÃ­nh vÃ  tÃ­nh dá»«ngâ€” khÃ³ phÃ¡t hiá»‡n chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c â€œregimeâ€ vá»›i nhau hay cÃ¡c phá»¥ thuá»™c phi tuyáº¿n tÃ­nh (non-linear) áº©n sÃ¢u trong dá»¯ liá»‡u chuá»—i thá»i gian. Nháº±m kháº¯c phá»¥c nhá»¯ng váº¥n Ä‘á» nÃ y, Visibility Graph Ä‘Æ°á»£c phÃ¡t triá»ƒn, chuyá»ƒn bÃ i toÃ¡n phÃ¢n tÃ­ch chuá»—i thá»i gian (time series) thÃ nh phÃ¢n tÃ­ch máº¡ng (network), tá»« Ä‘Ã³ táº­n dá»¥ng cÃ¡c cÃ´ng cá»¥ cá»§a khoa há»c máº¡ng (network science) Ä‘á»ƒ khai thÃ¡c thÃ´ng tin Ä‘á»™ng lá»±c vÃ  cáº¥u trÃºc tiá»m áº©n.\nTime Series to Visibility Graph? Time series Chuá»—i thá»i gian lÃ  má»™t dÃ£y cÃ¡c Ä‘iá»ƒm dá»¯ liá»‡u Ä‘Æ°á»£c liá»‡t kÃª theo thá»© tá»± thá»i gian, thÆ°á»ng Ä‘Æ°á»£c thu tháº­p táº¡i cÃ¡c khoáº£ng thá»i gian Ä‘á»u nhau. NÃ³i cÃ¡ch khÃ¡c, chuá»—i thá»i gian lÃ  báº¥t ká»³ dÃ£y dá»¯ liá»‡u nÃ o Ä‘Æ°á»£c láº¥y á»Ÿ cÃ¡c thá»i Ä‘iá»ƒm rá»i ráº¡c (discrete). Chuá»—i thá»i gian thÆ°á»ng Ä‘Æ°á»£c trá»±c quan hÃ³a báº±ng Ä‘á»“ thá»‹ Ä‘Æ°á»ng, Ä‘á»“ thá»‹ diá»‡n tÃ­ch hoáº·c Ä‘á»“ thá»‹ cá»™t, trong Ä‘Ã³ trá»¥c hoÃ nh (x) tÆ°Æ¡ng á»©ng vá»›i thá»i gian, cÃ²n chiá»u cao (trá»¥c tung, y) tÆ°Æ¡ng á»©ng vá»›i giÃ¡ trá»‹ dá»¯ liá»‡u táº¡i thá»i Ä‘iá»ƒm Ä‘Ã³.\nMáº·c dÃ¹ biá»ƒu Ä‘á»“ Ä‘Æ°á»ng, diá»‡n tÃ­ch hay cá»™t cho ta cÃ¡i nhÃ¬n tá»•ng quan vá» xu hÆ°á»›ng vÃ  biáº¿n Ä‘á»™ng, nhÆ°ng ráº¥t khÃ³ Ä‘á»ƒ nháº­n diá»‡n:\nCÃ¡c má»‘i liÃªn káº¿t phi tuyáº¿n giá»¯a hai Ä‘iá»ƒm thá»i gian khÃ´ng ká» nhau Nhá»¯ng motif (pattern) láº·p láº¡i hay sá»± tá»± tÆ°Æ¡ng quan cÃ³ thá»ƒ tá»›i tá»« nhá»¯ng khoáº£ng cÃ¡ch lá»›n trong dá»¯ liá»‡u Äiá»ƒm gÃ£y (change point) tiá»m áº©n khi cáº¥u trÃºc phá»¥ thuá»™c giá»¯a cÃ¡c giÃ¡ thay Ä‘á»•i Ä‘á»™t ngá»™t Hay cÃ¡c tráº¡ng thÃ¡i khÃ¡c nhau cá»§a nhá»¯ng giai Ä‘oáº¡n thá»i gian khÃ¡c nhau. ChÃ­nh vÃ¬ nhá»¯ng khÃ³ khÄƒn nÃ y cá»§a phÆ°Æ¡ng phÃ¡p phÃ¡p chuá»—i thá»i gian, trong 2 tháº­p ká»· trá»Ÿ láº¡i Ä‘Ã¢y, cÃ¡c nhÃ  nghiÃªn cá»©u báº¯t Ä‘áº§u chuyá»ƒn hÆ°á»›ng sang viá»‡c sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p â€œcomplex networkâ€ Ä‘á»ƒ mÃ´ táº£ cÃ¡c thÃ´ng tin Ä‘áº§y biáº¿n Ä‘á»™ng vÃ  phá»¥ thuá»™c láº«n nhau cá»§a time series! CÃ¡c phÆ°Æ¡ng phÃ¡p cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ°: proximity networks, transition networks, and visibility graphs. BÃ i viáº¿t sáº½ tiáº¿n hÃ nh thá»­ nghiá»‡m vá»›i visibility graph.\nVisibility graph Visibility graph ra Ä‘á»i vÃ o nÄƒm 2008, trong Ä‘Ã³ cÃ¡c nÃºt (node) tÆ°Æ¡ng á»©ng vá»›i cÃ¡c Ä‘iá»ƒm dá»¯ liá»‡u cá»§a chuá»—i thá»i gian, vÃ  cáº¡nh (edge) Ä‘Æ°á»£c ná»‘i giá»¯a hai nÃºt náº¿u chÃºng â€œnhÃ¬n tháº¥yâ€ nhau. Thuáº­t toÃ¡n nÃ y cÃ³ thá»ƒ Ã¡nh xáº¡ má»i loáº¡i chuá»—i thá»i gian thÃ nh máº¡ng: chuyá»ƒn chuá»—i tuáº§n hoÃ n thÃ nh Ä‘á»“ thá»‹ Ä‘á»u, chuá»—i ngáº«u nhiÃªn thÃ nh Ä‘á»“ thá»‹ ngáº«u nhiÃªn vÃ  dá»… dÃ ng scale vá»›i má»i Ä‘á»™ lá»›n cá»§a dá»¯ liá»‡u. NgoÃ i ra, cÃ³ nhiá»u cÃ¡ch xÃ¢y dá»±ng visibility graph nhÆ°: natural, horizontal vÃ  limited penetrable visibility graph. BÃ i viáº¿t thá»­ nghiá»‡m vá»›i natural visibility graph vÃ  má»i thá»­ nghiá»‡m luÃ´n ngáº§m Ä‘á»‹nh lÃ  natural.\nViá»‡c xÃ¢y dá»±ng visibility graph ráº¥t dá»…, hai Ä‘iá»ƒm dá»¯ liá»‡u Ä‘Æ°á»£c ná»‘i vá»›i nhau khi vÃ  chá»‰ khi Ä‘Æ°á»ng tháº³ng ná»‘i chÃºng khÃ´ng bá»‹ báº¥t ká»³ Ä‘iá»ƒm nÃ o náº±m giá»¯a â€œche khuáº¥tâ€ â€“ tá»©c lÃ  má»i giÃ¡ trá»‹ táº¡i cÃ¡c Ä‘iá»ƒm giá»¯a Ä‘á»u náº±m dÆ°á»›i Ä‘Æ°á»ng tháº³ng Ä‘Ã³.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 from ts2vg import NaturalVG import networkx as nx import numpy as np import matplotlib.pyplot as plt # 1. Generate random time series (Brownian motion) rng = np.random.default_rng(110) ts = rng.standard_normal(size=8) ts = np.cumsum(ts) # 2. Build visibility graph g = NaturalVG(directed=None).build(ts) nxg = g.as_networkx() # 3. Make plots fig, [ax0, ax1, ax2] = plt.subplots(ncols=3, figsize=(12, 3.5),dpi=200) ax0.plot(ts) ax0.set_title(\u0026#34;Time Series\u0026#34;) ## bar plot for time series ax0.bar(range(len(ts)), ts, color=\u0026#39;lightblue\u0026#39;, alpha=0.7) ax0.set_xlabel(\u0026#34;Time\u0026#34;) # ax0.set_ylabel(\u0026#34;Value\u0026#34;) ax0.set_title(\u0026#34;Time Series Bar Plot\u0026#34;) graph_plot_options = { \u0026#34;with_labels\u0026#34;: False, \u0026#34;node_size\u0026#34;: 2, \u0026#34;node_color\u0026#34;: [(0, 0, 0, 1)], \u0026#34;edge_color\u0026#34;: [(0, 0, 0, 0.15)], } nx.draw_networkx(nxg, ax=ax1, pos=g.node_positions(), **graph_plot_options) ax1.tick_params(bottom=True, labelbottom=True) ax1.plot(ts) ax1.set_title(\u0026#34;Visibility Graph\u0026#34;) ## adding bar plot for visibility graph ax1.bar(range(len(ts)), ts, color=\u0026#39;lightblue\u0026#39;, alpha=0.7) ax1.set_xlabel(\u0026#34;Time\u0026#34;) # ax1.set_ylabel(\u0026#34;Value\u0026#34;) nx.draw_networkx(nxg, ax=ax2, pos=nx.kamada_kawai_layout(nxg), **graph_plot_options) ax2.set_title(\u0026#34;Visibility Graph\u0026#34;) # ax2.tick_params(bottom=True, labelbottom=True) ax2.set_xlabel(\u0026#39;Graph\u0026#39;) Vá» máº·t toÃ¡n há»c, phÆ°Æ¡ng trÃ¬nh xÃ¢y dá»±ng mÃ´ hÃ¬nh sáº½ nhÆ° sau.\nQuan sÃ¡t dá»¯ liá»‡u, ta dá»… dÃ ng nháº­n tháº¥y má»™t hiá»‡n tÆ°á»£ng thÃº vá»‹: cÃ¡c Ä‘iá»ƒm giÃ¡ cÃ³ xu hÆ°á»›ng tá»± gom thÃ nh cÃ¡c cá»¥m. Trong bÃ i viáº¿t trÆ°á»›c, chÃºng ta Ä‘Ã£ giá»›i thiá»‡u phÆ°Æ¡ng phÃ¡p xÃ¢y dá»±ng máº¡ng vÃ  phÃ¢n cá»™ng Ä‘á»“ng (community detection) Ä‘á»ƒ nhÃ³m cÃ¡c nÃºt tÆ°Æ¡ng Ä‘á»“ng (link). á» Ä‘Ã¢y, phÆ°Æ¡ng phÃ¡p Ä‘Ã³ sáº½ tiáº¿p tá»¥c Ä‘Æ°á»£c Ã¡p dá»¥ng nháº±m phÃ¢n nhÃ³m cÃ¡c ngÃ y dá»±a trÃªn má»©c Ä‘á»™ tÆ°Æ¡ng Ä‘á»“ng trong biáº¿n Ä‘á»™ng giÃ¡, tá»« Ä‘Ã³ giÃºp xÃ¡c Ä‘á»‹nh cÃ¡c â€œregimeâ€ khÃ¡c nhau cá»§a chuá»—i thá»i gian giÃ¡ cá»• phiáº¿u. NgoÃ i ra, bÃ i viáº¿t cÅ©ng thá»­ nghiá»‡m trÃ­ch xuáº¥t thÃ´ng tin â€œalternativeâ€ tá»« dá»¯ liá»‡u máº¡ng nhÆ° lÃ  chá»‰ bÃ¡o Ä‘á»ƒ quáº£n trá»‹ rá»§i ro cho tiáº¿n lÆ°á»£c Ä‘áº§u tÆ°.\nExperiment: Regime analysis \u0026amp; Risk management indicator Regime detection TrÆ°á»›c tiÃªn, chÃºng tiáº¿n hÃ nh thá»­ nghiá»‡m Ä‘á»ƒ Ä‘i tÃ¬m kiáº¿m cÃ¡c tráº¡ng thÃ¡i â€œregimeâ€ cá»§a cá»• phiáº¿u vÃ  VNINDEX. Äá»ƒ lÃ m Ä‘Æ°á»£c Ä‘iá»u Ä‘Ã³, chÃºng ta sá»­ dá»¥ng thuáº­t toÃ¡n natural visibility Ä‘á»ƒ xÃ¢y dá»±ng network, sau Ä‘Ã³ Ã¡p dá»¥ng thuáº­t toÃ¡n Louvain Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cá»™ng Ä‘á»“ng (community).\nSÆ¡ lÆ°á»£c vá» bÃ i toÃ¡n regime detection, Ä‘Ã¢y cÃ³ thá»ƒ xem nhÆ° má»™t dáº¡ng há»c khÃ´ng giÃ¡m sÃ¡t (unsupervised learning), trong Ä‘Ã³ má»¥c tiÃªu lÃ  tá»± Ä‘á»™ng phÃ¢n nhÃ³m cÃ¡c khoáº£ng thá»i gian trong chuá»—i giÃ¡ dá»±a trÃªn Ä‘áº·c trÆ°ng thá»‘ng kÃª hoáº·c cáº¥u trÃºc Ä‘á»™ng lá»±c. Má»—i regime tÆ°Æ¡ng á»©ng vá»›i má»™t tráº¡ng thÃ¡i thá»‹ trÆ°á»ng khÃ¡c nhauâ€”cháº³ng háº¡n giai Ä‘oáº¡n biáº¿n Ä‘á»™ng tháº¥p, biáº¿n Ä‘á»™ng cao hay khá»§ng hoáº£ngâ€”vÃ  khÃ´ng cáº§n nhÃ£n trÆ°á»›c. Viá»‡c phÃ¡t hiá»‡n chÃ­nh xÃ¡c cÃ¡c regime giÃºp tá»‘i Æ°u hÃ³a chiáº¿n lÆ°á»£c giao dá»‹ch, thiáº¿t láº­p bá»™ lá»c rá»§i ro vÃ  hiá»ƒu rÃµ hÆ¡n vá» cáº¥u trÃºc Ä‘á»™ng lá»±c cá»§a thá»‹ trÆ°á»ng. Viá»‡c gom nhÃ³m sáº½ Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh báº±ng thuáº­t toÃ¡n Louvain.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 def graph_visibility_construction(df): \u0026#34;\u0026#34;\u0026#34; Construct a Natural Visibility Graph from a price series and detect communities. \u0026#34;\u0026#34;\u0026#34; symbol = df.columns[0] ts = df[symbol].values dates = df.index # Build visibility graph vg = NaturalVG(directed=None) g = vg.build(ts) nxg = g.as_networkx() # nxg = g.as_igraph() ## We can also use igraph if needed # Detect Louvain communities communities = nx.algorithms.community.louvain_communities(nxg) # communities = nxg.community_infomap() ## Using Infomap for community detection # Assign colors COLORS = [\u0026#34;#4C72B0\u0026#34;, \u0026#34;#DD8452\u0026#34;, \u0026#34;#55A868\u0026#34;, \u0026#34;#C44E52\u0026#34;, \u0026#34;#8172B3\u0026#34;, \u0026#34;#937860\u0026#34;, \u0026#34;#DA8BC3\u0026#34;, \u0026#34;#CCB974\u0026#34;, \u0026#34;#64B5CD\u0026#34;, \u0026#34;#E24A33\u0026#34;, \u0026#34;#8C72B0\u0026#34;, \u0026#34;#FFB347\u0026#34;, \u0026#34;#6BA368\u0026#34;, \u0026#34;#D9534F\u0026#34;, \u0026#34;#7E57C2\u0026#34;, \u0026#34;#A1887F\u0026#34;, \u0026#34;#E18ECF\u0026#34;, \u0026#34;#C7C05D\u0026#34;, \u0026#34;#4FAFBD\u0026#34;, \u0026#34;#F28E2B\u0026#34;] node_colors = [\u0026#34;#000000\u0026#34;] * len(ts) for cid, nodes in enumerate(communities): for n in nodes: node_colors[n] = COLORS[cid % len(COLORS)] return { \u0026#39;symbol\u0026#39;: symbol, \u0026#39;ts\u0026#39;: ts, \u0026#39;dates\u0026#39;: dates, \u0026#39;nxg\u0026#39;: nxg, \u0026#39;vg\u0026#39;: vg, \u0026#39;communities\u0026#39;: communities, \u0026#39;node_colors\u0026#39;: node_colors } Ta thu Ä‘Æ°á»£c káº¿t quáº£ nhÆ° sau, thá»­ nghiá»‡m vá»›i FPT, HPG vÃ  VNINDEX\nChuyá»ƒn Ä‘á»•i ngÆ°á»£c trá»Ÿ láº¡i thÃ nh time series thÃ¬ sáº½ trÃ´ng nhÆ° sau\nPhÆ°Æ¡ng phÃ¡p báº¯t tÆ°Æ¡ng Ä‘á»‘i chuáº©n cÃ¡c thay Ä‘á»•i cá»§a giÃ¡ cá»• phiáº¿u FPT. Vá»›i VNINDEX, viá»‡c xÃ¡c Ä‘á»‹nh regime cÅ©ng tÆ°Æ¡ng Ä‘á»‘i chÃ­nh xÃ¡c vÃ  ta cÃ³ thá»ƒ nháº­n tháº¥y Regime thá»© 7 xuáº¥t hiá»‡n 3 láº§n. Viá»‡c xÃ¡c Ä‘á»‹nh regime vá» máº·t cáº£m quan lÃ  tÆ°Æ¡ng Ä‘á»‘i chÃ­nh xÃ¡c, tuy nhiÃªn Ä‘á»ƒ thá»±c sá»± Ä‘Æ°a Ä‘Æ°á»£c regime nÃ y vÃ o trong chiáº¿n lÆ°á»£c Ä‘áº§u tÆ° thÃ¬ sáº½ cáº§n nhiá»u tÃ­nh toÃ¡n chi tiáº¿t hÆ¡n nhÆ°: cÃ¡c thÃ´ng tin mÃ´ táº£ máº¡ng nhÆ° (average shortest path, diameter, density, clustering coefficient,â€¦). Viáº¿t phÃ¡t triá»ƒn tiáº¿p tá»¥c mÃ´ hÃ¬nh regime detection nÃ y sáº½ Ä‘Æ°á»£c nhÆ°á»ng láº¡i cho báº¡n Ä‘á»c, hÃ¬!\nSá»‘ lÆ°á»£ng ngÃ y giao dá»‹ch trong tá»«ng communtiy (hay regime). Ta cÃ³ thá»ƒ tháº¥y giao Ä‘á»™ng tá»« khoáº£ng 15, 20, 40 vÃ  60 tÆ°Æ¡ng á»©ng vá»›i regime ngáº¯n thÆ°á»ng giao Ä‘á»™ng khoáº£ng 3 tuáº§n tá»›i 1 thÃ¡ng vÃ  regime dÃ i cÃ³ thá»ƒ giao Ä‘á»™ng tá»« 2-3 thÃ¡ng.\nRisk management indicator Má»™t trong nhá»¯ng á»©ng dá»¥ng khÃ¡c cá»§a mÃ´ hÃ¬nh nÃ y lÃ  xÃ¢y dá»±ng cÃ¡c chá»‰ bÃ¡o nháº±m phá»¥c vá»¥ cho viá»‡c quáº£n trá»‹ rá»§i ro. BÃ i viáº¿t sá»­ dá»¥ng 2 chá»‰ bÃ¡o\nDiameter: Trong graph theory, diameter lÃ  Ä‘á»™ dÃ i lá»›n nháº¥t trong táº¥t cáº£ cÃ¡c quáº£ng Ä‘Æ°á»ng ngáº¯n nháº¥t giá»¯a 2 node trong network. NÃ´m na cÃ³ thá»ƒ tÆ°á»Ÿng tÆ°á»£ng lÃ  tÃ¬m ra tuyáº¿n Ä‘Æ°á»ng ngáº¯n nháº¥t giá»¯a má»i cáº·p thÃ nh phá»‘ cÃ³ thá»ƒ cÃ³ trÃªn báº£n Ä‘á»“, sau Ä‘Ã³ chá»n tuyáº¿n Ä‘Æ°á»ng dÃ i nháº¥t trong sá»‘ cÃ¡c tuyáº¿n Ä‘Æ°á»ng ngáº¯n nháº¥t Ä‘Ã³ â€“ Ä‘Ã³ chÃ­nh lÃ  diamter. Diameter lá»›nÂ cho tháº¥y thá»‹ trÆ°á»ng kÃ©m káº¿t ná»‘i hÆ¡n, khi Ä‘Ã³ thÃ´ng tin sáº½ cáº§n nhiá»u bÆ°á»›c trung gian hÆ¡n Ä‘á»ƒ lan truyá»n. Äiá»u nÃ y cÃ³ thá»ƒ bÃ¡o hiá»‡u rá»§i ro tÄƒng, bá»Ÿi thá»‹ trÆ°á»ng Ä‘ang phÃ¢n máº£nh.\nBetweenness Centrality Variance: Betweenness centrality Ä‘o táº§n suáº¥t má»™t node náº±m trÃªn Ä‘Æ°á»ng Ä‘i Ä‘Æ°á»ng ngáº¯n nháº¥t (shortest path) giá»¯a cÃ¡c node khÃ¡c. Betweenness centrality cÃ³ nghÄ©a lÃ  node cÃ³ áº£nh hÆ°á»Ÿng ráº¥t lá»›n. Báº±ng cÃ¡ch láº¥y phÆ°Æ¡ng sai cá»§a cÃ¡c giÃ¡ trá»‹ nÃ y, ta Ä‘Ã¡nh giÃ¡ sá»± phÃ¢n tÃ¡n cá»§a má»©c Ä‘á»™ áº£nh hÆ°á»Ÿng: Khi variance cao cáº£nh bÃ¡o ráº±ng chá»‰ má»™t vÃ i node giá»¯ pháº§n lá»›n vai trÃ² káº¿t ná»‘i â€“ khi nhá»¯ng Ä‘iá»ƒm nÃ y biáº¿n Ä‘á»™ng, toÃ n bá»™ cáº¥u trÃºc máº¡ng dá»… bá»‹ tÃ¡c Ä‘á»™ng máº¡nh. Tá»« Ä‘Ã³ biáº¿n Ä‘á»™ng lá»›n cá»§a betweenness variance chÃ­nh lÃ  tÃ­n hiá»‡u cáº£nh bÃ¡o rá»§i ro táº­p trung, giÃºp ta phÃ¡t hiá»‡n sá»›m cÃ¡c turning point vÃ  giáº£m tá»· trá»ng vá»‹ tháº¿ ká»‹p thá»i.\nTá»« Ä‘Ã³, viá»‡c sá»­ dá»¥ng 2 chá»‰ bÃ¡o nÃ y nhÆ° má»™t cÃ´ng cá»¥ quáº£n lÃ½ rá»§i ro nháº±m Ä‘Ã¡nh giÃ¡ má»©c Ä‘á»™ rá»§i ro cá»§a cá»• phiáº¿u. BÃ i viáº¿t sáº½ thiáº¿t káº¿ má»™t hÃ m â€œactivationâ€ nhÆ° lÃ  má»™t cÃ´ng táº¯c Ä‘á»ƒ giáº£m hoáº·c bÃ¡n háº¿t danh má»¥c khi thá»‹ trÆ°á»ng vÆ°á»£t má»™t má»©c rá»§i ro nháº¥t Ä‘á»‹nh diá»…n táº£ thÃ´ng qua 2 chá»‰ bÃ¡o trÃªn. CÃ´ng cá»¥ nÃ y sáº½ Ä‘Æ°á»£c káº¿t há»£p vá»›i chiáº¿n lÆ°á»£c TSMOM (Ä‘á»c táº¡i Ä‘Ã¢y) nhÆ° lÃ  cÃ´ng cá»¥ quáº£n lÃ½ rá»§i ro cho chiáº¿n lÆ°á»£c nÃ y.\nXÃ¢y dá»±ng chá»‰ bÃ¡o\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 def rolling_graph_features(prices: pd.Series, window: int = 60): \u0026#34;\u0026#34;\u0026#34; Daily rolling visibility-graph features: - diameter (on largest component) - betw_var (variance of betweenness centrality) \u0026#34;\u0026#34;\u0026#34; dates = prices.index[window:] vg = NaturalVG(directed=None) data = {\u0026#39;diameter\u0026#39;: [], \u0026#39;betw_var\u0026#39;: []} for dt in dates: vals = prices.loc[:dt].iloc[-window:].values G = vg.build(vals).as_networkx() # diameter if nx.is_connected(G): d = nx.diameter(G) else: comp = max(nx.connected_components(G), key=len) d = nx.diameter(G.subgraph(comp)) data[\u0026#39;diameter\u0026#39;].append(d) # betweenness variance bc = np.array(list(nx.betweenness_centrality(G).values())) data[\u0026#39;betw_var\u0026#39;].append(bc.var()) return pd.DataFrame(data, index=dates) TÃ­ch há»£p cÃ´ng cá»¥ quáº£n trá»‹ rá»§i ro cho chiáº¿n lÆ°á»£c.\nChiáº¿n lÆ°á»£c TSMOM cÆ¡ báº£n:\n$$ r_{t,t+1}^{TSMOM} =\\text{signal} *\\text{position} *\\text{return} - \\text{cost}= sign(r_{t-6, t})*\\frac{0.4}{\\sigma_t}*r_{t,t+1} - \\text{cost} $$Chiáº¿n lÆ°á»£c TSMOM cÃ³ cÆ¡ cháº¿ quáº£n trá»‹ rá»§i ro\nTrong Ä‘Ã³ há»‡ sá»‘ cáº£nh bÃ¡o Ä‘á»“ thá»‹ $s_t$ Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a theo tá»«ng Ä‘oáº¡n vá»›i cÃ¡c ngÆ°á»¡ng $z_{\\rm th}=1.645$, $z_{\\max}=2.576$ vÃ  cÃ³ giáº£ trá»‹ tá»‘i thiá»ƒu lÃ  $s_{\\min}$, $z_t^D , z_t^B$ lÃ  chá»‰ bÃ¡o Dimater vÃ  Betweenness Centrality Variance Ä‘Æ°á»£c normalize.\n$$ s_t = \\begin{cases} 1, \u0026 z_t \\le z_{\\rm th},\\\\[6pt] 1 - \\dfrac{z_t - z_{\\rm th}}{\\,z_{\\max}-z_{\\rm th}\\,}\\,(1 - s_{\\min}), \u0026 z_{\\rm th} \u003c z_t \u003c z_{\\max},\\\\[8pt] s_{\\min}, \u0026 z_t \\ge z_{\\max}, \\end{cases} \\quad z_t = \\max\\{0,\\;z^D_t,\\;z^B_t\\}. $$NgoÃ i ra láº¥y max Ä‘á»ƒ\nQuan tÃ¢m ká»‹ch báº£n xáº¥u nháº¥t: báº±ng cÃ¡ch láº¥y giÃ¡ trá»‹ lá»›n nháº¥t, báº¡n Ä‘á»ƒ chá»‰ bÃ¡o nÃ o (Diamater hay Betweenness centrality variance) â€œcá»±c Ä‘oanâ€ hÆ¡n sáº½ chi phá»‘i tÃ­n hiá»‡u rá»§i ro. TÃ­nh Ä‘Æ¡n Ä‘iá»‡u (monocity): náº¿u má»™t trong hai chá»‰ bÃ¡o trá»Ÿ nÃªn rá»§i ro hÆ¡n, $z_t$ chá»‰ tÄƒng (khÃ´ng bao giá» giáº£m), Ä‘áº£m báº£o báº¡n khÃ´ng bao giá» Ä‘Ã¡nh giÃ¡ tháº¥p má»©c Ä‘á»™ rá»§i ro. NgoÃ i ra, hÃ m quáº£n trá»‹ rá»§i ro chá»‰ Ä‘Æ°á»£c kÃ­ch hoáº¡t khi cÃ¡c chá»‰ bÃ¡o vÆ°á»£t trÃªn má»©c 90% vÃ  giáº£m vá»‹ tháº¿ tá»‘i thiá»ƒu khi chá»‰ bÃ¡o vÆ°á»£t má»©c 99%.\nDÆ°á»›i 90% â†’ diá»…n biáº¿n cÃ²n trong vÃ¹ng â€œbÃ¬nh thÆ°á»ngâ€ â†’ giá»¯ nguyÃªn vá»‹ tháº¿. TrÃªn 90% â†’ báº¯t Ä‘áº§u â€œpenalizeâ€ dáº§n, cÃ ng lÃªn tá»›i 99% cÃ ng giáº£m máº¡nh. TrÃªn 99% â†’ kháº©n cáº¥p â†’ giáº£m ngay vá» má»©c tá»‘i thiá»ƒu. Giá»¯a 90â€“99%, ná»™i suy tuyáº¿n tÃ­nh tá»« 1 â†’ má»©c tá»‘i thiá»ƒu Káº¿t quáº£ lÃ  má»™t chá»‰ bÃ¡o Ä‘á»™ng: giá»¯ nguyÃªn khi thá»‹ trÆ°á»ng bÃ¬nh thÆ°á»ng, giáº£m dáº§n khi cÄƒng tháº³ng tÄƒng, vÃ  â€œgiáº£m tá»‘i Ä‘aâ€ khi cá»±c Ä‘oanâ€”táº¥t cáº£ dá»±a trÃªn nhá»¯ng má»©c cáº¯t 90% vÃ  99% quen thuá»™c trong quáº£n trá»‹ rá»§i ro.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 # === graph early-warning scaling === # (a) daily graph features â†’ weekly gf_daily = rolling_graph_features(prices, window=graph_window) gf_weekly = (gf_daily .resample(\u0026#39;W-FRI\u0026#39;).last() .reindex(weekly_ret.index, method=\u0026#39;ffill\u0026#39;)) # (b) compute threshold flags alpha = 2.0 / (warn_lookback_weeks + 1) mu_diam = gf_weekly[\u0026#39;diameter\u0026#39;].ewm(alpha=alpha, min_periods=warn_lookback_weeks//2).mean() sd_diam = gf_weekly[\u0026#39;diameter\u0026#39;].ewm(alpha=alpha, min_periods=warn_lookback_weeks//2).std() mu_betw = gf_weekly[\u0026#39;betw_var\u0026#39;].ewm(alpha=alpha, min_periods=warn_lookback_weeks//2).mean() sd_betw = gf_weekly[\u0026#39;betw_var\u0026#39;].ewm(alpha=alpha, min_periods=warn_lookback_weeks//2).std() z_diam = (gf_weekly[\u0026#39;diameter\u0026#39;] - mu_diam) / sd_diam z_betw = (gf_weekly[\u0026#39;betw_var\u0026#39;] - mu_betw) / sd_betw z_spike = pd.concat([z_diam, z_betw], axis=1).clip(lower=0).max(axis=1) # assume z_spike is a pd.Series of your maxâ€z scores z_th = 1.645 z_max = 2.576 # piecewise linear # a) between z_th and z_max, linearly ramp down ramp = 1 - ((z_spike - z_th) / (z_max - z_th)) * (1 - s_min) # b) combine into one Series risk_scale = pd.Series(1.0, index=z_spike.index) # when above threshold, use ramp but cap at s_min mask = z_spike \u0026gt; z_th risk_scale[mask] = ramp[mask].clip(lower=s_min) position_warn = signal * pos_size * risk_scale trade_cost_warn = 2 * commission * pd.Series(position_warn).diff().abs().shift(-1) strat_ret_warn = position_warn * weekly_ret.shift(-1) - trade_cost_warn Káº¿t quáº£ thu Ä‘Æ°á»£c nhÆ° sau cho cá»• phiáº¿u HPG\nMetric Buy \u0026amp; Hold TSMOM Traditional TSMOM + Graph Warning Total Return 656.45% 852.83% 1000.08% Annualized Return 24.51% 27.66% 29.66% Annualized Volatility 33.91% 29.95% 29.14% Sharpe Ratio 0.82 0.97 1.04 Sortino Ratio 1.28 1.56 1.74 Max Drawdown â€“71.62% â€“41.70% â€“41.70% 95% VaR â€“6.59% â€“5.31% â€“5.24% Káº¿t quáº£ cho cá»• phiáº¿u HPG cho tháº¥y:\nSo vá»›i TSMOM truyá»n thá»‘ng, viá»‡c thÃªm há»‡ sá»‘ cáº£nh bÃ¡o Ä‘á»“ thá»‹ giÃºp tÄƒng lá»£i nhuáº­n trung bÃ¬nh thÃªm 2% (tá»« 27.66% lÃªn 29.66%) trong khi giáº£m nháº¹ Ä‘á»™ biáº¿n Ä‘á»™ng (tá»« 29.95% xuá»‘ng 29.14%) tá»« Ä‘Ã³ Sharpe Ratio Ä‘Æ°á»£c Ä‘áº©y lÃªn tá»« 0.97 lÃªn 1.04. Má»™t má»©c tá»‘i Æ°u á»•n ğŸ™‚Â tuy nhiÃªn khÃ´ng pháº£i lÃ  xuáº¥t sáº¯c khi max drawdown váº«n giá»¯ nguyÃªn. Äiá»u nÃ y cÃ³ thá»ƒ Ä‘áº¿n tá»« viá»‡c sá»­ dá»¥ng dá»¯ liá»‡u hoáº·c thiáº¿t káº¿ cá»§a cÃ´ng cá»¥ quáº£n trá»‹ rá»§i ro chÆ°a báº¯t Ä‘Æ°á»£c Ä‘Ãºng nhá»¯ng pha giáº£m máº¡nh cá»§a thá»‹ trÆ°á»ng. Viá»‡c tá»‘i Æ°u hoáº·c xÃ¢y dá»±ng má»™t cÆ¡ cháº¿ Ä‘o lÆ°á»ng rá»§i ro khÃ¡c cÃ³ thá»ƒ Ä‘Æ°á»£c dá»… dÃ ng thá»±c hiá»‡n cho báº¡n Ä‘á»c.\nTuy nhiÃªn, viá»‡c tÃ¡ch báº¡ch cÆ¡ cháº¿ giá»¯a chiáº¿n lÆ°á»£c mua/bÃ¡n cá»• phiáº¿u vá»›i cÆ¡ cháº¿ quáº£n trá»‹ rá»§i ro cÃ³ thá»ƒ giÃºp trader dá»… dÃ ng cÃ¢n chá»‰nh Ä‘Æ°á»£c pháº§n hiá»‡u suáº¥t cá»§a chiáº¿n lÆ°á»£c hay cÆ¡ cháº¿ quáº£n trá»‹ rá»§i ro tá»« Ä‘Ã³ giÃºp cho há»‡ thá»‘ng minh báº¡ch, dá»… kiá»ƒm soÃ¡t vÃ  Ä‘Ã¡ng tin hÆ¡n.\nKáº¿t luáº­n Visibility Graph má»Ÿ ra má»™t lÄƒng kÃ­nh má»›i trong phÃ¢n tÃ­ch chuá»—i thá»i gian tÃ i chÃ­nh, giÃºp chuyá»ƒn hÃ³a nhá»¯ng quy luáº­t áº©n sÃ¢u trong chuyá»ƒn Ä‘á»™ng giÃ¡ thÃ nh cáº¥u trÃºc máº¡ng cÃ³ thá»ƒ khai thÃ¡c báº±ng cÃ¡c cÃ´ng cá»¥ cá»§a network science. Thay vÃ¬ chá»‰ dá»±a vÃ o giáº£ Ä‘á»‹nh tuyáº¿n tÃ­nh vÃ  tÃ­nh dá»«ng cá»§a mÃ´ hÃ¬nh thá»‘ng kÃª truyá»n thá»‘ng, phÆ°Æ¡ng phÃ¡p nÃ y táº­n dá»¥ng Ä‘Æ°á»£c cÃ¡c phá»¥ thuá»™c phi tuyáº¿n vÃ  kháº£ nÄƒng nháº­n diá»‡n cÃ¡c â€œregimeâ€ thá»‹ trÆ°á»ng thÃ´ng qua phÃ¢n cá»™ng Ä‘á»“ng. Viá»‡c Ã¡p dá»¥ng Natural Visibility Graph cÃ¹ng thuáº­t toÃ¡n Louvain khÃ´ng chá»‰ cho phÃ©p phÃ¡t hiá»‡n trá»±c quan cÃ¡c giai Ä‘oáº¡n cá»§a giÃ¡ cá»• phiáº¿u nÃ³i riÃªng vÃ  time series nÃ³i chung mÃ  cÃ²n cung cáº¥p ná»n táº£ng Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c chá»‰ bÃ¡o quáº£n trá»‹ rá»§i ro dá»±a trÃªn cáº¥u trÃºc máº¡ng.\nNgoÃ i ra, phÆ°Æ¡ng phÃ¡p nÃ y cÅ©ng lÃ  má»™t cÃ¡ch tiáº¿p cáº­n Ä‘áº§y tiá»m nÄƒng trong viá»‡c xÃ¢y dá»±ng cÃ¡c cÃ´ng cá»¥ quáº£n trá»‹ rá»§i ro thÃ´ng qua khai thÃ¡c thÃªm cÃ¡c Ä‘áº·c trÆ°ng máº¡ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c giai Ä‘oáº¡n stress cá»§a thá»‹ trÆ°á»ng, rá»§i ro phÃ¢n máº£nh cá»§a cá»• phiáº¿u hay chuyá»ƒn Ä‘á»•i regime Ä‘á»ƒ tá»« Ä‘Ã³ tÃ­ch há»£p vÃ o trong tá»«ng chiáº¿n lÆ°á»£c Ä‘áº§u tÆ°.\nTÃ³m láº¡i, visibility graph khÃ´ng chá»‰ lÃ  cÃ´ng cá»¥ há»— trá»£ phÃ¢n tÃ­ch chuá»—i thá»i gian mÃ  cÃ²n lÃ  ná»n táº£ng Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c chá»‰ bÃ¡o rá»§i ro mang tÃ­nh cáº¥u trÃºc vÃ  Ä‘á»™ng lá»±c. Viá»‡c tiáº¿p tá»¥c khai thÃ¡c cÃ¡c Ä‘áº·c trÆ°ng máº¡ng chuyÃªn sÃ¢u vÃ  tinh chá»‰nh cÆ¡ cháº¿ kÃ­ch hoáº¡t sáº½ giÃºp hoÃ n thiá»‡n mÃ´ hÃ¬nh, Ä‘á»“ng thá»i Ä‘em láº¡i lá»£i tháº¿ cáº¡nh tranh trong quáº£n trá»‹ rá»§i ro vÃ  tá»‘i Æ°u hÃ³a chiáº¿n lÆ°á»£c Ä‘áº§u tÆ°.\nÄá»ƒ láº¥y file code vÃ  dá»¯ liá»‡u, vui lÃ²ng gá»­i email tá»›iÂ hung.ha@miquant.vn\nReference [1] https://cbergillos.com/ts2vg/examples.html\n[2] https://www.cs.cornell.edu/home/kleinber/networks-book/\n[3] https://onlinelibrary.wiley.com/doi/epdf/10.1155/2019/5320686\n[4] https://vnquant.vn/posts/2025/2025-05-17-stock-market-network/\n[5] https://vnquant.vn/posts/2025/2025-03-24-tsmom-vietnam/\n[6] https://arxiv.org/abs/0810.0920\n","permalink":"http://localhost:1313/posts/2025/2025-06-23-graph-visibility-regime-and-risk-management/","summary":"NghiÃªn cá»©u phÃ¢n tÃ­ch thá»‹ trÆ°á»ng nháº±m xÃ¢y dá»±ng Ä‘Æ°á»£c cÆ¡ cháº¿ xÃ¡c Ä‘á»‹nh pha (regime) cá»§a thá»‹ trÆ°á»ng cÅ©ng nhÆ° cá»• phiáº¿u thÃ´ng qua cÃ¡c thuáº­t toÃ¡n liÃªn quan tá»›i graph visibility. NgoÃ i ra, bÃ i viáº¿t cÅ©ng xÃ¢y dá»±ng cÆ¡ cháº¿ quáº£n trá»‹ rá»§i ro cho chiáº¿n lÆ°á»£c Ä‘áº§u tÆ° thÃ´ng qua cÃ¡c thuáº­t toÃ¡n liÃªn quan tá»›i network science.","title":"Graph visibility for regime detection and risk management"},{"content":" BÃ i viáº¿t nÃ y thá»­ nghiá»‡m bÃ i toÃ¡n â€œCommunity detectionâ€ cho thá»‹ trÆ°á»ng chá»©ng khoÃ¡n Viá»‡t Nam (VN100) vÃ  backtest 1 chiáº¿n lÆ°á»£c dá»±a trÃªn thuáº­t toÃ¡n nÃ y.\nBÃ i viáº¿t Ä‘Æ°á»£c láº¥y Ã½ tÆ°á»Ÿng tá»«: https://arxiv.org/pdf/2112.13383\nÄá»ƒ láº¥y file code vÃ  dá»¯ liá»‡u, vui lÃ²ng gá»­i email tá»›i hung.ha@miquant.vn\nConcept Trong má»™t mÃ´i trÆ°á»ng cÃ³ nhiá»u yáº¿u tá»‘ tÆ°Æ¡ng tÃ¡c vá»›i nhau, sá»± tÆ°Æ¡ng quan (thá»ƒ hiá»‡n qua xu hÆ°á»›ng biáº¿n Ä‘á»™ng giá»‘ng nhau) lÃ  Ä‘iá»u táº¥t yáº¿u, vÃ  thá»‹ trÆ°á»ng chá»©ng khoÃ¡n cÅ©ng khÃ´ng ngoáº¡i lá»‡. Máº·c dÃ¹ má»‘i tÆ°Æ¡ng quan giá»¯a cÃ¡c cá»• phiáº¿u Ä‘Ã£ Ä‘Æ°á»£c biáº¿t Ä‘áº¿n tá»« lÃ¢u, nhÆ°ng pháº£i Ä‘áº¿n khi Harry Markowitz giá»›i thiá»‡u LÃ½ thuyáº¿t Danh má»¥c Äáº§u tÆ° Hiá»‡n Ä‘áº¡i vÃ o nÄƒm 1952, nÃ³ má»›i Ä‘Æ°á»£c Ã¡p dá»¥ng rá»™ng rÃ£i. LÃ½ thuyáº¿t nÃ y Ä‘á» xuáº¥t phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh lÆ°á»£ng Ä‘á»ƒ tá»‘i Æ°u hÃ³a danh má»¥c Ä‘áº§u tÆ° dá»±a trÃªn má»‘i tÆ°Æ¡ng quan giá»¯a cÃ¡c tÃ i sáº£n. Ká»ƒ tá»« Ä‘Ã³, viá»‡c nghiÃªn cá»©u má»‘i liÃªn há»‡ giá»¯a cÃ¡c cá»• phiáº¿u Ä‘Ã£ phÃ¡t triá»ƒn theo nhiá»u hÆ°á»›ng, trong Ä‘Ã³ viá»‡c Ã¡p dá»¥ng lÃ½ thuyáº¿t máº¡ng (Network Theory) ná»•i lÃªn nhÆ° má»™t phÆ°Æ¡ng phÃ¡p hiá»‡u quáº£ vÃ  Ä‘ang Ä‘Æ°á»£c Ä‘áº·c biá»‡t quan tÃ¢m trong giai Ä‘oáº¡n Ä‘áº§y biáº¿n Ä‘á»™ng nÃ y.\nStarting simple, correlation matrix Correlation: what is it? TÆ°Æ¡ng quan (correlation) lÃ  má»™t chá»‰ sá»‘ thá»‘ng kÃª Ä‘o lÆ°á»ng má»©c Ä‘á»™ biáº¿n Ä‘á»™ng Ä‘á»“ng thá»i giá»¯a hai biáº¿n sá»‘. Trong thá»‹ trÆ°á»ng chá»©ng khoÃ¡n, tÆ°Æ¡ng quan thÆ°á»ng Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ má»‘i liÃªn há»‡ giá»¯a giÃ¡ cá»§a cÃ¡c cá»• phiáº¿u.\nCÃ´ng thá»©c tÃ­nh há»‡ sá»‘ tÆ°Æ¡ng quan Pearson:\n$$ r = \\frac{\\sum_{i=1}^{n} (x_i - \\bar{x})(y_i - \\bar{y})}{\\sqrt{\\sum_{i=1}^{n} (x_i - \\bar{x})^2}\\sqrt{\\sum_{i=1}^{n} (y_i - \\bar{y})^2}} $$NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n, tÆ°Æ¡ng quan giá»¯a cÃ¡c cá»• phiáº¿u thá»ƒ hiá»‡n má»©c Ä‘á»™ \u0026ldquo;Ä‘á»“ng hÃ nh\u0026rdquo; cá»§a chÃºng. Khi hai cá»• phiáº¿u cÃ³ tÆ°Æ¡ng quan cao (gáº§n 1), chÃºng thÆ°á»ng tÄƒng giáº£m cÃ¹ng nhauâ€”vÃ­ dá»¥, khi má»™t cá»• phiáº¿u tÄƒng 5%, cá»• phiáº¿u kia cÅ©ng cÃ³ xu hÆ°á»›ng tÄƒng tÆ°Æ¡ng tá»±. NgÆ°á»£c láº¡i, tÆ°Æ¡ng quan Ã¢m (gáº§n -1) nghÄ©a lÃ  khi cá»• phiáº¿u nÃ y tÄƒng, cá»• phiáº¿u kia thÆ°á»ng giáº£m. TÆ°Æ¡ng quan báº±ng 0 khÃ´ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c hai cá»• phiáº¿u khÃ´ng liÃªn quan Ä‘áº¿n nhau, mÃ  chá»‰ cho tháº¥y khÃ´ng cÃ³ má»‘i liÃªn há»‡ tuyáº¿n tÃ­nh rÃµ rÃ ng trong biáº¿n Ä‘á»™ng giÃ¡ cá»§a chÃºng.\nBÃ i viáº¿t minh há»a Ä‘iá»u nÃ y qua viá»‡c so sÃ¡nh tÆ°Æ¡ng quan giá»¯a HPG vá»›i HSG vÃ  BWE. Vá»›i há»‡ sá»‘ tÆ°Æ¡ng quan 0,8 (tÃ­nh trÃªn hiá»‡u suáº¥t tuáº§n), HPG vÃ  HSG cÃ³ má»‘i tÆ°Æ¡ng quan máº¡nh. Äiá»u nÃ y dá»… hiá»ƒu bá»Ÿi cáº£ hai Ä‘á»u lÃ  doanh nghiá»‡p sáº£n xuáº¥t thÃ©p, chá»‹u tÃ¡c Ä‘á»™ng tá»« cÃ¹ng cÃ¡c yáº¿u tá»‘ thá»‹ trÆ°á»ng nhÆ° giÃ¡ nguyÃªn liá»‡u Ä‘áº§u vÃ o vÃ  nhu cáº§u xÃ¢y dá»±ng. NgÆ°á»£c láº¡i, HPG vÃ  BWE chá»‰ cÃ³ há»‡ sá»‘ tÆ°Æ¡ng quan 0,2, cho tháº¥y sá»± khÃ¡c biá»‡t trong mÃ´ hÃ¬nh kinh doanh vÃ  cÃ¡c yáº¿u tá»‘ áº£nh hÆ°á»Ÿng Ä‘áº¿n giÃ¡ cá»• phiáº¿u cá»§a hai doanh nghiá»‡p.\nQua Ä‘Ã³ cÃ³ thá»ƒ tháº¥y, cÃ¡c cá»• phiáº¿u cÃ¹ng ngÃ nh (hay rá»™ng hÆ¡n lÃ  cÃ³ chung cÃ¡c yáº¿u tá»‘ cÆ¡ báº£n) thÆ°á»ng pháº£n Ã¡nh xu hÆ°á»›ng biáº¿n Ä‘á»™ng giÃ¡ vÃ  rá»§i ro tÆ°Æ¡ng tá»± nhau, do nhÃ  Ä‘áº§u tÆ° thÆ°á»ng Ä‘á»‹nh giÃ¡ vÃ  quyáº¿t Ä‘á»‹nh dá»±a trÃªn nhá»¯ng yáº¿u tá»‘ tÆ°Æ¡ng Ä‘á»“ng. Hiá»‡n tÆ°á»£ng nÃ y táº¡o ra hiá»‡u á»©ng \u0026ldquo;cá»™ng hÆ°á»Ÿng\u0026rdquo; trong biáº¿n Ä‘á»™ng giÃ¡, khiáº¿n cÃ¡c cá»• phiáº¿u cÃ¹ng nhÃ³m ngÃ nh thÆ°á»ng di chuyá»ƒn Ä‘á»“ng thá»i vá»›i nhau. ÄÃ¢y chÃ­nh lÃ  nguá»“n gá»‘c cá»§a rá»§i ro há»‡ thá»‘ng (systematic risk).\nKhi má»Ÿ rá»™ng phÃ¢n tÃ­ch tá»« má»™t vÃ i cá»• phiáº¿u lÃªn hÃ ng chá»¥c, tháº­m chÃ­ hÃ ng trÄƒm mÃ£ (vÃ­ dá»¥ nhÆ° VN100), phÆ°Æ¡ng phÃ¡p chá»‰ dá»±a vÃ o ma tráº­n tÆ°Æ¡ng quan thuáº§n tÃºy sáº½ gáº·p pháº£i nhiá»u háº¡n cháº¿ sau:\nCurse of dimensionality Vá»›i $N$ tÃ i sáº£n, ta pháº£i tÃ­nh tá»›i $\\tfrac{N(N-1)}{2}$ cáº·p tÆ°Æ¡ng quan. Khi $\\tfrac{N(N-1)}{2}$, con sá»‘ nÃ y lÃªn tá»›i 4.950 cáº·p â€” vÆ°á»£t ra ngoÃ i kháº£ nÄƒng trá»±c quan hÃ³a vÃ  so sÃ¡nh thá»§ cÃ´ng, dáº«n Ä‘áº¿n â€œquÃ¡ táº£i thÃ´ng tinâ€. Noise vÃ  sai sá»‘ Æ°á»›c lÆ°á»£ng lá»›n Dá»¯ liá»‡u giÃ¡ luÃ´n chá»©a nhiá»u nhiá»…u vÃ  cÃ³ tÃ­nh khÃ´ng á»•n Ä‘á»‹nh theo thá»i gian. Khi sá»‘ tÃ i sáº£n tÄƒng, sai sá»‘ Æ°á»›c lÆ°á»£ng há»‡ sá»‘ tÆ°Æ¡ng quan (nháº¥t lÃ  vá»›i máº«u nhá») cÃ ng lá»›n, dá»… sinh ra cÃ¡c giÃ¡ trá»‹ tÆ°Æ¡ng quan â€œgiáº£â€ (spurious), tá»« Ä‘Ã³ gÃ¢y hiá»ƒu nháº§m vá» má»‘i quan há»‡ giá»¯a cÃ¡c cá»• phiáº¿u. KhÃ³ trÃ­ch xuáº¥t cáº¥u trÃºc Ma tráº­n tÆ°Æ¡ng quan thuáº§n tÃºy thÆ°á»ng ráº¥t â€œÄ‘áº­m Ä‘áº·câ€ (dense) â€” háº§u nhÆ° má»i cáº·p Ä‘á»u cÃ³ tÆ°Æ¡ng quan khÃ¡c 0. Äiá»u nÃ y khiáº¿n khÃ³ khÄƒn trong viá»‡c phÃ¢n nhÃ³m (clustering) hay tÃ¬m kiáº¿m cÃ¡c cáº¥u trÃºc áº©n (hidden pattern), vÃ¬ khÃ´ng cÃ³ Ä‘iá»ƒm nháº¥n rÃµ nÃ©t Ä‘á»ƒ tÃ¡ch biá»‡t cÃ¡c khá»‘i tÃ i sáº£n liÃªn quan cháº·t cháº½. From correlation to network and community Con ngÆ°á»i vá»‘n quen mÃ´ táº£ tháº¿ giá»›i qua cÃ¡c thá»±c thá»ƒ (node) vÃ  má»‘i quan há»‡ (edge): trong máº¡ng xÃ£ há»™i, má»—i ngÆ°á»i lÃ  má»™t nÃºt, cÃ¡c liÃªn há»‡ \u0026ldquo;káº¿t báº¡n\u0026rdquo;, \u0026ldquo;theo dÃµi\u0026rdquo; táº¡o thÃ nh cáº¡nh, vÃ  nhá» Ä‘Ã³ ta dá»… dÃ ng nháº­n ra gia Ä‘Ã¬nh, nhÃ³m báº¡n, hay nhá»¯ng nhÃ¢n váº­t trung tÃ¢m chá»‰ báº±ng cÃ¡ch quan sÃ¡t cáº¥u trÃºc káº¿t ná»‘i.\nTÆ° duy trá»±c quan nÃ y Ä‘Æ°á»£c Ã¡p dá»¥ng cho thá»‹ trÆ°á»ng chá»©ng khoÃ¡n: thay vÃ¬ xem xÃ©t tá»«ng cáº·p há»‡ sá»‘ tÆ°Æ¡ng quan riÃªng láº», ta biáº¿n má»—i cá»• phiáº¿u thÃ nh má»™t nÃºt (node) vÃ  dÃ¹ng Ä‘Æ°á»ng ná»‘i (edge) thá»ƒ hiá»‡n má»©c Ä‘á»™ liÃªn há»‡ vá» giÃ¡. Káº¿t quáº£ lÃ  má»™t \u0026ldquo;báº£n Ä‘á»“\u0026rdquo; máº¡ng lÆ°á»›i, nÆ¡i cÃ¡c nhÃ³m cá»• phiáº¿u cÃ¹ng ngÃ nh hay cÃ¹ng chu ká»³ kinh doanh tá»± Ä‘á»™ng hiá»‡n ra nhÆ° nhá»¯ng cá»™ng Ä‘á»“ng trong máº¡ng xÃ£ há»™i. Äiá»u nÃ y giÃºp nhÃ  Ä‘áº§u tÆ° nhanh chÃ³ng náº¯m báº¯t Ä‘Æ°á»£c cÃ¡c má»‘i liÃªn há»‡, xÃ¡c Ä‘á»‹nh Ä‘Æ°á»£c nhá»¯ng cá»• phiáº¿u Ä‘Ã³ng vai trÃ² \u0026ldquo;cáº§u ná»‘i\u0026rdquo; vÃ  nháº­n diá»‡n Ä‘Æ°á»£c cÃ¡c tÃ¢m Ä‘iá»ƒm rá»§i ro â€“ cÆ¡ há»™i mÃ  khÃ´ng cáº§n Ä‘i sÃ¢u vÃ o khá»‘i dá»¯ liá»‡u Ä‘á»“ sá»™ cá»§a ma tráº­n tÆ°Æ¡ng quan.\nTheory \u0026amp; Mathematical model Äá»ƒ biáº¿n Ä‘á»•i tá»« correlation matrix thÃ nh 1 network, bÆ°á»›c 1 ta cáº§n biáº¿n Ä‘á»•i tá»« cáº¥u trÃºc matrix thÃ nh cáº¥u trÃºc network. Sau Ä‘Ã³, tá»« network táº¡o ra, ta tiáº¿n hÃ nh gom nhÃ³m cÃ¡c cá»• phiáº¿u giá»‘ng nhau láº¡i.\nÄá»ƒ xÃ¢y dá»±ng 1 network, 2 thuáº­t toÃ¡n ná»•i tiáº¿ng lÃ  Planar Maximally Filtered Graph vÃ  Minimum Spanning Tree.\nPlanar Maximally Filtered Graph (PMFG) PMFG giá»¯ láº¡i cÃ¡c liÃªn káº¿t quan trá»ng nháº¥t trong khi buá»™c Ä‘á»“ thá»‹ pháº£i duy trÃ¬ tÃ­nh pháº³ng (planar) (cÃ³ thá»ƒ váº½ trÃªn má»™t tá» giáº¥y mÃ  khÃ´ng cÃ³ cáº¡nh nÃ o cáº¯t nhau). VÃ¬ má»™t Ä‘á»“ thá»‹ pháº³ng chá»‰ cÃ³ thá»ƒ cÃ³ tá»‘i Ä‘a $E_{\\text{PMFG}} = 3(N-2)$ cáº¡nh, bá»™ lá»c thu gá»n máº¡ng lÆ°á»›i má»™t cÃ¡ch Ä‘Ã¡ng ká»ƒ (nhÆ°ng váº«n báº£o toÃ n Ä‘Æ°á»£c gáº¥p ba láº§n thÃ´ng tin so vá»›i Minimum Spanning Tree, vá»‘n chá»‰ cÃ³ $N-1$ cáº¡nh) (Ä‘á»c kÄ© hÆ¡n táº¡i Ä‘Ã¢y: https://gmarti.gitlab.io/networks/2018/06/03/pmfg-algorithm.html).\nKáº¿t quáº£ thu Ä‘Æ°á»£c sáº½ giá»¯ láº¡i cáº¥u trÃºc cá»‘t lÃµi cá»§a cÃ¡c má»‘i quan há»‡ máº¡nh nháº¥t :). In a simple way, thay vÃ¬ giá»¯ toÃ n bá»™ N*(N-1)/2 thÃ¬ giá» chá»‰ cÃ²n tá»‘i Ä‘a 3(N-2) cáº¡nh (má»‘i quan há»‡), tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i 3*(100-2) = 294 cáº¡nh so vá»›i 4950 (giáº£m 16 láº§n)\nInput cá»§a PMFG hay MST trong trÆ°á»ng há»£p nÃ y Ä‘á»u lÃ  correlation matrix.\nCommunity detection Sau khi Ä‘Ã£ cÃ³ máº¡ng PMFG tinh gá»n, bÆ°á»›c tiáº¿p theo lÃ Â chia máº¡ng thÃ nh nhá»¯ng â€œcá»¥mâ€ (community) cá»• phiáº¿u giá»‘ng nhau. Hai cÃ¡ch phá»• biáº¿n nháº¥t lÃ Â LouvainÂ (tá»‘i Æ°u modularity) vÃ Â InfomapÂ (tá»‘i Æ°u dÃ²ng ngáº«u nhiÃªn).\nLouvain Louvain chia máº¡ng thÃ nh cá»™ng Ä‘á»“ng báº±ng cÃ¡ch tá»‘i Ä‘a hÃ³a chá»‰ sá»‘ modularityÂ Q â€“ thÆ°á»›c Ä‘o so sÃ¡nh máº­t Ä‘á»™ liÃªn káº¿t trong cá»™ng Ä‘á»“ng vá»›i máº­t Ä‘á»™ mong Ä‘á»£i náº¿u cÃ¡c cáº¡nh Ä‘Æ°á»£c ná»‘i ngáº«u nhiÃªn.\n$$ Q = \\frac{1}{2m}\\sum_{i,j}\\Bigl(A_{ij} - \\frac{k_i k_j}{2m}\\Bigr)\\delta(c_i,c_j), $$trong Ä‘Ã³:\nAij = trá»ng sá»‘ cá»§a cáº¡nh giá»¯a i vÃ  j, ki = tá»•ng trá»ng sá»‘ gáº¯n vá»›i nÃºt i, m = tá»•ng trá»ng sá»‘ cáº¡nh, Î´(ci,cj) = 1 náº¿u cÃ¡c nÃºt cÃ¹ng cá»™ng Ä‘á»“ng. Thuáº­t toÃ¡n LouvainÂ hoáº¡t Ä‘á»™ng láº·p Ä‘i láº·p láº¡i. Ban Ä‘áº§u, má»—i cá»• phiáº¿u Ä‘Æ°á»£c coi lÃ  má»™t cá»™ng Ä‘á»“ng riÃªng. Sau Ä‘Ã³, thuáº­t toÃ¡n kiá»ƒm tra tá»«ng cá»• phiáº¿u vÃ  phÃ¢n bá»• láº¡i nÃ³ vÃ o cá»™ng Ä‘á»“ng lÃ¢n cáº­n mÃ  viá»‡c di chuyá»ƒn Ä‘Ã³ mang láº¡i sá»± gia tÄƒng lá»›n nháº¥t vá»Â modularityÂ â€“ má»™t thÆ°á»›c Ä‘o máº­t Ä‘á»™ cÃ¡c liÃªn káº¿t bÃªn trong cÃ¡c cá»™ng Ä‘á»“ng so vá»›i cÃ¡c liÃªn káº¿t giá»¯a cÃ¡c cá»™ng Ä‘á»“ng. QuÃ¡ trÃ¬nh nÃ y Ä‘Æ°á»£c láº·p láº¡i cho Ä‘áº¿n khi khÃ´ng cÃ²n sá»± di chuyá»ƒn nÃ o cáº£i thiá»‡nÂ modularity. Khi giai Ä‘oáº¡n nÃ y hoÃ n thÃ nh, má»—i cá»™ng Ä‘á»“ng Ä‘Æ°á»£c nÃ©n láº¡i thÃ nh má»™t \u0026ldquo;siÃªu nÃºt\u0026rdquo; duy nháº¥t, vÃ  quÃ¡ trÃ¬nh phÃ¢n bá»• láº¡i cÃ¡c siÃªu nÃºt nÃ y Ä‘Æ°á»£c láº·p láº¡i.\nViá»‡c tinh chá»‰nh vÃ  nÃ©n láº·p Ä‘i láº·p láº¡i nÃ y tiáº¿p tá»¥c cho Ä‘áº¿n khi cáº¥u trÃºc cá»™ng Ä‘á»“ng á»•n Ä‘á»‹nh. TrÃªn thá»±c táº¿, cÃ¡c cá»• phiáº¿u cÃ³ tÆ°Æ¡ng quan cáº·p Ä‘Ã´i cao, cháº³ng háº¡n nhÆ° HPG, HSG vÃ  NKG, cÃ³ xu hÆ°á»›ng nhÃ³m láº¡i vá»›i nhau trong má»™t cá»™ng Ä‘á»“ng \u0026ldquo;thÃ©p\u0026rdquo;, trong khi VCB, BID vÃ  CTG há»£p nháº¥t thÃ nh má»™t cá»™ng Ä‘á»“ng \u0026ldquo;ngÃ¢n hÃ ng\u0026rdquo;. Sau vÃ i láº§n láº·p, Louvain thÆ°á»ng há»™i tá»¥ vá» má»™t phÃ¢n vÃ¹ng á»•n Ä‘á»‹nh cá»§a máº¡ng lÆ°á»›i thÃ nh cÃ¡c cá»™ng Ä‘á»“ng dÃ y Ä‘áº·c, Ä‘Æ°á»£c tÃ¡ch biá»‡t rÃµ rÃ ng, thÆ°á»ng tÆ°Æ¡ng á»©ng vá»›i cÃ¡c lÄ©nh vá»±c kinh táº¿ rÃµ rÃ ng nhÆ° thÃ©p, ngÃ¢n hÃ ng hoáº·c cÃ´ng nghá»‡/bÃ¡n láº» (vÃ­ dá»¥: FPT, MWG), mÃ  khÃ´ng yÃªu cáº§u cÃ¡c nhÃ£n ngÃ nh Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c.\nInfoMap Infomap xem máº¡ng lÆ°á»›i nhÆ° má»™t quÃ¡ trÃ¬nh Ä‘i ngáº«u nhiÃªn (random walk) qua cÃ¡c nÃºt vÃ  cáº¡nh vÃ  Ä‘i tá»‘i thiá»ƒu hoÃ¡ Ä‘á»™ khÃ´ng cháº¯c cháº¯n - uncertainty (entropy) cá»§a chuá»—i di chuyá»ƒn nÃ y.\n$$ L(M) = q_{\\curvearrowright}H(Q) + \\sum_{i=1}^{m} p_{\\circlearrowright}^{\\,i} \\, H(P^{i}) $$ $q_{\\curvearrowright}$: xÃ¡c suáº¥t thoÃ¡t khá»i má»™t module H(Q): entropy cá»§a mÃ£ thoÃ¡t $p_{\\circlearrowright}$: xÃ¡c suáº¥t á»Ÿ láº¡i trong module i H(Pi): entropy cá»§a cÃ¡c di chuyá»ƒn trong module Thuáº­t toÃ¡n InfomapÂ tiáº¿p cáº­n viá»‡c phÃ¡t hiá»‡n cá»™ng Ä‘á»“ng báº±ng cÃ¡ch mÃ´ phá»ng má»™tÂ random walkÂ (bÆ°á»›c Ä‘i ngáº«u nhiÃªn) trÃªn cÃ¹ng network. Ã tÆ°á»Ÿng cá»‘t lÃµi lÃ  má»™t ngÆ°á»i Ä‘i ngáº«u nhiÃªn (random walker) cÃ³ kháº£ nÄƒng á»Ÿ láº¡i trong cÃ¡c vÃ¹ng Ä‘Æ°á»£c káº¿t ná»‘i dÃ y Ä‘áº·c (dense) trong thá»i gian dÃ i hÆ¡n. Báº±ng cÃ¡ch gÃ¡n mÃ£ ngáº¯n hÆ¡n cho cÃ¡c phÃ¢n Ä‘oáº¡n Ä‘Æ°á»ng Ä‘i bÃªn trong cÃ¡c cá»™ng Ä‘á»“ng nÃ y vÃ  mÃ£ dÃ i hÆ¡n cho cÃ¡c chuyá»ƒn Ä‘á»•i giá»¯a cÃ¡c cá»™ng Ä‘á»“ng, thuáº­t toÃ¡n xÃ¡c Ä‘á»‹nh hiá»‡u quáº£ cÃ¡c module.\nHÃ£y hÃ¬nh dung random walker nÃ y cÃ³ nhiá»u kháº£ nÄƒng di chuyá»ƒn giá»¯a cÃ¡c cá»• phiáº¿u cÃ³ tÆ°Æ¡ng quan cao. Thuáº­t toÃ¡n Infomap tÃ¬m cÃ¡ch chia máº¡ng lÆ°á»›i thÃ nh cÃ¡c nhÃ³m (cá»™ng Ä‘á»“ng) sao cho ngÆ°á»i Ä‘i bá»™ ngáº«u nhiÃªn cÃ³ xu hÆ°á»›ng á»Ÿ láº¡i trong cÃ¹ng má»™t nhÃ³m trong thá»i gian dÃ i. Khi ngÆ°á»i Ä‘i bá»™ di chuyá»ƒn tá»« nhÃ³m nÃ y sang nhÃ³m khÃ¡c, Ä‘iá»u Ä‘Ã³ giá»‘ng nhÆ° viá»‡c cáº§n \u0026ldquo;thÃ´ng bÃ¡o\u0026rdquo; ráº±ng há» Ä‘Ã£ rá»i khá»i nhÃ³m hiá»‡n táº¡i vÃ  vÃ o má»™t nhÃ³m má»›i. Infomap tÃ¬m cÃ¡ch phÃ¢n chia máº¡ng lÆ°á»›i sao cho sá»‘ láº§n \u0026ldquo;thÃ´ng bÃ¡o\u0026rdquo; nÃ y (sá»‘ láº§n di chuyá»ƒn giá»¯a cÃ¡c nhÃ³m) Ä‘Æ°á»£c giáº£m thiá»ƒu. CÃ¡c vÃ¹ng mÃ  ngÆ°á»i Ä‘i bá»™ dÃ nh pháº§n lá»›n thá»i gian cá»§a há» - di chuyá»ƒn qua láº¡i giá»¯a cÃ¡c cá»• phiáº¿u cÃ³ liÃªn quan cháº·t cháº½ - Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh lÃ  cÃ¡c module hoáº·c cá»™ng Ä‘á»“ng. Bá»Ÿi vÃ¬ ngÆ°á»i Ä‘i bá»™ mÃ´ phá»ng cÃ³ xu hÆ°á»›ng \u0026ldquo;dá»«ng chÃ¢n\u0026rdquo; lÃ¢u hÆ¡n giá»¯a cÃ¡c cá»• phiáº¿u tÆ°Æ¡ng quan cao, thuáº­t toÃ¡n nÃ y cÅ©ng cÃ³ xu hÆ°á»›ng nhÃ³m HPG, HSG vÃ  NKG láº¡i vá»›i nhau, vÃ  giá»¯ bá»™ ba ngÃ¢n hÃ ng VCB, BID, CTG trong cÃ¹ng má»™t module.\nThuáº­t toÃ¡n Tá»‘i Æ°u tiÃªu chÃ­ CÃ¡ch tiáº¿p cáº­n Æ¯u Ä‘iá»ƒm NhÆ°á»£c Ä‘iá»ƒm Louvain Modularity Q Greedy optimization Ráº¥t nhanh, hiá»‡u quáº£, cÃ³ thá»ƒ Ã¡p dá»¥ng cho máº¡ng lá»›n CÃ³ thá»ƒ máº¯c káº¹t á»Ÿ tá»‘i Æ°u cá»¥c bá»™, khÃ³ phÃ¡t hiá»‡n cá»™ng Ä‘á»“ng nhá» hoáº·c chá»“ng láº¥n Infomap Entropy (Description Length) Random Walk PhÃ¢n biá»‡t tá»‘t cÃ¡c cá»™ng Ä‘á»“ng nhá» vÃ  chá»“ng láº¥n, cho káº¿t quáº£ â€œkÄ©â€ hÆ¡n Cháº¡y cháº­m hÆ¡n Louvain, nháº¡y cáº£m vá»›i cáº¥u trÃºc máº¡ng vÃ  random. Äá»c kÄ© hÆ¡n 2 thuáº­t toÃ¡n nÃ y táº¡i Ä‘Ã¢y: https://www.statworx.com/en/content-hub/blog/community-detection-with-louvain-and-infomap\nTÃ³m gá»n láº¡i, ta sáº½ xÃ¢y dá»±ng máº¡ng vÃ  sá»­ dá»¥ng thuáº­t toÃ¡n community detection nhÆ° sau\nB1: XÃ¢y dá»±ng máº¡ng (network) - Sá»­ dá»¥ng PMFG\nB2: Tiáº¿n hÃ nh gom nhÃ³m (coloring graph): Louvain hoáº·c InfoMap. 2 thuáº­t toÃ¡n cÃ³ 2 cÃ¡ch tiáº¿p cáº­n khÃ¡c nhau.\nMáº·c dÃ¹ lÃ½ thuyáº¿t ráº¥t phá»©c táº¡p, nhÆ°ng implement báº±ng python thÃ¬ ráº¥t Ä‘Æ¡n giáº£n vÃ¬ ráº¥t nhiá»u thÆ° viá»‡n há»— trá»£ rá»“i! So lucky to be living in the 21st century.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 import igraph as ig import community as louvain import networkx as nx def build_pmfg(corr): tickers = corr.columns.tolist() N = len(tickers) dists = np.sqrt(2 * (1 - corr.values)) edges = [(i, j, dists[i, j]) for i in range(N) for j in range(i)] edges.sort(key=lambda x: x[2]) G = nx.Graph() G.add_nodes_from(range(N)) max_edges = 3 * (N - 2) for u, v, w in edges: if G.number_of_edges() \u0026gt;= max_edges: break G.add_edge(u, v, weight=w) if not nx.check_planarity(G, False)[0]: G.remove_edge(u, v) return nx.relabel_nodes(G, dict(enumerate(tickers))) def detect_communities_infomap(G): tickers = list(G.nodes) g = ig.Graph() g.add_vertices(len(tickers)) g.vs[\u0026#34;name\u0026#34;] = tickers edges = [(tickers.index(u), tickers.index(v)) for u, v in G.edges()] weights = [1.0 / G[u][v][\u0026#34;weight\u0026#34;] for u, v in G.edges()] g.add_edges(edges) g.es[\u0026#34;weight\u0026#34;] = weights communities = g.community_infomap(edge_weights=\u0026#34;weight\u0026#34;, trials=10) return [[g.vs[idx][\u0026#34;name\u0026#34;] for idx in comm] for comm in communities] def detect_communities_louvain(G): for u, v, d in G.edges(data=True): d[\u0026#39;weight\u0026#39;] = 1.0 / d[\u0026#39;weight\u0026#39;] partition = louvain.best_partition(G, weight=\u0026#39;weight\u0026#39;) comms = {} for node, cid in partition.items(): comms.setdefault(cid, []).append(node) return list(comms.values()) Experiments: VN100 Sau khi ta Ä‘Ã£ phÃ¢n tÃ­ch Ä‘Æ°á»£c cÃ¡c community cá»§a cÃ¡c cá»• phiáº¿u , ta thá»­ nghiá»‡m 1 chiáº¿n lÆ°á»£c Ä‘Æ¡n giáº£n: â€œMua cá»• phiáº¿u cÃ³ Sharpe cao nháº¥t trong 300 ngÃ y vá»«a qua cá»§a má»—i cá»¥m vÃ  náº¯m giá»¯ trong vÃ²ng 60 ngÃ y tiáº¿p theoâ€. Tá»· trá»ng sáº½ Ä‘Æ°á»£c phÃ¢n bá»• Ä‘á»u (equal weighted) cho cÃ¡c cá»• phiáº¿u Ä‘Æ°á»£c chá»n. Viá»‡c tÃ¡i cÃ¢n báº±ng danh má»¥c Ä‘Æ°á»£c thá»±c hiá»‡n sau má»—i 60 ngÃ y.\nChiáº¿n lÆ°á»£c nÃ y khÃ´ng nháº±m â€œdá»± Ä‘oÃ¡n giÃ¡ cá»• phiáº¿uâ€, mÃ  cung cáº¥p má»™t bá»™ lá»c \u0026amp; phÃ¢n bá»• danh má»¥c há»£p lÃ½ dá»±a trÃªn cáº¥u trÃºc thá»‹ trÆ°á»ng.\nSample danh má»¥c hiá»‡n táº¡i (2025-01-03)\nSá»‘ lÆ°á»£ng Infomap Louvain 1 BMP BMP 2 LPB LPB 3 FPT FPT 4 CTD DBC 5 DBC VPI 6 IMP IMP 7 HCM KDH 8 KDH 9 TLG 2 chiáº¿n lÆ°á»£c chá»‰ khÃ¡c nhau phÆ°Æ¡ng phÃ¡p â€œcommunity detectionâ€ mÃ  sá»± khÃ¡c biá»‡t Ä‘Ã£ khÃ¡c lá»›n Ä‘Ãºng khÃ´ng!\nChiáº¿n lÆ°á»£c Lá»£i nhuáº­n háº±ng nÄƒm Biáº¿n Ä‘á»™ng háº±ng nÄƒm Sharpe Max drawdown InfoMap 22.07 24.5 0.90 -42.85 Louvain 16.71 26.21 0.64 -47.26 VNINDEX 12.53 19.83 0.63 -40.34 Tá»« káº¿t quáº£ thá»­ nghiá»‡m trÃªn, ta cÃ³ thá»ƒ tháº¥y:\nChiáº¿n lÆ°á»£c sá»­ dá»¥ng InfoMap cho káº¿t quáº£ tá»‘t hÆ¡n vá»›i Sharpe ratio 0.90, cao hÆ¡n Ä‘Ã¡ng ká»ƒ so vá»›i Louvain (0.64) vÃ  VNINDEX (0.63) Lá»£i nhuáº­n háº±ng nÄƒm cá»§a InfoMap (22.07%) cÅ©ng vÆ°á»£t trá»™i hÆ¡n Louvain (16.71%) vÃ  VNINDEX (12.53%) Tuy nhiÃªn, biáº¿n Ä‘á»™ng cá»§a cáº£ hai chiáº¿n lÆ°á»£c (24.5% vÃ  26.21%) Ä‘á»u cao hÆ¡n VNINDEX (19.83%). Drawdown tá»‘i Ä‘a cá»§a hai chiáº¿n lÆ°á»£c (-42.85% vÃ  -47.26%) cÅ©ng lá»›n hÆ¡n so vá»›i VNINDEX (-40.34%), pháº£n Ã¡nh rá»§i ro giáº£m giÃ¡ lá»›n hÆ¡n Tuy nhiÃªn, rá»§i ro cÃ³ thá»ƒ Ä‘Æ°á»£c háº¡n cháº¿ náº¿u sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p tá»‘i Æ°u hoÃ¡ khÃ¡c so vá»›i equal weighted nhÆ° thá»­ nghiá»‡m nÃ y.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 def select_portfolio(returns_window, communities): sharpe = returns_window.mean() / returns_window.std() K = len(communities) weights = {} for comm in communities: best = sharpe[comm].idxmax() weights[best] = 1.0 / K return weights def backtest_and_save(df, method=\u0026#34;infomap\u0026#34;, window=300, step=60): df = df.ffill().dropna(axis=1) returns = compute_returns(df) portfolios, metrics, all_returns = {}, [], [] for t in range(window, len(returns), step): if t + step \u0026gt; len(returns): break label = returns.index[t].strftime(\u0026#34;%Y-%m-%d\u0026#34;) windowed = returns.iloc[t-window:t] out = returns.iloc[t:t+step] G = build_pmfg(windowed.corr()) if method == \u0026#34;infomap\u0026#34;: comms = detect_communities_infomap(G) elif method == \u0026#34;louvain\u0026#34;: comms = detect_communities_louvain(G) else: raise ValueError(\u0026#34;Unknown method\u0026#34;) weights = select_portfolio(windowed, comms) portfolios[label] = weights visualize_and_save(G, comms, label, method) port_series = out[list(weights)].dot(pd.Series(weights)).rename(\u0026#34;rets\u0026#34;) port_series = port_series.reset_index().rename(columns={\u0026#34;index\u0026#34;: \u0026#34;timestamps\u0026#34;}) all_returns.append(port_series) cum = (1+port_series[\u0026#34;rets\u0026#34;]).prod()-1 vol = port_series[\u0026#34;rets\u0026#34;].std()*np.sqrt(252) sr = port_series[\u0026#34;rets\u0026#34;].mean()/port_series[\u0026#34;rets\u0026#34;].std()*np.sqrt(252) metrics.append({\u0026#34;period\u0026#34;: label, \u0026#34;CumReturn\u0026#34;: cum, \u0026#34;Volatility\u0026#34;: vol, \u0026#34;Sharpe\u0026#34;: sr}) final_df = pd.concat(all_returns, axis=0).reset_index(drop=True) final_df.to_csv(f\u0026#34;data/{method}/raw_returns.csv\u0026#34;, index=False) pd.DataFrame(metrics).set_index(\u0026#34;period\u0026#34;).to_csv(f\u0026#34;data/{method}/metrics.csv\u0026#34;) with open(f\u0026#34;data/{method}/portfolios.json\u0026#34;, \u0026#34;w\u0026#34;) as f: json.dump(portfolios, f, indent=2) NgoÃ i ra, InfoMap cÃ³ hiá»‡u suáº¥t tá»‘t hÆ¡n trong trÆ°á»ng há»£p nÃ y. Louvain thÆ°á»ng cÃ³ xu hÆ°á»›ng gom cÃ¡c nhÃ³m láº¡i thÃ nhÂ cá»™ng Ä‘á»“ng lá»›n, do thuáº­t toÃ¡n Æ°u tiÃªn tá»‘i Ä‘a hÃ³a modularity â€“ má»™t Ä‘áº¡i lÆ°á»£ng cÃ³ thá»ƒ bá»‹ \u0026ldquo;báº«y tá»‘i Æ°u cá»¥c bá»™\u0026rdquo;, dáº«n Ä‘áº¿n cá»™ng Ä‘á»“ng bá»‹ trá»™n láº«n (vÃ­ dá»¥: nhÃ³m cá»• phiáº¿u ngÃ¢n hÃ ng cÃ³ thá»ƒ bá»‹ gom chung vá»›i cá»• phiáº¿u tÃ i chÃ­nh hoáº·c báº£o hiá»ƒm). Trong khi Ä‘Ã³, Infomap, nhá» Ä‘áº·c tÃ­nh tá»‘i Æ°u â€œentropyâ€, thÆ°á»ngÂ tÃ¡ch rá»iÂ Ä‘Æ°á»£c cÃ¡c nhÃ³m hoáº¡t Ä‘á»™ng cháº·t cháº½ hÆ¡n, nhÆ° nhÃ³m \u0026ldquo;thÃ©p\u0026rdquo;, \u0026ldquo;ngÃ¢n hÃ ng\u0026rdquo;, hay \u0026ldquo;bÃ¡n láº» - cÃ´ng nghá»‡\u0026rdquo; mÃ  khÃ´ng bá»‹ pha táº¡p.\nNgoÃ i ra, cÃ²n ráº¥t nhiá»u thuáº­t toÃ¡n community detection khÃ¡c nhÆ° : Walktrap, Clique Percolation Method, Leiden,.. mÃ  báº¡n Ä‘á»c cÃ³ thá»ƒ thá»­ nghiá»‡m.\nThuáº­t toÃ¡n Tá»‘i Æ°u tiÃªu chÃ­ CÃ¡ch tiáº¿p cáº­n Æ¯u Ä‘iá»ƒm NhÆ°á»£c Ä‘iá»ƒm Louvain Modularity Q Heuristic Ráº¥t nhanh, hiá»‡u quáº£, cÃ³ thá»ƒ Ã¡p dá»¥ng cho máº¡ng lá»›n CÃ³ thá»ƒ máº¯c káº¹t á»Ÿ tá»‘i Æ°u cá»¥c bá»™, khÃ³ phÃ¡t hiá»‡n cá»™ng Ä‘á»“ng nhá» hoáº·c chá»“ng láº¥n Infomap Entropy (Description Length) Random Walk PhÃ¢n biá»‡t tá»‘t cÃ¡c cá»™ng Ä‘á»“ng nhá» vÃ  chá»“ng láº¥n, cho káº¿t quáº£ sáº¯c nÃ©t hÆ¡n Cháº¡y cháº­m hÆ¡n Louvain, nháº¡y cáº£m vá»›i cáº¥u trÃºc máº¡ng vÃ  ngáº«u nhiÃªn hÃ³a Conclusion NghiÃªn cá»©u nÃ y thá»­ nghiá»‡m viá»‡c Ã¡p dá»¥ng network theory vÃ  community detection trong thá»‹ trÆ°á»ng chá»©ng khoÃ¡n Viá»‡t Nam (VN100). Káº¿t quáº£ cho tháº¥y:\nPhÆ°Æ¡ng phÃ¡p phÃ¡t hiá»‡n cá»™ng Ä‘á»“ng cÃ³ thá»ƒ giÃºp hiá»ƒu rÃµ hÆ¡n vá» cáº¥u trÃºc thá»‹ trÆ°á»ng vÃ  má»‘i quan há»‡ giá»¯a cÃ¡c cá»• phiáº¿u Chiáº¿n lÆ°á»£c Ä‘áº§u tÆ° dá»±a trÃªn InfoMap cho káº¿t quáº£ vÆ°á»£t trá»™i hÆ¡n so vá»›i Louvain vÃ  VNINDEX vá» máº·t Sharpe ratio vÃ  lá»£i nhuáº­n Tuy nhiÃªn, cÃ¡c chiáº¿n lÆ°á»£c nÃ y cÅ©ng Ä‘i kÃ¨m vá»›i rá»§i ro cao hÆ¡n thá»ƒ hiá»‡n qua biáº¿n Ä‘á»™ng vÃ  drawdown lá»›n hÆ¡n NghiÃªn cá»©u nÃ y má»Ÿ ra hÆ°á»›ng phÃ¡t triá»ƒn tiáº¿p theo báº±ng cÃ¡ch:\nThá»­ nghiá»‡m cÃ¡c thuáº­t toÃ¡n phÃ¡t hiá»‡n cá»™ng Ä‘á»“ng khÃ¡c Ãp dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p tá»‘i Æ°u hÃ³a danh má»¥c Ä‘áº§u tÆ° thay vÃ¬ phÃ¢n bá»• Ä‘á»u Káº¿t há»£p vá»›i cÃ¡c chá»‰ bÃ¡o ká»¹ thuáº­t khÃ¡c Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u suáº¥t Cuá»‘i cÃ¹ng, phÆ°Æ¡ng phÃ¡p nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° má»™t cÃ´ng cá»¥ há»— trá»£ trong viá»‡c ra quyáº¿t Ä‘á»‹nh Ä‘áº§u tÆ°, khÃ´ng nÃªn Ä‘Æ°á»£c sá»­ dá»¥ng má»™t cÃ¡ch Ä‘á»™c láº­p mÃ  nÃªn káº¿t há»£p vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p phÃ¢n tÃ­ch khÃ¡c.\nReference [1] https://arxiv.org/pdf/2112.13383\n[2] https://gmarti.gitlab.io/networks/2018/06/03/pmfg-algorithm.html\n[3] https://www.statworx.com/en/content-hub/blog/community-detection-with-louvain-and-infomap\n[4] ChatGPT o3 :)\n","permalink":"http://localhost:1313/posts/2025/2025-05-17-stock-market-network/","summary":"NghiÃªn cá»©u phÃ¢n tÃ­ch thá»‹ trÆ°á»ng chá»©ng khoÃ¡n VN100 báº±ng phÆ°Æ¡ng phÃ¡p phÃ¡t hiá»‡n cá»™ng Ä‘á»“ng (Community detection) thÃ´ng qua PMFG káº¿t há»£p vá»›i InfoMap/Louvain. Káº¿t quáº£ cho tháº¥y chiáº¿n lÆ°á»£c Ä‘áº§u tÆ° dá»±a trÃªn network nÃ y mang láº¡i hiá»‡u suáº¥t cao hÆ¡n VNINDEX.","title":"Community detection for VN100"},{"content":" Time Series Momentum - TSMOM, Ä‘Æ°á»£c Moskowitz, Ooi vÃ  Pedersen (2012), lÃ  má»™t trong nhá»¯ng chiáº¿n lÆ°á»£c factor investing ná»•i báº­t vÃ  Ä‘Æ°á»£c nhiá»u nhÃ  phÃ¢n tÃ­ch, nhÃ  nghiÃªn cá»©u thá»­ nghiá»‡m trÃªn Ä‘a dáº¡ng thá»‹ trÆ°á»ng. HÃ´m nay chÃºng ta sáº½ tÃ¬m hiá»ƒu vá» chiáº¿n lÆ°á»£c nÃ y, xem xÃ©t cÃ¡ch há» kiá»ƒm Ä‘á»‹nh cÃ¡c giáº£ thuyáº¿t vÃ  xÃ¢y dá»±ng nÃªn má»™t chiáº¿n lÆ°á»£c factor investing.\nConcept KhÃ¡c vá»›i XSMOM (Cross sectional momentum , báº¡n cÃ³ thá»ƒ Ä‘á»c táº¡i Ä‘Ã¢y), TSMOM táº­p trung vÃ o khai thÃ¡c Ä‘á»™ng lÆ°á»£ng cá»§a cá»• phiáº¿u Ä‘Ã³ so vá»›i quÃ¡ khá»© cá»§a chÃ­nh nÃ³ (thay vÃ¬ nhÃ¬n con nhÃ  ngÆ°á»i ta vÃ  so sÃ¡nh vá»›i há», thÃ¬ TSMOM lÃ  vÆ°á»£t lÃªn chÃ­nh mÃ¬nh lÃ  Ä‘Æ°á»£c rá»“i, haha). Chiáº¿n lÆ°á»£c nÃ y dá»±a trÃªn giáº£ thuyáº¿t ráº±ng xu hÆ°á»›ng giÃ¡ cÃ³ tÃ­nh liÃªn tá»¥c (persistence) vÃ  cÃ³ thá»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c pháº§n nÃ o dá»±a trÃªn lá»‹ch sá»­ giÃ¡. Thay vÃ¬ so sÃ¡nh hiá»‡u suáº¥t giá»¯a cÃ¡c tÃ i sáº£n nhÆ° XSMOM, TSMOM xem xÃ©t liá»‡u má»™t tÃ i sáº£n cÃ³ duy trÃ¬ Ä‘Æ°á»£c Ä‘Ã  tÄƒng/giáº£m cá»§a chÃ­nh nÃ³ hay khÃ´ng.\nQuantopia cÃ³ 1 bÃ i viáº¿t vÃ  video ráº¥t sÃ¢u vá» TSMOM: link\nOK, khÃ¡i niá»‡m ráº¥t Ä‘Æ¡n giáº£n. Giáº£ thuyáº¿t cá»§a chÃºng ta lÃ : \u0026ldquo;Cá»• phiáº¿u sáº½ tiáº¿p tá»¥c Ä‘Ã  tÄƒng/giáº£m dá»±a trÃªn hiá»‡u suáº¥t trong quÃ¡ khá»©\u0026rdquo;. HÃ£y cÃ¹ng kiá»ƒm Ä‘á»‹nh giáº£ thuyáº¿t nÃ y cho thá»‹ trÆ°á»ng Viá»‡t Nam nhÃ©.\nBÃ i viáº¿t nÃ y sáº½ cá»‘ gáº¯ng xÃ¢y dá»±ng láº¡i cÃ¡c thá»­ nghiá»‡m vÃ  giáº£ thuyáº¿t dá»±a trÃªn:\nhttps://pages.stern.nyu.edu/~lpederse/papers/TSMOM_Slides.pdf\nRegression and evidence Há» báº¯t Ä‘áº§u vá»›i Ä‘á»™ biáº¿n Ä‘á»™ng (volatility) nhÆ° má»™t biáº¿n chuáº©n hÃ³a cho lá»£i nhuáº­n vÃ¬ má»—i cá»• phiáº¿u cÃ³ má»©c Ä‘á»™ volatile khÃ¡c nhau. Trong bÃ i viáº¿t, há» sá»­ dá»¥ng mÃ´ hÃ¬nh EWMA Ä‘Æ¡n giáº£n Ä‘á»ƒ tÃ­nh toÃ¡n Ä‘á»™ rá»§i ro (volatility).\n$$ \\sigma_t^2\\;=\\;261\\sum_{i=0}^\\infty(1-\\delta)\\,\\delta^i\\bigl(r_{t-1-i} - \\overline{r}_t\\bigr)^2 $$Vá»›i:\nÏƒÂ²â‚œ lÃ  phÆ°Æ¡ng sai táº¡i thá»i Ä‘iá»ƒm t 261 lÃ  sá»‘ ngÃ y giao dá»‹ch trong nÄƒm â†’ chÃºng ta sáº½ Ä‘á»•i tham sá»‘ nÃ y thÃ nh 252 cho thá»‹ trÆ°á»ng Viá»‡t Nam. Î´ (delta) lÃ  há»‡ sá»‘ suy giáº£m. Má»™t cÃ¡ch tÃ­nh toÃ¡n Ä‘á»ƒ gÃ¡n trá»ng sá»‘ cao hÆ¡n cho dá»¯ liá»‡u gáº§n Ä‘Ã¢y vÃ  giáº£m dáº§n theo thá»i gian. â†’ pháº£n áº£nh biáº¿n Ä‘á»™ng gáº§n Ä‘Ã¢y quan trá»ng hÆ¡n. CÃ¡ch tÃ­nh nÃ y khÃ¡c Ä‘á»™ biáº¿n Ä‘á»™ng volatility thÃ´ng thÆ°á»ng khi Ä‘á»™ biáº¿n Ä‘á»™ng má»i ngÃ y trong khoáº£ng thá»i gian quan sÃ¡t cÃ³ Ä‘á»™ quan trá»ng giá»‘ng nhau. râ‚œâ‚‹â‚â‚‹áµ¢ lÃ  lá»£i nhuáº­n táº¡i thá»i Ä‘iá»ƒm t-1-i rÌ„â‚œ lÃ  lá»£i nhuáº­n trung bÃ¬nh Volatility thu Ä‘Æ°á»£c tá»« cÃ´ng thá»©c nÃ y sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chuáº©n hÃ³a lá»£i nhuáº­n, giÃºp so sÃ¡nh cÃ´ng báº±ng giá»¯a cÃ¡c cá»• phiáº¿u cÃ³ má»©c Ä‘á»™ biáº¿n Ä‘á»™ng khÃ¡c nhau.\nLetâ€™s code it in python\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 def exante_volatility(returns, com=60, annualization=252): \u0026#34;\u0026#34;\u0026#34; Compute the ex ante annualized volatility using an exponentially weighted variance. The formula is: Ïƒ_t^2 = 252 * Î£_{i=0}^âˆ w_i (r_{t-1-i} - rÌ„_t)^2, Parameters: returns (pd.Series): Asset returns. com (int): Center of mass for the exponential weights (default is 60). annualization: annualization factor - default is 252 Returns: pd.Series: The ex ante volatility Ïƒ_t (annualized by multiplying the variance by 261). Volatility is computed using returns up to t-1. \u0026#34;\u0026#34;\u0026#34; ewm_variance = returns.ewm(com=com, adjust=False,min_periods=com).var() sigma = np.sqrt(annualization * ewm_variance) return sigma Káº¿t quáº£ cá»§a tÃ­nh toÃ¡n trÃªn sáº½ trÃ´ng nhÆ° sau, vá»›i Ä‘Æ°á»ng mÃ u xanh tÆ°á»£ng trÆ°ng cho Ä‘á»™ biáº¿n Ä‘á»™ng (volatility) vÃ  Ä‘Æ°á»ng mÃ u cam lÃ  giÃ¡ cá»• phiáº¿u ACB.\nRegression analysis Äá»ƒ kiá»ƒm Ä‘á»‹nh giáº£ thuyáº¿t \u0026ldquo;Cá»• phiáº¿u sáº½ tiáº¿p tá»¥c Ä‘Ã  tÄƒng/giáº£m dá»±a trÃªn hiá»‡u suáº¥t trong quÃ¡ khá»©\u0026rdquo;, chÃºng ta sáº½ sá»­ dá»¥ng phÃ¢n tÃ­ch há»“i quy (regression analysis). PhÃ¢n tÃ­ch há»“i quy sáº½ giÃºp chÃºng ta hiá»ƒu má»‘i quan há»‡ giá»¯a lá»£i nhuáº­n trong quÃ¡ khá»© vÃ  lá»£i nhuáº­n trong tÆ°Æ¡ng lai, cÅ©ng nhÆ° Ä‘Ã¡nh giÃ¡ Ä‘á»™ tin cáº­y cá»§a má»‘i quan há»‡ nÃ y. Cá»¥ thá»ƒ, chÃºng ta sáº½ thá»±c hiá»‡n há»“i quy lá»£i nhuáº­n trong tÆ°Æ¡ng lai (future returns) lÃªn lá»£i nhuáº­n trong quÃ¡ khá»© (past returns).\nTuy nhiÃªn, kiá»ƒm Ä‘á»‹nh nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n khÃ¡c vá»›i bÃ i viáº¿t gá»‘c. Trong khi bÃ i viáº¿t gá»‘c sá»­ dá»¥ng dá»¯ liá»‡u thÃ¡ng Ä‘á»ƒ cháº¡y há»“i quy, ngÆ°á»i viáº¿t muá»‘n thá»­ nghiá»‡m vá»›i dá»¯ liá»‡u tuáº§n (tá»©c giao dá»‹ch theo tuáº§n) Ä‘á»ƒ xem chiáº¿n lÆ°á»£c nÃ y hoáº¡t Ä‘á»™ng nhÆ° tháº¿ nÃ o. Do Ä‘Ã³, táº¥t cáº£ cÃ¡c thá»­ nghiá»‡m há»“i quy vÃ  chiáº¿n lÆ°á»£c backtest sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn dá»¯ liá»‡u tuáº§n.\nMÃ´ hÃ¬nh há»“i quy cÆ¡ báº£n cÃ³ dáº¡ng:\n$$ \\frac{r_{t}^s}{\\sigma_{t-1}^s} = \\alpha + \\beta_h \\frac{r_{t-h}^s}{\\sigma_{t-h-1}^s} + \\epsilon_h^s $$ NgoÃ i ra, khÃ´ng chá»‰ Ä‘Ã¡nh giÃ¡ má»—i lá»£i nhuáº­n lá»‹ch sá»­, tÃ¡c giáº£ Ä‘Ã¡nh giÃ¡ kháº£ nÄƒng dá»± Ä‘oÃ¡n cá»§a TSMOM thÃ´ng qua há»“i quy tÃ­n hiá»‡u Ä‘Æ¡n giáº£n - sign- cá»§a lá»£i nhuáº­n (sign sá»‘ dÆ°Æ¡ng báº±ng 1 vÃ  sá»‘ Ã¢m báº±ng -1)\n$$ \\frac{r_{t}^s}{\\sigma_{t-1}^s} = \\alpha + \\beta_h \\text{sign}(r_{t-h}^s) + \\epsilon_h^s $$ 2 mÃ´ hÃ¬nh há»“i quy trÃªn Ä‘Æ°á»£c cháº¡y trÃªn giÃ¡ cá»§a 60 cá»• phiáº¿u cÃ³ giÃ¡ trá»‹ giao dá»‹ch cao nháº¥t vÃ  niÃªm yáº¿t tá»« 2014 tá»›i nay.\nMá»—i cá»™t biá»ƒu diá»…n giÃ¡ trá»‹ t-statistic cá»§aÂ Î²hÂ á»©ng vá»›i tá»«ng Ä‘á»™ trá»… (week lag) tá»« 1 Ä‘áº¿n 50 tuáº§n. ÄÆ°á»ng nÃ©t Ä‘á»©t mÃ u Ä‘á» (thÆ°á»ng) biá»ƒu thá»‹ má»©c Ã½ nghÄ©a thá»‘ng kÃª á»Ÿ khoáº£ngÂ Â±1.96(tÆ°Æ¡ng Ä‘Æ°Æ¡ng kiá»ƒm Ä‘á»‹nh hai phÃ­a vá»›i má»©c Ã½ nghÄ©a 5%). Náº¿u cá»™t (tá»©c t-statistic) vÆ°á»£t quÃ¡ giÃ¡ trá»‹ nÃ y vá» phÃ­a dÆ°Æ¡ng hoáº·c Ã¢m, ta cÃ³ thá»ƒ káº¿t luáº­n há»‡ sá»‘Â Î²hÂ lÃ  cÃ³ Ã½ nghÄ©a thá»‘ng kÃª táº¡i Ä‘á»™ trá»… (lookback) tÆ°Æ¡ng á»©ng. á» Ä‘á»™ trá»… 2 vÃ  6, ta tháº¥y nhiá»u cá»™t t-statistic ráº¥t cao, cho tháº¥yÂ Î²h dÆ°Æ¡ng vÃ  cÃ³ Ã½ nghÄ©a thá»‘ng kÃª. Äiá»u nÃ y chá»©ng tá» cÃ³ hiá»‡u á»©ng Ä‘á»™ng lÆ°á»£ng (momentum) Ä‘Ã¡ng ká»ƒ trong ngáº¯n háº¡n, tá»©c lÃ  cá»• phiáº¿u cÃ³ xu hÆ°á»›ng duy trÃ¬ Ä‘Ã  tÄƒng/giáº£m trong vÃ i tuáº§n Ä‘áº§u tiÃªn. Tá»©c náº¿u 2 hoáº·c 6 tuáº§n trÆ°á»›c giÃ¡ cá»• phiáº¿u tÄƒng thÃ¬ tuáº§n nÃ y cÅ©ng cÃ³ kháº£ nÄƒng tÄƒng ráº¥t cao vÃ  ngÆ°á»£c láº¡i. Khi Ä‘á»™ trá»… tÄƒng (tá»« khoáº£ng 10 tuáº§n trá»Ÿ Ä‘i), ta tháº¥y t-stat dÆ°á»›i -2 cho tháº¥y cÃ³ thá»ƒ cÃ³ yáº¿u tá»‘ â€œreversalâ€ tá»©c sau 10 tuáº§n thÃ¬ trend cÃ³ kháº£ nÄƒng Ä‘áº£o chiá»u. Má»™t chÃºt phÃ¢n tÃ­ch: á»Ÿ khung thá»i gian tuáº§n, thá»‹ trÆ°á»ng cÃ³ thá»ƒ bá»‹ áº£nh hÆ°á»Ÿng nhiá»u bá»Ÿi cÃ¡c yáº¿u tá»‘ tÃ¢m lÃ½, thanh khoáº£n, tin tá»©c ngáº¯n háº¡nâ€¦ Do Ä‘Ã³,Â momentumÂ thÆ°á»ng bá»™c lá»™ rÃµ hÆ¡n trong vÃ i tuáº§n Ä‘áº§u, rá»“i nhanh chÃ³ng phai dáº§n hoáº·c Ä‘áº£o ngÆ°á»£c khi nhÃ  Ä‘áº§u tÆ° Ä‘iá»u chá»‰nh vá»‹ tháº¿ hoáº·c chá»‘t lá»i (10 tuáº§n ~ 2 thÃ¡ng)\n[VÃ¬ code cho regression test khÃ¡ dÃ i nÃªn nhá» báº¡n comment email á»Ÿ linkedin vÃ  mÃ¬nh sáº½ gá»­i Ä‘áº¿n báº¡n nhanh nháº¥t]\nSau khi cháº¡y kiá»ƒm Ä‘á»‹nh há»“i quy, ta rÃºt ra Ä‘Æ°á»£c ráº±ng chiáº¿n lÆ°á»£c TSMOM cÃ³ hiá»‡u quáº£ Ä‘Ã¡ng ká»ƒ trong ngáº¯n háº¡n, Ä‘áº·c biá»‡t lÃ  trong khoáº£ng 2-6 tuáº§n Ä‘áº§u tiÃªn khi cá»• phiáº¿u cÃ³ xu hÆ°á»›ng duy trÃ¬ Ä‘Ã  tÄƒng/giáº£m cá»§a mÃ¬nh. Tuy nhiÃªn, sau khoáº£ng 10 tuáº§n (tÆ°Æ¡ng Ä‘Æ°Æ¡ng 2 thÃ¡ng), hiá»‡u á»©ng nÃ y cÃ³ dáº¥u hiá»‡u Ä‘áº£o chiá»u, cho tháº¥y cÃ¡c nhÃ  Ä‘áº§u tÆ° nÃªn cÃ¢n nháº¯c Ä‘iá»u chá»‰nh chiáº¿n lÆ°á»£c giao dá»‹ch cá»§a mÃ¬nh sau khung thá»i gian nÃ y. Giá» chÃºng ta sáº½ cÃ¹ng phÃ¡t triá»ƒn chiáº¿n lÆ°á»£c TSMOM dá»±a trÃªn khung thá»i gian tuáº§n nhÃ©.\nTSMOM, design from scratch. Äá»‘i vá»›i báº¥t ká»³ chiáº¿n lÆ°á»£c giao dá»‹ch nÃ o, chÃºng ta cáº§n xÃ¡c Ä‘á»‹nh 2 yáº¿u tá»‘: thá»i Ä‘iá»ƒm mua (signal) vÃ  sá»‘ lÆ°á»£ng mua (position). TSMOM cÅ©ng cáº§n 2 bÆ°á»›c nÃ y.\nSignal Chiáº¿n lÆ°á»£c momentum cÃ³ signal tÆ°Æ¡ng Ä‘á»‘i Ä‘Æ¡n giáº£n, náº¿u lá»£i nhuáº­n tÃ­ch luá»¹ trong â€œhâ€ thÃ¡ng lá»›n hÆ¡n 0 thÃ¬ long, náº¿u Ã¢m thÃ¬ short, cÃ²n náº¿u báº±ng 0 thÃ¬ khÃ´ng lÃ m gÃ¬. VÃ¬ chÃºng ta Ä‘ang thá»­ nghiá»‡m á»Ÿ thá»‹ trÆ°á»ng VN nÃªn chiáº¿n lÆ°á»£c Ä‘Æ°á»£c thiáº¿t káº¿ dáº¡ng long-only.\n1 2 3 4 5 6 7 8 9 10 11 12 13 def compute_signal(returns, window=6): \u0026#34;\u0026#34;\u0026#34; Compute the trading signal based on cumulative standardized returns over a rolling window. The paper uses: signal_t = sign(r_{t-6,t}^s) where r_{t-6,t}^s is the return from t-window to t. \u0026#34;\u0026#34;\u0026#34; cum_rets = returns.rolling(window=window).apply(lambda x: np.prod(x)) ## lá»£i nhuáº­n tÃ­ch luá»¹ signal = np.sign(cum_rets).clip(lower=0) ## sign Ä‘á»ƒ láº¥y chiá»u, clip lower 0 Ä‘á»ƒ loáº¡i bá» cÃ¡c tÃ­n hiá»‡u -1 tÆ°á»£ng trÆ°ng cho short return signal Signal sáº½ trÃ´ng nhÆ° tháº¿ nÃ y. 1 sáº½ tÆ°Æ¡ng á»©ng vá»›i mua, vÃ  0 lÃ  khÃ´ng lÃ m gÃ¬.\nPosition sizing Vá»›i chiáº¿n lÆ°á»£c momentum, rá»§i ro chÃ­nh lÃ  viá»‡c khÃ´ng thá»ƒ dá»± Ä‘oÃ¡n Ä‘Æ°á»£c thá»i Ä‘iá»ƒm thá»‹ trÆ°á»ng Ä‘áº£o chiá»u. Tuy nhiÃªn, chÃºng ta cÃ³ thá»ƒ háº¡n cháº¿ rá»§i ro nÃ y thÃ´ng qua ká»¹ thuáº­t \u0026ldquo;Inverse volatility\u0026rdquo; (Ä‘i ngÆ°á»£c biáº¿n Ä‘á»™ng).\nThay vÃ¬ cá»‘ Ä‘oÃ¡n thá»i Ä‘iá»ƒm Ä‘áº£o chiá»u, chÃºng ta sáº½ xÃ¡c Ä‘á»‹nh trÆ°á»›c má»©c rá»§i ro cháº¥p nháº­n Ä‘Æ°á»£c vÃ  Ä‘iá»u chá»‰nh vá»‹ tháº¿ khi rá»§i ro tÄƒng - Volatility targeting. Äá»‘i vá»›i cá»• phiáº¿u cÃ³ biáº¿n Ä‘á»™ng tháº¥p, ta cÃ³ thá»ƒ sá»­ dá»¥ng thÃªm margin Ä‘á»ƒ tÄƒng má»©c Ä‘á»™ phÆ¡i nhiá»…m lÃªn má»©c má»¥c tiÃªu, tá»« Ä‘Ã³ tá»‘i Æ°u hÃ³a cÆ¡ há»™i Ä‘áº§u tÆ°.\nBÃ i viáº¿t gá»‘c sá»­ dá»¥ng má»©c rá»§i ro má»¥c tiÃªu lÃ  40% (hÃ ng nÄƒm). ChÃºng ta sáº½ cÃ¹ng thá»­ nghiá»‡m vá»›i cá»• phiáº¿u ACB, sá»­ dá»¥ng volatility targeting Ä‘á»ƒ xÃ¡c Ä‘á»‹nh kÃ­ch thÆ°á»›c vá»‹ tháº¿ nhÆ° sau:\nCá»™t mÃ u cam thá»ƒ hiá»‡n sá»‘ lÆ°á»£ng cá»• phiáº¿u mua dÆ°á»›i dáº¡ng pháº§n trÄƒm (%) trong khoáº£ng tá»« 0 Ä‘áº¿n 2 (tá»©c 0â€“200%). Má»©c tráº§n Ä‘Æ°á»£c giá»›i háº¡n á»Ÿ 2 vá»›i giáº£ Ä‘á»‹nh chÃºng ta luÃ´n kÃ½ quá»¹ Ä‘Æ°á»£c 50%. Trong cÃ¡c giai Ä‘oáº¡n rá»§i ro cao nhÆ° 2016, 2018 vÃ  2022, sizing cá»§a chÃºng ta dao Ä‘á»™ng tá»« 0 Ä‘áº¿n 1.8 tÃ¹y thá»i Ä‘iá»ƒm. Äáº·c biá»‡t nÄƒm 2018â€”nÄƒm biáº¿n Ä‘á»™ng ráº¥t lá»›n cá»§a ACBâ€”chÃºng ta chá»‰ mua cá»• phiáº¿u dÆ°á»›i 100% sá»‘ tiá»n hiá»‡n cÃ³ (Ä‘i ngÆ°á»£c Ä‘á»™ biáº¿n Ä‘á»™ng), tá»« Ä‘Ã³ báº£o toÃ n Ä‘Æ°á»£c vá»‘n. Sizing phá»¥ thuá»™c vÃ o Volaitlity target chÃºng ta Ä‘Ã£ Ä‘áº·t tá»« trÆ°á»›c, volatility target cÃ ng nhá» thÃ¬ position sáº½ giáº£m láº¡i.\nChung quy láº¡i, TSMOM dá»±a trÃªn 2 ká»¹ thuáº­t sau\nXÃ¡c Ä‘á»‹nh cá»• phiáº¿u cÃ³ Ä‘ang trend khÃ´ng dá»±a trÃªn lá»£i nhuáº­n tÃ­ch luá»¹ trong â€œhâ€ thÃ¡ng vá»«a qua. XÃ¡c Ä‘á»‹nh sá»‘ cá»• phiáº¿u cáº§n mua dá»±a trÃªn ká»¹ thuáº­t volatility targeting. Backtest Backtest cho chiáº¿n lÆ°á»£c nÃ y tÆ°Æ¡ng Ä‘á»‘i Ä‘Æ¡n giáº£n. Ta sáº½ láº¥y tÃ­n hiá»‡u (signal) nhÃ¢n vá»›i sá»‘ lÆ°á»£ng (sizing) vÃ  nhÃ¢n vá»›i lá»£i nhuáº­n tuáº§n sau trá»« Ä‘i chi phÃ­\n$$ r_{t,t+1}^{TSMOM} =\\text{signal} *\\text{position} *\\text{return} - \\text{cost}= sign(r_{t-6, t})*\\frac{0.4}{\\sigma_t}*r_{t,t+1} - \\text{cost} $$ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 def backtest(daily_price, vol_target=0.4, look_back = 6, commission=0.001): \u0026#34;\u0026#34;\u0026#34; Backtest a trading strategy that goes long (short) when the signal is +1 (-1). Parameters: returns (pd.Series): Asset returns. Returns: pd.Series: The strategy returns. \u0026#34;\u0026#34;\u0026#34; ## compute the daily ex ante volatility first daily_return = daily_price.pct_change().dropna() weekly_return = daily_price.resample(\u0026#39;W\u0026#39;).last().pct_change().dropna() daily_vol = exante_volatility(daily_return, com=60) weekly_vol = daily_vol.resample(\u0026#39;W\u0026#39;).last().ffill() ## position sizing position_size = vol_target / weekly_vol position_size = position_size.clip(upper=2) ## max margin is 2 signal = compute_signal(weekly_return, window=look_back) position = signal * position_size trade_cost = 2 * commission * position.diff().abs().shift(-1) ## Compute strategy returns: # Use the previous period\u0026#39;s position (position.shift(1)) applied to the current week\u0026#39;s return, # and subtract any commission cost incurred at the beginning of the period. strat_ret = (position * weekly_return.shift(-1) - trade_cost) return_df = pd.DataFrame({ \u0026#39;raw_rets\u0026#39;: weekly_return, \u0026#39;signal\u0026#39;: signal, \u0026#39;position_size\u0026#39;: position_size, \u0026#39;position\u0026#39;: position, \u0026#39;trade_cost\u0026#39;: trade_cost, \u0026#39;strat_rets\u0026#39;: strat_ret }) return return_df.dropna() Thá»­ nghiá»‡m trÃªn cá»• phiáº¿u HPG, ta tháº¥y lá»£i nhuáº­n tÃ­ch luá»¹ vÆ°á»£t trá»™i háº³n so vá»›i chiáº¿n lÆ°á»£c buy and hold thÃ´ng thÆ°á»ng.\nTSMOM - HPG Buy\u0026amp;Hold - HPG Lá»£i nhuáº­n hÃ ng nÄƒm 29.23% 23.63% Biáº¿n Ä‘á»™ng háº±ng nÄƒm 29.03% 33.65% Sharpe 1.01 0.7 Skewness 0.36 0.36 Kurtosis 4.16 3.67 VÃ¬ chá»‰ mua khi cá»• phiáº¿u cÃ³ â€œtrendâ€ vÃ  táº­n dá»¥ng sá»­ dá»¥ng margin khi cá»• phiáº¿u biáº¿n Ä‘á»™ng tháº¥p vÃ  giáº£m vá»‹ tháº¿ khi cá»• phiáº¿u biáº¿n Ä‘á»™ng máº¡nh, nÃªn lá»£i nhuáº­n cÅ©ng nhÆ° Ä‘á»™ biáº¿n Ä‘á»™ng trung bÃ¬nh háº±ng nÄƒm Ä‘á»u tá»‘t hÆ¡n so vá»›i chiáº¿n lÆ°á»£c chá»‰ buy and hold cá»• phiáº¿u. Tá»« Ä‘Ã³ dáº«n Ä‘áº¿n tá»· lá»‡ sharpe vÆ°á»£t lÃªn má»©c 1.\n60 cá»• phiáº¿u trong sample test\nsymbol Annualized Return Annualized Volatility Sharpe Ratio Skewness Kurtosis FPT 39% 31% 1.26 1.28 6.60 PDR 36% 32% 1.10 1.19 6.96 MBB 32% 31% 1.03 1.29 5.57 VND 31% 30% 1.03 1.38 7.40 HCM 28% 28% 1.02 1.00 5.98 TCM 29% 30% 0.98 1.52 7.69 HPG 27% 29% 0.93 0.41 4.11 VCB 30% 32% 0.93 1.33 6.02 VIX 29% 31% 0.93 1.53 7.92 HSG 24% 27% 0.89 0.73 4.03 NKG 29% 32% 0.89 0.98 5.41 PNJ 29% 33% 0.89 0.80 5.62 KDH 26% 32% 0.81 1.18 5.45 HDG 22% 28% 0.80 0.61 4.14 ACB 25% 33% 0.77 1.92 14.27 CTD 23% 33% 0.69 0.43 4.34 SSI 19% 28% 0.68 0.46 5.39 DIG 21% 31% 0.67 1.37 8.70 SHB 20% 32% 0.63 3.04 20.06 HDC 20% 32% 0.62 1.08 4.97 REE 17% 29% 0.60 0.47 4.33 TSC 20% 34% 0.60 1.03 7.22 CTG 18% 31% 0.59 0.66 6.49 KBC 18% 31% 0.58 1.19 8.48 PHR 19% 33% 0.58 0.78 5.49 NLG 16% 29% 0.57 1.03 7.06 KSB 15% 31% 0.50 0.81 6.68 VNM 13% 27% 0.50 0.70 7.44 IJC 16% 33% 0.49 2.77 19.07 TTF 14% 28% 0.49 0.18 5.94 CII 12% 27% 0.45 1.68 11.26 DBC 13% 31% 0.43 0.80 8.50 DXG 12% 28% 0.43 (0.15) 5.11 STB 13% 29% 0.43 0.39 5.32 FIT 14% 34% 0.41 1.30 9.66 DRC 11% 28% 0.40 0.22 4.87 LCG 10% 25% 0.40 0.45 5.13 GAS 11% 28% 0.39 0.12 7.19 HHS 14% 35% 0.39 (1.36) 21.84 PVT 11% 28% 0.39 0.60 7.48 IDI 12% 33% 0.38 1.90 13.31 KDC 12% 33% 0.38 2.93 25.95 PAN 12% 31% 0.37 1.86 15.15 VIC 10% 32% 0.30 1.48 9.59 OGC 9% 31% 0.29 1.98 12.33 SBT 9% 33% 0.28 (1.09) 14.14 VCG 7% 28% 0.26 0.48 6.63 HAG 7% 30% 0.24 1.35 13.48 ASM 7% 28% 0.23 (0.02) 7.90 PET 7% 31% 0.23 1.47 10.78 DPM 6% 28% 0.22 0.63 6.32 DLG 6% 31% 0.19 1.30 11.48 PVD 6% 30% 0.19 0.07 6.02 BVH 5% 30% 0.18 1.15 11.03 GMD 4% 26% 0.16 0.79 4.16 HQC 5% 31% 0.16 2.68 20.08 MSN 4% 31% 0.14 1.72 13.40 VHC 3% 30% 0.11 (0.15) 5.46 FCN 2% 29% 0.09 0.38 8.03 EIB -2% 29% (0.08) 0.40 8.00 Äá»ƒ táº¡o má»™t factor TSMOM, chÃºng ta cáº§n tÃ­nh trung bÃ¬nh cho toÃ n bá»™ máº«u nghiÃªn cá»©u.\n$$ r_{t,t+1}^{TSMOM} = \\frac{1}{S_t} \\sum sign(r_{t-6, t})\\frac{0.4}{\\sigma_t}r_{t,t+1} $$ So sÃ¡nh vá»›i VNINDEX, trong khung thá»i gian thÃ¡ng, ta cÃ³ má»‘i tÆ°Æ¡ng quan giá»¯a chiáº¿n lÆ°á»£c TSMOM vÃ  lá»£i nhuáº­n cá»§a VNINDEX nhÆ° sau Vá»›i Ä‘áº·c tÃ­nh momentum, chÃºng ta sáº½ Ä‘Æ°á»£c báº£o vá»‡ khi thá»‹ trÆ°á»ng giáº£m hoáº·c volatile thÃ¬ chÃºng ta sáº½ khÃ´ng cÃ³ vá»‹ tháº¿ hoáº·c position sáº½ giáº£m láº¡i. Trong khi gia tÄƒng â€œexposeâ€ khi thá»‹ trÆ°á»ng á»•n Ä‘á»‹nh vÃ  â€œÄ‘u sÃ³ngâ€.\nKáº¿t luáº­n Chiáº¿n lÆ°á»£c Time Series Momentum (TSMOM) lÃ  má»™t phÆ°Æ¡ng phÃ¡p giao dá»‹ch hiá»‡u quáº£ khai thÃ¡c Ä‘á»™ng lÆ°á»£ng giÃ¡ cá»§a cá»• phiáº¿u dá»±a trÃªn hiá»‡u suáº¥t quÃ¡ khá»©. Qua phÃ¢n tÃ­ch dá»¯ liá»‡u thá»‹ trÆ°á»ng Viá»‡t Nam, chÃºng ta cÃ³ thá»ƒ rÃºt ra má»™t sá»‘ káº¿t luáº­n chÃ­nh:\nHiá»‡u á»©ng momentum tá»“n táº¡i rÃµ rá»‡t trong ngáº¯n háº¡n, Ä‘áº·c biá»‡t lÃ  trong khoáº£ng 2-6 tuáº§n Ä‘áº§u tiÃªn sau khi cÃ³ tÃ­n hiá»‡u. CÃ¡c cá»• phiáº¿u cÃ³ xu hÆ°á»›ng duy trÃ¬ Ä‘Ã  tÄƒng/giáº£m trong ngáº¯n háº¡n, tuy nhiÃªn sau khoáº£ng 10 tuáº§n cÃ³ thá»ƒ cÃ³ hiá»‡n tÆ°á»£ng Ä‘áº£o chiá»u â†’ chÃºng ta cÃ³ thá»ƒ táº¡o ra má»™t factor â€œReversalâ€ dá»±a trÃªn phÃ¡t hiá»‡n nÃ y. Äá»ƒ Ã¡p dá»¥ng hiá»‡u quáº£ chiáº¿n lÆ°á»£c TSMOM, cáº§n chÃº Ã½: XÃ¡c Ä‘á»‹nh chÃ­nh xÃ¡c tÃ­n hiá»‡u mua dá»±a trÃªn momentum quÃ¡ khá»© - Sá»­ dá»¥ng cÃ¡c kÄ© thuáº­t regression analysis Äiá»u chá»‰nh kÃ­ch thÆ°á»›c vá»‹ tháº¿ theo biáº¿n Ä‘á»™ng cá»§a thá»‹ trÆ°á»ng (a.k.a xÃ¡c Ä‘á»‹nh volatility target) Chiáº¿n lÆ°á»£c nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c cáº£i thiá»‡n thÃªm báº±ng cÃ¡ch káº¿t há»£p vá»›i cÃ¡c chá»‰ bÃ¡o ká»¹ thuáº­t khÃ¡c nháº±m thay Ä‘á»•i signal hoáº·c sizing theo má»™t cÃ´ng thá»©c khÃ¡c.\n","permalink":"http://localhost:1313/posts/2025/2025-03-24-tsmom-vietnam/","summary":"Chiáº¿n lÆ°á»£c Time Series Momentum (TSMOM) khai thÃ¡c Ä‘á»™ng lÆ°á»£ng giÃ¡ cá»• phiáº¿u dá»±a trÃªn hiá»‡u suáº¥t quÃ¡ khá»©, cho tháº¥y hiá»‡u á»©ng momentum rÃµ rá»‡t trong 2-6 tuáº§n Ä‘áº§u tiÃªn, chá»©ng tá» sá»± tá»“n táº¡i cá»§a factor nÃ y táº¡i thá»‹ trÆ°á»ng Viá»‡t Nam.","title":"Time series momentum - A traditional approach"},{"content":"ÄÃ¢y lÃ  bÃ i viáº¿t thá»© 2 trong chuá»—i series â€œLLM, AI agent, kinh táº¿ há»c vÃ  Ä‘áº§u tÆ°â€ cá»§a miquant. Chuá»—i bÃ i nÃ y mong muá»‘n cung cáº¥p cho nhÃ  Ä‘áº§u tÆ°, nhÃ  phÃ¢n tÃ­ch vÃ  ngÆ°á»i dÃ¹ng má»™t gÃ³c nhÃ¬n tá»•ng quan vá» mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM), trÃ­ tuá»‡ nhÃ¢n táº¡o (AI) vÃ  cÃ¡ch cÃ¡c cÃ´ng cá»¥ nÃ y Ä‘ang thay Ä‘á»•i tháº¿ giá»›i nÃ³i chung vÃ  cÃ¡ch chÃºng ta Ä‘áº§u tÆ° nÃ³i riÃªng. Äá»c qua bÃ i viáº¿t trÆ°á»›c táº¡i Ä‘Ã¢y.\nCÃ´ng nghiá»‡p hoÃ¡ vÃ  tá»± Ä‘á»™ng hoÃ¡ Tháº¿ giá»›i Ä‘ang bÆ°á»›c vÃ o cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p má»›iâ€”cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p láº§n thá»© 5.\nCÃ´ng nghá»‡ hÃ³a vÃ  tá»± Ä‘á»™ng hÃ³a luÃ´n Ä‘Ã³ng vai trÃ² then chá»‘t trong sá»± phÃ¡t triá»ƒn cá»§a loÃ i ngÆ°á»i. Tá»« cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p láº§n thá»© nháº¥t vá»›i Ä‘á»™ng cÆ¡ hÆ¡i nÆ°á»›c cho Ä‘áº¿n cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p láº§n thá»© tÆ° vá»›i trÃ­ tuá»‡ nhÃ¢n táº¡o vÃ  robot, con ngÆ°á»i khÃ´ng ngá»«ng tÃ¬m cÃ¡ch tá»‘i Æ°u hÃ³a quy trÃ¬nh sáº£n xuáº¥t vÃ  nÃ¢ng cao nÄƒng suáº¥t lao Ä‘á»™ng. Trong khi cÃ¡c cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p trÆ°á»›c Ä‘Ã¢y chá»§ yáº¿u táº­p trung vÃ o viá»‡c tá»± Ä‘á»™ng hÃ³a cÃ¡c cÃ´ng viá»‡c thá»ƒ cháº¥t vÃ  láº·p Ä‘i láº·p láº¡i, cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p láº§n thá»© 5 Ä‘ang má»Ÿ ra má»™t chÆ°Æ¡ng hoÃ n toÃ n má»›i vá»›i sá»± tá»± Ä‘á»™ng hÃ³a nhá»¯ng cÃ´ng viá»‡c trÃ­ tuá»‡ vÃ  sÃ¡ng táº¡o.\n(https://www.rothschildandco.com/en/newsroom/insights/2024/10/the-dawn-of-industry-5.0/)\nCuá»™c cÃ¡ch máº¡ng nÃ y Ä‘Æ°á»£c thÃºc Ä‘áº©y máº¡nh máº½ bá»Ÿi sá»± ra Ä‘á»i cá»§a cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) vÃ  AI tiÃªn tiáº¿n. Nhá»¯ng cÃ´ng cá»¥ nÃ y cÃ³ kháº£ nÄƒng xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn, táº¡o ra ná»™i dung Ä‘a dáº¡ng, vÃ  tham gia vÃ o cÃ¡c quÃ¡ trÃ¬nh ra quyáº¿t Ä‘á»‹nh phá»©c táº¡p mÃ  trÆ°á»›c Ä‘Ã¢y chá»‰ con ngÆ°á»i má»›i thá»±c hiá»‡n Ä‘Æ°á»£c. ÄÃ¢y chÃ­nh lÃ  bÆ°á»›c tiáº¿n Ä‘á»™t phÃ¡, Ä‘Ã¡nh dáº¥u má»™t bÆ°á»›c ngoáº·t quan trá»ng trong lá»‹ch sá»­ phÃ¡t triá»ƒn cÃ´ng nghá»‡ cá»§a nhÃ¢n loáº¡i, Ä‘á»‹nh hÃ¬nh láº¡i cÃ¡ch con ngÆ°á»i tÆ°Æ¡ng tÃ¡c vá»›i cÃ´ng nghá»‡.\ná» trung tÃ¢m cá»§a cuá»™c cÃ¡ch máº¡ng nÃ y, AI agent Ä‘ang ná»•i lÃªn nhÆ° má»™t trong nhá»¯ng cÃ´ng nghá»‡ tiÃªn tiáº¿n nháº¥t, káº¿ thá»«a thÃ nh tá»±u phÃ¡t triá»ƒn cá»§a khoa há»c mÃ¡y tÃ­nh vÃ  khoa há»c dá»¯ liá»‡uâ€”nhá»¯ng yáº¿u tá»‘ cá»‘t lÃµi cá»§a cuá»™c cÃ¡ch máº¡ng cÃ´ng nghiá»‡p láº§n thá»© 4. ÄÃ¢y lÃ  há»‡ thá»‘ng trÃ­ tuá»‡ nhÃ¢n táº¡o cÃ³ kháº£ nÄƒng tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ phá»©c táº¡p, tÆ°Æ¡ng tÃ¡c tá»± nhiÃªn vá»›i ngÆ°á»i dÃ¹ng vÃ  thá»±c hiá»‡n nhiá»‡m vá»¥ theo má»¥c tiÃªu vá»›i sá»± can thiá»‡p tá»‘i thiá»ƒu tá»« con ngÆ°á»i.\nNhÆ° Ä‘Ã£ bÃ n luáº­n á»Ÿ bÃ i viáº¿t trÆ°á»›c, má»™t há»‡ thá»‘ng AI cáº§n thoáº£ mÃ£n 3 yáº¿u tá»‘: suy luáº­n (reason), há»c há»i (learn)Â vÃ Â hÃ nh Ä‘á»™ng (act) theo cÃ¡ch thÃ´ng thÆ°á»ng Ä‘Ã²i há»i trÃ­ thÃ´ng minh cá»§a con ngÆ°á»i. Dá»±a trÃªn Ä‘á»‹nh nghÄ©a nÃ y, AI agent lÃ  cÃ´ng nghá»‡ Ä‘ang tiáº¿n gáº§n nháº¥t Ä‘áº¿n viá»‡c Ä‘áº¡t Ä‘Æ°á»£c cáº£ ba yáº¿u tá»‘ trÃªn.\nVáº­y AI agent lÃ  gÃ¬, vÃ  táº¡i sao cÃ´ng nghá»‡ nÃ y láº¡i máº¡nh máº½ Ä‘áº¿n tháº¿? ChÃºng ta sáº½ cÃ¹ng tÃ¬m hiá»ƒu sÃ¢u hÆ¡n thÃ´ng qua sáº£n pháº©m má»›i nháº¥t cá»§a miquant, Valuation Engine 1.0 sáº½ ra máº¯t trong thá»i gian sáº¯p tá»›i.\nAI agent lÃ  gÃ¬? CÃ³ ráº¥t nhiá»u Ä‘á»‹nh nghÄ©a chuyÃªn sÃ¢u vá» AI agent nhÆ° tá»« Anthropic hay Chip Huyen, NVDIA hay FPT, tuy nhiÃªn, Ä‘á»ƒ tá»•ng há»£p láº¡i thÃ¬ chÃºng ta cÃ³ thá»ƒ hiá»ƒu AI agent nhÆ° sau.\nAI Agent lÃ  má»™t há»‡ thá»‘ng trÃ­ tuá»‡ nhÃ¢n táº¡o dá»±a trÃªn cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) Ä‘á»ƒ thá»±c hiá»‡n suy luáº­n (reason) vÃ  há»c há»i (learn). Há»‡ thá»‘ng nÃ y cÃ³ kháº£ nÄƒng Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh vÃ  thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng (act) thÃ´ng qua cÃ¡c cÃ´ng cá»¥ vÃ  hÃ nh vi Ä‘Æ°á»£c cho phÃ©p do ngÆ°á»i phÃ¡t triá»ƒn (developer) quyáº¿t Ä‘á»‹nh. AI Agent cÃ³ nhá»¯ng Ä‘áº·c Ä‘iá»ƒm vÃ  cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng khÃ¡c nhau tuá»³ thuá»™c vÃ o mÃ´i trÆ°á»ng nÃ³ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ váº­n hÃ nh. VÃ­ dá»¥, AI Agent cho viá»‡c nghiÃªn cá»©u (Deep research) cÃ³ thá»ƒ truy cáº­p internet, tÃ¬m kiáº¿m vÃ  phÃ¢n tÃ­ch thÃ´ng tin liÃªn quan, sau Ä‘Ã³ tá»•ng há»£p thÃ nh má»™t bÃ i nghiÃªn cá»©u hoÃ n chá»‰nh cho ngÆ°á»i dÃ¹ng (act).\nTrong khi Ä‘Ã³, má»™t Agent cho tÃ i chÃ­nh cÃ³ kháº£ nÄƒng thu tháº­p dá»¯ liá»‡u giÃ¡ chá»©ng khoÃ¡n, thá»±c hiá»‡n cÃ¡c phÃ©p tÃ­nh cáº§n thiáº¿t vÃ  Ä‘Æ°a ra cáº£nh bÃ¡o cho ngÆ°á»i dÃ¹ng (act 1), hoáº·c tháº­m chÃ­ thá»±c hiá»‡n lá»‡nh Ä‘áº·t mua/bÃ¡n (act 2)â€”tuá»³ theo thiáº¿t káº¿ vÃ  má»©c Ä‘á»™ Ä‘Æ°á»£c phÃ©p tá»« nhÃ  phÃ¡t triá»ƒn há»‡ thá»‘ng AI.\nTuy nhiÃªn, nhÆ° má»i há»‡ thá»‘ng khÃ¡c, AI agent khÃ´ng thá»ƒ trÃ¡nh khá»i sai sá»‘ vÃ  Ä‘Ã´i khi cÃ³ thá»ƒ vi pháº¡m cÃ¡c quy Ä‘á»‹nh phÃ¡p lÃ½ hoáº·c tiÃªu chuáº©n Ä‘áº¡o Ä‘á»©c. Do Ä‘Ã³, viá»‡c thiáº¿t káº¿ vÃ  triá»ƒn khai AI agent Ä‘Ã²i há»i sá»± tháº­n trá»ng cao Ä‘á»™, kÃ¨m theo cÃ¡c biá»‡n phÃ¡p kiá»ƒm soÃ¡t cháº·t cháº½ vÃ  khung quáº£n trá»‹ rÃµ rÃ ng. KhÃ´ng chá»‰ nhÃ  phÃ¡t triá»ƒn cáº§n cáº©n trá»ng trong quÃ¡ trÃ¬nh nghiÃªn cá»©u vÃ  váº­n hÃ nh, ngÆ°á»i dÃ¹ng cuá»‘i cÅ©ng pháº£i tháº­n trá»ng khi sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ AI vÃ  hiá»ƒu rÃµ cáº£ kháº£ nÄƒng láº«n giá»›i háº¡n cá»§a chÃºng. TÆ°Æ¡ng tá»± nhÆ° khi sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng tiá»‡n giao thÃ´ng, trÃ¡ch nhiá»‡m cá»§a nhÃ  phÃ¡t triá»ƒn lÃ  Ä‘áº£m báº£o phÆ°Æ¡ng tiá»‡n hoáº¡t Ä‘á»™ng an toÃ n vÃ  hiá»‡u quáº£, trong khi ngÆ°á»i dÃ¹ng cáº§n trang bá»‹ kiáº¿n thá»©c vÃ  ká»¹ nÄƒng cáº§n thiáº¿t Ä‘á»ƒ sá»­ dá»¥ng chÃºng má»™t cÃ¡ch cÃ³ trÃ¡ch nhiá»‡m. Miquant luÃ´n Ä‘áº·t sá»± an toÃ n vÃ  tÃ­nh minh báº¡ch lÃªn hÃ ng Ä‘áº§u trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn cÃ¡c cÃ´ng cá»¥ AI.\nUse case: Ä‘á»‹nh giÃ¡ cá»• phiáº¿u sá»­ dá»¥ng AI agent. LÃ  má»™t cÃ´ng ty fintech trong lÄ©nh vá»±c nghiÃªn cá»©u thá»‹ trÆ°á»ng tÃ i chÃ­nh Viá»‡t Nam,Â miquantÂ nháº­n tháº¥y má»™t thÃ¡ch thá»©c lá»›n trong ngÃ nh Ä‘áº§u tÆ°:Â sá»± chÃªnh lá»‡ch vá» kháº£ nÄƒng tiáº¿p cáº­n thÃ´ng tin giá»¯a cÃ¡c tá»• chá»©c tÃ i chÃ­nh chuyÃªn nghiá»‡p vÃ  nhÃ  Ä‘áº§u tÆ° cÃ¡ nhÃ¢n ngÃ y cÃ ng gia tÄƒng.\nThá»±c táº¿ nÃ y Ä‘Æ°á»£c pháº£n Ã¡nh rÃµ qua dá»¯ liá»‡u thá»‹ trÆ°á»ng: trong hÆ¡nÂ 1.500 mÃ£ cá»• phiáº¿uÂ niÃªm yáº¿t táº¡i Viá»‡t Nam, cÃ¡c cÃ´ng ty chá»©ng khoÃ¡n hÃ ng Ä‘áº§u chá»‰ thÆ°á»ng xuyÃªn phÃ¡t hÃ nh bÃ¡o cÃ¡o phÃ¢n tÃ­ch cho khoáº£ngÂ 50-100 mÃ£, chá»§ yáº¿u táº­p trung vÃ oÂ cÃ¡c doanh nghiá»‡p vá»‘n hÃ³a lá»›n trong VN30 hoáº·c cÃ¡c cá»• phiáº¿u Ä‘áº§u ngÃ nh. Äiá»u nÃ y Ä‘á»“ng nghÄ©a vá»›i viá»‡c hÃ ng nghÃ¬n mÃ£ cá»• phiáº¿u khÃ¡câ€”bao gá»“m cáº£ nhá»¯ng cÆ¡ há»™i Ä‘áº§u tÆ° tiá»m nÄƒngâ€”khÃ´ng Ä‘Æ°á»£c phÃ¢n tÃ­ch má»™t cÃ¡ch Ä‘áº§y Ä‘á»§ vÃ  chuyÃªn sÃ¢u.\nNgay cáº£ khi cÃ³ bÃ¡o cÃ¡o phÃ¢n tÃ­ch, má»™t váº¥n Ä‘á» khÃ¡c náº£y sinh:Â má»—i bÃ¡o cÃ¡o Ä‘á»u dá»±a trÃªn má»™t táº­p há»£p giáº£ Ä‘á»‹nh cá»‘ Ä‘á»‹nh cá»§a ngÆ°á»i phÃ¢n tÃ­ch, khiáº¿n nhÃ  Ä‘áº§u tÆ° khÃ³ cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ cÃ¡c ká»‹ch báº£n khÃ¡c nhau hoáº·c cáº­p nháº­t mÃ´ hÃ¬nh Ä‘á»‹nh giÃ¡ khi xuáº¥t hiá»‡n thÃ´ng tin má»›i. Giáº£i phÃ¡p truyá»n thá»‘ng lÃ  tá»± xÃ¢y dá»±ng mÃ´ hÃ¬nh Ä‘á»‹nh giÃ¡ riÃªngâ€”má»™t quÃ¡ trÃ¬nh Ä‘Ã²i há»i hÃ ng chá»¥c giá» nghiÃªn cá»©u vÃ  ná»n táº£ng phÃ¢n tÃ­ch chuyÃªn sÃ¢u mÃ  khÃ´ng pháº£i nhÃ  Ä‘áº§u tÆ° nÃ o cÅ©ng cÃ³ sáºµn.\nCÃ´ng nghá»‡ cÃ³ thá»ƒ thay Ä‘á»•i cuá»™c chÆ¡i? TrÆ°á»›c thÃ¡ch thá»©c nÃ y, chÃºng tÃ´i Ä‘áº·t ra cÃ¢u há»i:\nTrong ká»· nguyÃªn dá»¯ liá»‡u, liá»‡u cÃ´ng nghá»‡ cÃ³ thá»ƒ giÃºp thu háº¹p khoáº£ng cÃ¡ch thÃ´ng tin nÃ y? Liá»‡u cÃ³ thá»ƒ xÃ¢y dá»±ng má»™t cÃ´ng cá»¥ giÃºp nhÃ  Ä‘áº§u tÆ° tiáº¿p cáº­n phÃ¢n tÃ­ch chuyÃªn sÃ¢u cho báº¥t ká»³ cá»• phiáº¿u nÃ o há» quan tÃ¢m, Ä‘á»“ng thá»i cho phÃ©p Ä‘iá»u chá»‰nh cÃ¡c giáº£ Ä‘á»‹nh theo nhu cáº§u thá»±c táº¿? CÃ¢u tráº£ lá»i cá»§a chÃºng tÃ´i: \u0026ldquo;CÃ³\u0026rdquo;.\nÄÃ³ lÃ  lÃ½ doÂ miquantÂ phÃ¡t triá»ƒnÂ Valuation Engine 1.0, á»©ng dá»¥ng cÃ´ng nghá»‡Â AI Agent, giÃºp nhÃ  Ä‘áº§u tÆ° tiáº¿p cáº­nÂ phÃ¢n tÃ­ch Ä‘á»‹nh giÃ¡ linh hoáº¡t, cÃ³ thá»ƒ tÃ¹y chá»‰nhâ€”má»™t bÆ°á»›c tiáº¿n má»›i trong viá»‡c xá»­ lÃ½ cÃ¡c thÃ´ng tin tÃ i chÃ­nh.\nValuation Engine: nhÃ¬n vÃ o trong há»™p Ä‘en Valuation Agent Ä‘Æ°á»£c thiáº¿t káº¿ theo má»™t quy trÃ¬nh 7 bÆ°á»›c, mÃ´ phá»ng cÃ¡ch lÃ m viá»‡c cá»§a cÃ¡c chuyÃªn gia phÃ¢n tÃ­ch tÃ i chÃ­nh:\nThu tháº­p dá»¯ liá»‡u:Â Agent thu tháº­p thÃ´ng tin cÆ¡ báº£n vá» cÃ´ng ty, ngÃ nh nghá» hoáº¡t Ä‘á»™ng vÃ  vá»‹ tháº¿ trÃªn thá»‹ trÆ°á»ng, dá»¯ liá»‡u vá» cÆ¡ báº£n vÃ  cÃ¡c dá»¯ liá»‡u liÃªn quan. Lá»±a chá»n phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh giÃ¡:Â Dá»±a trÃªn Ä‘áº·c Ä‘iá»ƒm cá»§a cÃ´ng ty, Agent sáº½ xÃ¡c Ä‘á»‹nh phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh giÃ¡ phÃ¹ há»£p nháº¥t, vÃ­ dá»¥ nhÆ° P/E cho cÃ´ng ty tiÃªu dÃ¹ng á»•n Ä‘á»‹nh, P/B cho ngÃ¢n hÃ ng, hay EV/EBITDA cho doanh nghiá»‡p cÆ¡ sá»Ÿ háº¡ táº§ng. XÃ¡c Ä‘á»‹nh nhÃ³m cÃ´ng ty tÆ°Æ¡ng Ä‘á»“ng:Â ÄÃ¢y lÃ  bÆ°á»›c quan trá»ng vÃ  phá»©c táº¡p. Agent khÃ´ng chá»‰ Ä‘Æ¡n thuáº§n tÃ¬m cÃ¡c cÃ´ng ty cÃ¹ng ngÃ nh mÃ  cÃ²n phÃ¢n tÃ­ch sÃ¢u vá» quy mÃ´, cÆ¡ cáº¥u vá»‘n vÃ  mÃ´ hÃ¬nh kinh doanh Ä‘á»ƒ tÃ¬m ra nhá»¯ng doanh nghiá»‡p thá»±c sá»± cÃ³ thá»ƒ so sÃ¡nh Ä‘Æ°á»£c. Dá»± bÃ¡o cÃ¡c chá»‰ sá»‘ tÃ i chÃ­nh:Â Agent phÃ¢n tÃ­ch xu hÆ°á»›ng lá»‹ch sá»­ vÃ  thÃ´ng tin hiá»‡n táº¡i cÅ©ng nhÆ° triá»ƒn vá»ng tÆ°Æ¡ng lai liÃªn quan Ä‘áº¿n cÃ´ng ty Ä‘á»ƒ Ä‘Æ°a ra dá»± bÃ¡o vá» cÃ¡c chá»‰ sá»‘ tÃ i chÃ­nh trong tÆ°Æ¡ng lai. Thá»±c hiá»‡n Ä‘á»‹nh giÃ¡ vÃ  kiá»ƒm Ä‘á»‹nh:Â Káº¿t há»£p cÃ¡c chá»‰ sá»‘ dá»± bÃ¡o vá»›i há»‡ sá»‘ Ä‘á»‹nh giÃ¡ má»¥c tiÃªu Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giÃ¡ há»£p lÃ½ cho cá»• phiáº¿u. Náº¿u nhÆ° káº¿t quáº£ Ä‘á»‹nh giÃ¡ vÆ°á»£t quÃ¡ xa so vá»›i giÃ¡ thá»‹ trÆ°á»ng, Agent sáº½ tÃ¬m kiáº¿m thÃªm thÃ´ng tin vÃ  Ä‘iá»u chá»‰nh cÃ¡c giáº£ Ä‘á»‹nh Ä‘á»ƒ Ä‘áº£m báº£o káº¿t quáº£ pháº£n Ã¡nh chÃ­nh xÃ¡c nháº¥t giÃ¡ trá»‹ thá»±c cá»§a doanh nghiá»‡p. Táº¡o bÃ¡o cÃ¡o Ä‘á»‹nh giÃ¡:Â Cuá»‘i cÃ¹ng, Agent tá»•ng há»£p táº¥t cáº£ thÃ´ng tin thÃ nh má»™t bÃ¡o cÃ¡o Ä‘á»‹nh giÃ¡ cáº¥u trÃºc rÃµ rÃ ng vÃ  dá»… hiá»ƒu, vÃ  gá»­i cho ngÆ°á»i dÃ¹ng file PDF phÃ¢n tÃ­ch Ä‘i kÃ¨m vá»›i file Excel Ä‘á»‹nh giÃ¡. XuyÃªn suá»‘t quÃ¡ trÃ¬nh nÃ y, Agent sáº½ liÃªn tá»¥c tÃ¬m kiáº¿m thÃ´ng tin, Ä‘á»c BCTC, Ä‘á»c cÃ¡c bÃ¡o cÃ¡o phÃ¢n tÃ­ch trong lá»‹ch sá»­ cá»§a cÃ´ng ty,â€¦ má»™t quÃ¡ trÃ¬nh nghiÃªn cá»©u nhÆ° má»™t analyst thÃ´ng thÆ°á»ng, nhÆ°ng vá»›i tá»‘c Ä‘á»™ ráº¥t cao vÃ  vá»›i lÆ°á»£ng dá»¯ liá»‡u xá»­ lÃ½ ráº¥t ráº¥t lá»›n.\nMá»™t bÃ¡o cÃ¡o Ä‘á»‹nh giÃ¡ truyá»n thá»‘ng thÆ°á»ng máº¥t tá»« vÃ i ngÃ y Ä‘áº¿n vÃ i tuáº§n Ä‘á»ƒ hoÃ n thÃ nh. Vá»›i AI Agent, quy trÃ¬nh nÃ y Ä‘Æ°á»£c rÃºt ngáº¯n xuá»‘ng cÃ²n vÃ i phÃºt. NhÆ°ng Ä‘iá»u nÃ y khÃ´ng Ä‘á»“ng nghÄ©a vá»›i viá»‡c hy sinh cháº¥t lÆ°á»£ng phÃ¢n tÃ­ch mÃ  ngÆ°á»£c láº¡i, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ¹ng vá»›i cÃ´ng cá»¥ nÃ y Ä‘á»ƒ thá»­ nghiá»‡m Ä‘á»‹nh giÃ¡ dÆ°á»›i nhiá»u ká»‹ch báº£n khÃ¡c nhau Ä‘á»ƒ Ä‘i tá»›i Ä‘Æ°á»£c káº¿t luáº­n cuá»‘i cÃ¹ng.\nThá»­ nghiá»‡m: Ä‘á»‹nh giÃ¡ VN100 Miquant tiáº¿n hÃ nh Ä‘á»‹nh giÃ¡ cÃ¡c cá»• phiáº¿u cÃ³ trong chá»‰ sá»‘ VN100 hiá»‡n táº¡i (tÃ­nh Ä‘áº¿n ngÃ y thá»±c hiá»‡n lÃ  12/03/2025). CÃ¡c káº¿ quáº£ thu Ä‘Æ°á»£c nhÆ° sau. Káº¿t quáº£ khi thá»±c hiá»‡n Ä‘á»‹nh giÃ¡ cÃ¡c cá»• phiáº¿u cÃ³ thá»ƒ Ä‘Æ°á»£c tiáº¿p cáº­n táº¡i Ä‘Ã¢y.\nTá»•ng há»£p thá»‘ng kÃª cÃ¡c khuyáº¿n nghá»‹ vÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p Ä‘á»‹nh giÃ¡ PhÃ¢n phá»‘i tiá»m nÄƒng tÄƒng giáº£m giÃ¡ cá»§a cÃ¡c cá»• phiáº¿u trong chá»‰ sá»‘ VN100\nCÃ¡c thá»‘ng kÃª liÃªn quan\nTiá»m nÄƒng tÄƒng/giáº£m giÃ¡ Trung bÃ¬nh (Mean) 15.41 Trung vá»‹ (Median) 16.62 Äá»™ lá»‡ch chuáº©n (Std) 23.25 GiÃ¡ trá»‹ lá»›n nháº¥t (Max) 67.97 GiÃ¡ trá»‹ nhá» nháº¥t (Min) -40.73 Top 10 cá»• phiáº¿u cÃ³ tiá»m nÄƒng tÄƒng/giáº£m nhiá»u nháº¥t\nCá»• phiáº¿u TÄƒng Cá»• phiáº¿u Giáº£m PPC 67.97 BCG -40.73 VTP 67.57 AAA -37.68 NLG 65.61 KDC -35.47 DXG 65.36 SJS -28.43 VND 65.08 FTS -26.01 VJC 58.23 HHV -24.78 SHB 57.59 LPB -23.64 VHM 55.68 GVR -23.24 NT2 50.62 NKG -20.67 PAN 49.74 CTS -17.70 Äiá»ƒm yáº¿u cá»§a há»‡ thá»‘ng nÃ y náº±m á»Ÿ kháº£ nÄƒng tiáº¿p cáº­n thÃ´ng tin: chá»‰ giá»›i háº¡n á»Ÿ cÃ¡c thÃ´ng tin cÃ´ng khai vÃ  chÃ­nh thá»‘ng (tÃ­nh tá»›i thá»i Ä‘iá»ƒm hiá»‡n táº¡i). ÄÃ´i khi, cÃ³ nhá»¯ng thÃ´ng tin ná»™i bá»™ chÆ°a Ä‘Æ°á»£c cÃ´ng ty cÃ´ng bá»‘ ra thá»‹ trÆ°á»ng mÃ  há»‡ thá»‘ng khÃ´ng thá»ƒ tiáº¿p cáº­n Ä‘Æ°á»£c.\nTuy nhiÃªn, Ä‘iá»ƒm máº¡nh ná»•i báº­t nháº¥t cá»§a há»‡ thá»‘ng nÃ y lÃ  tÃ­nh linh hoáº¡t cho phÃ©p ngÆ°á»i dÃ¹ng tÃ¹y chá»‰nh vÃ  Ä‘Æ°a vÃ o cÃ¡c giáº£ Ä‘á»‹nh riÃªng. Vá»›i nhá»¯ng thÃ´ng tin Ä‘á»™c quyá»n mÃ  ngÆ°á»i dÃ¹ng náº¯m Ä‘Æ°á»£c, há» cÃ³ thá»ƒ nhanh chÃ³ng káº¿t há»£p vÃ  thá»­ nghiá»‡m cÃ¡c thÃ´ng tin nÃ y vá»›i dá»¯ liá»‡u thá»‹ trÆ°á»ng sáºµn cÃ³ Ä‘á»ƒ nháº­n Ä‘Æ°á»£c káº¿t quáº£ Ä‘á»‹nh giÃ¡ cá»• phiáº¿u phÃ¹ há»£p.\nNgoÃ i ra, tá»‘c Ä‘á»™ xá»­ lÃ½ thÃ´ng tin nhanh chÃ³ng cá»§a AI Agent cho phÃ©p nhÃ  Ä‘áº§u tÆ° cÃ³ thá»ƒ nhanh chÃ³ng Ä‘iá»u chá»‰nh vÃ  cáº­p nháº­t mÃ´ hÃ¬nh Ä‘á»‹nh giÃ¡ khi cÃ³ thÃ´ng tin má»›i. Äiá»u nÃ y Ä‘áº·c biá»‡t há»¯u Ã­ch trong thá»‹ trÆ°á»ng chá»©ng khoÃ¡n nÄƒng Ä‘á»™ng, nÆ¡i giÃ¡ cá»• phiáº¿u cÃ³ thá»ƒ thay Ä‘á»•i nhanh chÃ³ng dá»±a trÃªn tin tá»©c vÃ  sá»± kiá»‡n má»›i.\nÄá»ƒ giáº£m thiá»ƒu rá»§i ro hallucination (hiá»‡n tÆ°á»£ng AI táº¡o ra thÃ´ng tin khÃ´ng chÃ­nh xÃ¡c), miquant liÃªn tá»¥c cáº£i tiáº¿n vÃ  nÃ¢ng cáº¥p há»‡ thá»‘ng cá»§a mÃ¬nh. ChÃºng tÃ´i Ã¡p dá»¥ng nhiá»u biá»‡n phÃ¡p kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng nhÆ°:\nKiá»ƒm tra chÃ©o thÃ´ng tin tá»« nhiá»u nguá»“n dá»¯ liá»‡u Ä‘Ã¡ng tin cáº­y Giá»›i háº¡n pháº¡m vi dá»± Ä‘oÃ¡n cá»§a AI trong khuÃ´n khá»• cÃ¡c dá»¯ liá»‡u Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c náº¿u ngÆ°á»i dÃ¹ng khÃ´ng cung cáº¥p thÃ´ng tin má»›i. Cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘iá»u chá»‰nh vÃ  kiá»ƒm tra láº¡i cÃ¡c giáº£ Ä‘á»‹nh quan trá»ng Cáº­p nháº­t liÃªn tá»¥c cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p kiá»ƒm soÃ¡t cháº¥t lÆ°á»£ng. NgoÃ i ra, miquant cÅ©ng liÃªn tá»¥c á»©ng dá»¥ng cÃ¡c cÃ´ng nghá»‡ má»›i nháº¥t nhÆ° knowledge graph, reflection agent Ä‘á»ƒ liÃªn tá»¥c cáº£i tiáº¿n cÃ¡c dá»± Ä‘oÃ¡n, giáº£ Ä‘á»‹nh vÃ  xÃ¡c minh thÃ´ng tin.\nKáº¿t luáº­n CÃ´ng nghá»‡ AI vÃ  LLM Ä‘ang mang Ä‘áº¿n má»™t cuá»™c cÃ¡ch máº¡ng trong cÃ¡ch chÃºng ta tiáº¿p cáº­n phÃ¢n tÃ­ch vÃ  Ä‘á»‹nh giÃ¡ cá»• phiáº¿u. Vá»›i kháº£ nÄƒng xá»­ lÃ½ thÃ´ng tin nhanh chÃ³ng vÃ  chÃ­nh xÃ¡c, AI Agent cÃ³ thá»ƒ há»— trá»£ Ä‘áº¯c lá»±c cho cÃ¡c nhÃ  Ä‘áº§u tÆ° vÃ  chuyÃªn gia phÃ¢n tÃ­ch trong viá»‡c ra quyáº¿t Ä‘á»‹nh Ä‘áº§u tÆ°.\nTuy nhiÃªn, Ä‘iá»u quan trá»ng cáº§n nháº¥n máº¡nh lÃ  AI Agent khÃ´ng nháº±m má»¥c Ä‘Ã­ch thay tháº¿ hoÃ n toÃ n cÃ¡c chuyÃªn gia phÃ¢n tÃ­ch, mÃ  Ä‘Ã³ng vai trÃ² nhÆ° má»™t cÃ´ng cá»¥ há»— trá»£ máº¡nh máº½. Sá»± káº¿t há»£p giá»¯a kinh nghiá»‡m cá»§a con ngÆ°á»i vÃ  kháº£ nÄƒng xá»­ lÃ½ dá»¯ liá»‡u cá»§a AI sáº½ táº¡o ra nhá»¯ng phÃ¢n tÃ­ch sÃ¢u sáº¯c vÃ  toÃ n diá»‡n hÆ¡n, giÃºp nhÃ  Ä‘áº§u tÆ° Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh Ä‘áº§u tÆ° thÃ´ng minh vÃ  hiá»‡u quáº£ hÆ¡n.\nTrong tÆ°Æ¡ng lai, miquant sáº½ tiáº¿p tá»¥c phÃ¡t triá»ƒn vÃ  hoÃ n thiá»‡n cÃ´ng cá»¥ AI Agent, tÃ­ch há»£p thÃªm nhiá»u tÃ­nh nÄƒng má»›i vÃ  cáº£i thiá»‡n Ä‘á»™ chÃ­nh xÃ¡c cá»§a cÃ¡c phÃ¢n tÃ­ch, nháº±m mang Ä‘áº¿n cho ngÆ°á»i dÃ¹ng nhá»¯ng tráº£i nghiá»‡m Ä‘áº§u tÆ° tá»‘t nháº¥t.\nÄá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c AI Agent sá»›m nháº¥t, gia nháº­p danh sÃ¡ch chá» táº¡i miquant.vn\n","permalink":"http://localhost:1313/posts/2025/2025-03-18-agents-valuation/","summary":"Miquant khÃ¡m phÃ¡ cÆ¡ cháº¿ cá»§a cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) vÃ  tÃ¡c Ä‘á»™ng cá»§a AI trong Ä‘áº§u tÆ°, nháº¥n máº¡nh kháº£ nÄƒng tá»± Ä‘á»™ng hÃ³a phÃ¢n tÃ­ch Ä‘á»‹nh tÃ­nh, cáº£i thiá»‡n hiá»‡u suáº¥t vÃ  Ä‘á»™ chÃ­nh xÃ¡c trong cÃ¡c tÃ¡c vá»¥ tÃ i chÃ­nh, Ä‘á»“ng thá»i kháº³ng Ä‘á»‹nh vai trÃ² quan trá»ng cá»§a con ngÆ°á»i trong quÃ¡ trÃ¬nh ra quyáº¿t Ä‘á»‹nh.","title":"Agents - CÃ¡ch máº¡ng cÃ´ng nghiá»‡p láº§n thá»© 5"},{"content":"ÄÃ¢y lÃ  bÃ i viáº¿t Ä‘áº§u tiÃªn trong chuá»—i series â€œLLM, AI agent, kinh táº¿ há»c vÃ  Ä‘áº§u tÆ°â€ cá»§a miquant. Chuá»—i bÃ i nÃ y mong muá»‘n cung cáº¥p cho nhÃ  Ä‘áº§u tÆ°, nhÃ  phÃ¢n tÃ­ch vÃ  ngÆ°á»i dÃ¹ng má»™t gÃ³c nhÃ¬n tá»•ng quan vá» mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM), trÃ­ tuá»‡ nhÃ¢n táº¡o (AI) vÃ  cÃ¡ch cÃ¡c cÃ´ng cá»¥ nÃ y Ä‘ang thay Ä‘á»•i tháº¿ giá»›i nÃ³i chung vÃ  cÃ¡ch chÃºng ta Ä‘áº§u tÆ° nÃ³i riÃªng.\nSá»± tá»•ng há»£p cá»§a TrÃ­ tuá»‡ Trong cÃ¢u chuyá»‡n vá» sá»± tiáº¿n hÃ³a cá»§a cÃ´ng nghá»‡, cÃ³ nhá»¯ng khoáº£nh kháº¯c Ä‘áº·c biá»‡t khi ranh giá»›i giá»¯a tÆ°á»Ÿng tÆ°á»£ng vÃ  thá»±c táº¿ trá»Ÿ nÃªn má» nháº¡t. TrÃ­ tuá»‡ nhÃ¢n táº¡o lÃ  má»™t cÃ¢u chuyá»‡n nhÆ° váº­y - má»™t hÃ nh trÃ¬nh tá»« Ã½ tÆ°á»Ÿng tÃ¡o báº¡o trá»Ÿ thÃ nh hiá»‡n thá»±c Ä‘ang Ä‘á»‹nh hÃ¬nh láº¡i tháº¿ giá»›i cá»§a chÃºng ta. Giá»‘ng nhÆ° cÃ¡ch Ã¡nh sÃ¡ng Ä‘iá»‡n Ä‘Ã£ tháº¯p sÃ¡ng bÃ³ng tá»‘i, hay Internet Ä‘Ã£ káº¿t ná»‘i nhÃ¢n loáº¡i, AI Ä‘ang viáº¿t nÃªn chÆ°Æ¡ng má»›i trong cÃ¢u chuyá»‡n tiáº¿n hÃ³a cá»§a cÃ´ng nghá»‡. Tá»« nhá»¯ng giáº¥c mÆ¡ vá» mÃ¡y mÃ³c thÃ´ng minh, chÃºng ta Ä‘Ã£ chá»©ng kiáº¿n sá»± xuáº¥t hiá»‡n cá»§a nhá»¯ng ngÆ°á»i báº¡n sá»‘ cÃ³ thá»ƒ hiá»ƒu, giao tiáº¿p vÃ  sÃ¡ng táº¡o theo cÃ¡ch tÆ°á»Ÿng chá»«ng chá»‰ cÃ³ trÃªn phim.\nKhÃ´ng giá»‘ng nhÆ° cÃ¡c cuá»™c cÃ¡ch máº¡ng cÃ´ng nghá»‡ trÆ°á»›c Ä‘Ã¢y thÆ°á»ng táº­p trung vÃ o viá»‡c tÄƒng cÆ°á»ng sá»©c máº¡nh thá»ƒ cháº¥t, AI Ä‘ang khuáº¿ch Ä‘áº¡i chÃ­nh kháº£ nÄƒng trÃ­ tuá»‡ - thá»© lÃ m nÃªn báº£n cháº¥t con ngÆ°á»i. ÄÃ¢y khÃ´ng Ä‘Æ¡n thuáº§n lÃ  má»™t cÃ´ng cá»¥ má»›i, mÃ  lÃ  má»™t ngÆ°á»i cá»™ng sá»± má»›i trong hÃ nh trÃ¬nh khÃ¡m phÃ¡ vÃ  sÃ¡ng táº¡o cá»§a nhÃ¢n loáº¡i.\nTrÃ­ tuá»‡ nhÃ¢n táº¡o AI, Ä‘á»‹nh nghÄ©a chung DÆ°á»›i gÃ³c nhÃ¬n cá»§a miquant, AI Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau:\nAI (trÃ­ tuá»‡ nhÃ¢n táº¡o) lÃ  táº­p há»£p cÃ¡c thuáº­t toÃ¡n cÃ³ kháº£ nÄƒng lÃ½ luáº­n (reason), há»c há»i (learn) vÃ  hÃ nh Ä‘á»™ng (act) theo cÃ¡ch mÃ  thÃ´ng thÆ°á»ng Ä‘Ã²i há»i trÃ­ thÃ´ng minh cá»§a con ngÆ°á»i. Äiá»ƒm khÃ¡c biá»‡t lá»›n nháº¥t giá»¯a AI vÃ  con ngÆ°á»i náº±m á»Ÿ cÆ°á»ng Ä‘á»™ vÃ  tá»‘c Ä‘á»™ xá»­ lÃ½ thÃ´ng tinâ€”AI cÃ³ thá»ƒ tiáº¿p nháº­n vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u vá»›i quy mÃ´ vÆ°á»£t xa kháº£ nÄƒng cá»§a con ngÆ°á»i. Trong má»™t há»‡ thá»‘ng AI, yáº¿u tá»‘ cá»‘t lÃµi táº¡o nÃªn sá»± khÃ¡c biá»‡t chÃ­nh lÃ  dá»¯ liá»‡u mÃ  nÃ³ Ä‘Æ°á»£c â€œdáº¡yâ€. TÆ°Æ¡ng tá»± con ngÆ°á»i, kháº£ nÄƒng lÃ½ luáº­n, há»c há»i vÃ  hÃ nh Ä‘á»™ng á»Ÿ AI cÅ©ng hÃ¬nh thÃ nh tá»« quÃ¡ trÃ¬nh tÃ­ch lÅ©y kinh nghiá»‡m, kiáº¿n thá»©c vÃ  tráº£i nghiá»‡m. Khi gáº·p má»™t váº¥n Ä‘á» má»›i, con ngÆ°á»i thÆ°á»ng tÃ¬m kiáº¿m cÃ¡c trÆ°á»ng há»£p tÆ°Æ¡ng tá»± (tá»‘i Æ°u hÃ³a xÃ¡c suáº¥t) vÃ  Ã¡p dá»¥ng nhá»¯ng giáº£i phÃ¡p Ä‘Ã£ cÃ³.\nÄiá»u thÃº vá»‹ lÃ  AI cÅ©ng Ä‘Æ°á»£c xÃ¢y dá»±ng vÃ  tá»‘i Æ°u dá»±a trÃªn nguyÃªn lÃ½ tÆ°Æ¡ng tá»±. Tá»« báº¯t Ä‘áº§u, cÃ¡c thuáº­t toÃ¡n AI Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ tÃ¬m ra má»‘i quan há»‡ giá»¯a cÃ¡c sá»± váº­t hiá»‡n tÆ°á»£ng thÃ´ng qua phÆ°Æ¡ng thá»©c pattern-matching (tÃ¬m kiáº¿m Ä‘iá»ƒm tÆ°Æ¡ng Ä‘á»“ng). Báº±ng cÃ¡ch quan sÃ¡t vÃ  há»c tá»« ráº¥t nhiá»u vÃ­ dá»¥, khi gáº·p má»™t tÃ¬nh huá»‘ng gáº§n giá»‘ng, AI sáº½ Ä‘Æ°a ra dá»± Ä‘oÃ¡n cÃ³ xÃ¡c suáº¥t tÆ°Æ¡ng Ä‘á»“ng cao nháº¥t. Con ngÆ°á»i cÅ©ng hoáº¡t Ä‘á»™ng theo cÃ¡ch nÃ yâ€”trÆ°á»›c khi Ä‘áº¿n tuá»•i Ä‘i há»c, chÃºng ta há»c ngÃ´n ngá»¯ máº¹ Ä‘áº» thÃ´ng qua vÃ´ vÃ n vÃ­ dá»¥ tá»« cha máº¹, Ä‘Æ°á»£c láº·p Ä‘i láº·p láº¡i háº±ng ngÃ y. Hoáº·c khi há»c má»™t mÃ´n thá»ƒ thao, chÃºng ta pháº£i táº­p thá»­ nhiá»u láº§n Ä‘á»ƒ dáº§n Ä‘oÃ¡n Ä‘Æ°á»£c hÆ°á»›ng Ä‘i cá»§a quáº£ bÃ³ng khi Ä‘Ã¡ máº¡nh hay nháº¹.\nTrong vÃ²ng 5 nÄƒm trá»Ÿ láº¡i Ä‘Ã¢y, AI Ä‘Ã£ cÃ³ má»™t bÆ°á»›c tiáº¿n vÆ°á»£t báº­câ€”Ä‘áº¿n má»©c Ä‘Æ°á»£c xem nhÆ° cá»™t má»‘c lá»‹ch sá»­. CÅ©ng nhÆ° con ngÆ°á»i khÃ¡c biá»‡t vá»›i Ä‘á»™ng váº­t á»Ÿ kháº£ nÄƒng hiá»ƒu vÃ  sá»­ dá»¥ng ngÃ´n ngá»¯, cÃ¡c nhÃ  khoa há»c Ä‘Ã£ nháº­n ra táº§m quan trá»ng cá»§a ngÃ´n ngá»¯ trong AI. Há» thÃ nh cÃ´ng xÃ¢y dá»±ng cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (Large Language Modelâ€”LLM) dá»±a trÃªn cÆ¡ cháº¿ tÆ°Æ¡ng tá»±, coi Ä‘Ã³ nhÆ° má»™t phÆ°Æ¡ng thá»©c giao tiáº¿p chung giá»¯a ngÆ°á»i vá»›i mÃ¡y, giá»¯a mÃ¡y vá»›i mÃ¡y, vÃ  giá»¯a nhiá»u lÄ©nh vá»±c khÃ¡c nhau.\nCode lÃ  ngÃ´n ngá»¯ cá»§a mÃ¡y tÃ­nh, protein vÃ  phÃ¢n tá»­ lÃ  ngÃ´n ngá»¯ cá»§a táº¿ bÃ o. Giá» Ä‘Ã¢y, cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) trá»Ÿ thÃ nh cÃ¢y cáº§u ná»‘i giÃºp káº¿t há»£p kháº£ nÄƒng suy luáº­n vÃ  kiáº¿n thá»©c, táº¡o nÃªn má»™t ná»n táº£ng chung vá»¯ng cháº¯c.\nPháº§n tiáº¿p theo cá»§a bÃ i viáº¿t sáº½ Ä‘Ã o sÃ¢u vÃ o chá»§ Ä‘á» LLM vÃ  giáº£i thÃ­ch táº¡i sao nÃ³ Ä‘Ã£ vÃ  Ä‘ang thay Ä‘á»•i cÃ¡ch con ngÆ°á»i lÃ m viá»‡c.\nAI trong tháº­p niÃªn 2010 Trong tháº­p niÃªn 2010, trÃ­ tuá»‡ nhÃ¢n táº¡o (AI) chá»§ yáº¿u Ä‘Æ°á»£c phÃ¡t triá»ƒn vá»›i má»¥c tiÃªu giáº£i quyáº¿t cÃ¡c nhiá»‡m vá»¥ cá»¥ thá»ƒ, nhÆ° má»™t loáº¡t cÃ¡c â€œchuyÃªn giaâ€ nhá» trong má»—i lÄ©nh vá»±c. CÃ¡c há»‡ thá»‘ng AI thá»i Ä‘Ã³ Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ thá»±c hiá»‡n nhá»¯ng tÃ¡c vá»¥ Ä‘á»‹nh sáºµn vá»›i hiá»‡u suáº¥t cao, thay vÃ¬ cá»‘ gáº¯ng hiá»ƒu vÃ  xá»­ lÃ½ má»i váº¥n Ä‘á» má»™t cÃ¡ch tá»•ng quÃ¡t.\nVÃ­ dá»¥, trong lÄ©nh vá»±c xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn, cÃ¡c mÃ´ hÃ¬nh nhÆ° mÃ¡y dá»‹ch tá»± Ä‘á»™ng hay phÃ¢n tÃ­ch cáº£m xÃºc (sentiment analysis) Ä‘Æ°á»£c táº¡o ra riÃªng biá»‡t dÃ nh cho má»™t ngÃ´n ngá»¯ xÃ¡c Ä‘á»‹nh trÆ°á»›c. CÃ¡c há»‡ thá»‘ng nÃ y Ä‘Æ°á»£c táº¡o ra vá»›i má»™t mÃºc Ä‘Ã­ch xÃ¡c Ä‘á»‹nh vÃ  cá»‘ gáº¯ng tá»‘i Æ°u duy nháº¥t bÃ i toÃ¡n Ä‘Ã³.\nHay trong tÃ i chÃ­nh, cÃ¡c mÃ´ hÃ¬nh AI nhÆ° dá»± Ä‘oÃ¡n giÃ¡ cá»• phiáº¿u, giÃ¡ commodity hay tá»‘i Æ°u hoÃ¡ danh má»¥c Ä‘Æ°á»£c thiáº¿t káº¿ riÃªng nháº±m tá»‘i Æ°u hoÃ¡ bÃ i toÃ¡n cá»¥ thá»ƒ nÃ y.\nTrong tháº­p ká»· nÃ y, sá»± thÃ nh cÃ´ng cá»§a AI náº±m á»Ÿ phÆ°Æ¡ng phÃ¡p há»c cÃ³ giÃ¡m sÃ¡t (supervised learning) thÃ´ng qua mÃ´ hÃ¬nh cÃ¡c há»c sÃ¢u (Deep learning) mÃ  ná»n táº£ng cá»§a chÃºng lÃ  cÃ¡c máº¡ng neural.\nVá»›i há»c cÃ³ giÃ¡m sÃ¡t, á»Ÿ tá»«ng bÃ i toÃ¡n cá»¥ thá»ƒ, nhÃ  phÃ¡t triá»ƒn (Developer) sáº½ gÃ¡n nhÃ£n (label) cÃ¡c vÃ­ dá»¥ Ä‘á»ƒ biá»ƒu diá»…n cÃ¡c hÃ nh vi mÃ  há» muá»‘n mÃ´ hÃ¬nh AI há»c vÃ  huáº¥n luyá»‡n dá»±a trÃªn cÃ¡c vÃ­ dá»¥ Ä‘Ã³. Sau khi Ä‘Æ°á»£c huáº¥n luyá»‡n, cÃ¡c mÃ´ hÃ¬nh AI nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c Ã¡p dá»¥ng vÃ o dá»¯ liá»‡u má»›i. VÃ­ dá»¥, Ä‘á»ƒ Ä‘Ã o táº¡o mÃ´ hÃ¬nh phÃ¡t hiá»‡n gian láº­n, cÃ¡c giao dá»‹ch sáº½ Ä‘Æ°á»£c gÃ¡n nhÃ£n (target) lÃ  \u0026ldquo;lá»«a Ä‘áº£o\u0026rdquo; hoáº·c \u0026ldquo;khÃ´ng lá»«a Ä‘áº£o\u0026rdquo; cÃ¹ng vá»›i cÃ¡c Ä‘áº·c Ä‘iá»ƒm cá»§a tá»«ng giao dá»‹ch (features). Sau khi mÃ´ hÃ¬nh há»c Ä‘Æ°á»£c tá»« cÃ¡c Ä‘áº·c Ä‘iá»ƒm nÃ y (nhÆ° Ä‘á»‹a Ä‘iá»ƒm gá»­i tiá»n, sá»‘ tiá»n, tá»‘c Ä‘á»™, cÆ°á»ng Ä‘á»™\u0026hellip;) vÃ  cÃ¡c nhÃ£n tÆ°Æ¡ng á»©ng, nÃ³ cÃ³ thá»ƒ dá»± Ä‘oÃ¡n liá»‡u má»™t giao dá»‹ch má»›i cÃ³ pháº£i lÃ  lá»«a Ä‘áº£o hay khÃ´ng chá»‰ dá»±a trÃªn cÃ¡c Ä‘áº·c Ä‘iá»ƒm tÆ°Æ¡ng tá»±.\nKhoáº£nh kháº¯c ChatGPT (ChatGPT moment) VÃ o ngÃ y 30/11/2022, ChatGPT, má»™t mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n Ä‘á»™t phÃ¡ tá»« OpenAI ra máº¯t, Ä‘Ã¡nh dáº¥u má»™t cá»™t má»‘c quan trá»ng trong lá»‹ch sá»­ cÃ´ng nghá»‡. KhÃ´ng pháº£i lÃ  má»™t phÃ©p mÃ u, ChatGPT lÃ  káº¿t quáº£ tá»•ng há»£p cá»§a nhiá»u tháº­p ká»· nghiÃªn cá»©u tá»« nhá»¯ng nÄƒm 1950.\nTá»•ng quÃ¡t mÃ  nÃ³i,Â mÃ´ hÃ¬nh ngÃ´n ngá»¯Â (language model) hoáº¡t Ä‘á»™ng theo nguyÃªn táº¯c Ä‘Æ¡n giáº£n: chÃºng mÃ£ hÃ³a ngÃ´n ngá»¯ thÃ nh cÃ¡c thÃ´ng tin mang tÃ­nh thá»‘ng kÃª Ä‘á»ƒ Æ°á»›c tÃ­nh xÃ¡c suáº¥t xuáº¥t hiá»‡n cá»§a má»™t tá»« trong má»™t ngá»¯ cáº£nh nháº¥t Ä‘á»‹nh. Äiá»u nÃ y giÃºp mÃ´ hÃ¬nh dá»± Ä‘oÃ¡n vÃ  táº¡o ra vÄƒn báº£n má»™t cÃ¡ch tá»± nhiÃªn, phÃ¹ há»£p vá»›i ngá»¯ cáº£nh. VÃ­ dá»¥, vá»›i ngá»¯ cáº£nh \u0026ldquo;Yáº¿u tá»‘ quan trá»ng nháº¥t áº£nh hÆ°á»Ÿng Ä‘áº¿n thá»‹ trÆ°á»ng tÃ i chÃ­nh lÃ  __\u0026rdquo;, má»™t mÃ´ hÃ¬nh ngÃ´n ngá»¯ sáº½ dá»± Ä‘oÃ¡n xÃ¡c suáº¥t xuáº¥t hiá»‡n cá»§a chá»¯ \u0026ldquo;kÃ¬ vá»ng\u0026rdquo; sáº½ cao hÆ¡n nhiá»u so vá»›i chá»¯ \u0026ldquo;thá»i tiáº¿t\u0026rdquo;.\nDÆ°á»›i gÃ³c nhÃ¬n cá»§a thuáº­t toÃ¡n, khÃ¡c vá»›i con ngÆ°á»i, thay vÃ¬ nhÃ¬n má»™t cÃ¢u dÃ i vá»›i nhiá»u kÃ­ tá»±, chÃºng sáº½ sá»­ dá»¥ng â€œtokenâ€. Má»™t token cÃ³ thá»ƒ lÃ  má»™t tá»«, má»™t pháº§n cá»§a tá»« hoáº·c tháº­m chÃ­ lÃ  cÃ¡c kÃ½ tá»± Ä‘Æ¡n láº», vÃ­ dá»¥ chá»¯ â€œnháº¯câ€ lÃ  2 token lÃ  â€œnhâ€ vÃ  â€œáº¯câ€ Ä‘Æ°á»£c biá»ƒu diá»…n báº±ng 2 token 5380 vÃ  35708; trong khi chá»¯ â€œÄ‘áº¹pâ€ Ä‘Æ°á»£c biá»ƒu diá»…n báº±ng 1 token 75134. Vá»›i phÆ°Æ¡ng phÃ¡p trÃªn, má»™t cÃ¢u sáº½ Ä‘Æ°á»£c biá»ƒu diá»…n báº±ng nhiá»u token khÃ¡c nhau.\nTiáº¿ng Viá»‡t:\nThÃ´ng qua dataset trÃªn hugging face, team miquant nháº­n tháº¥y ráº±ng, sau khi chuyá»ƒn sang token (GPT-4o), má»™t cÃ¢u tiáº¿ng Viá»‡t á»Ÿ dáº¡ng token sáº½ dÃ i hÆ¡n trung bÃ¬nh 35% so vá»›i cÃ¢u nguyÃªn báº£n. Tá»©c 100 chá»¯ tiáº¿ng Viá»‡t sáº½ xáº¥p xá»‰ 135 token.\nDá»±a trÃªn cÃ¡c token nÃ y, má»™t mÃ´ hÃ¬nh ngÃ´n ngá»¯ sáº½ cá»‘ gáº¯ng dá»± Ä‘oÃ¡n láº§n lÆ°á»£t cÃ¡c token tiáº¿p theo cÃ³ xÃ¡c suáº¥t xuáº¥t hiá»‡n cao nháº¥t dá»±a trÃªn cÃ¡c token trÆ°á»›c Ä‘Ã³. CÃ¡c mÃ´ hÃ¬nh nÃ y liÃªn tá»¥c dá»± Ä‘oÃ¡n láº§n lÆ°á»£t tá»«ng token cho Ä‘áº¿n khi hoÃ n thÃ nh cÃ¢u. Quy trÃ¬nh nÃ y hoáº¡t Ä‘á»™ng dá»±a trÃªn xÃ¡c suáº¥t vÃ  khÃ´ng Ä‘áº£m báº£o luÃ´n luÃ´n chÃ­nh xÃ¡c. Tuy nhiÃªn, nhá» vÃ o cÆ¡ cháº¿ nÃ y, LLM láº¡i cÃ³ má»™t sá»©c máº¡nh to lá»›n so vá»›i ráº¥t nhiá»u mÃ´ hÃ¬nh AI khÃ¡c.\nVá»›i má»i yÃªu cáº§u báº¡n Ä‘áº·t ra (prompt), cÃ¡c mÃ´ hÃ¬nh LLM nÃ y luÃ´n cá»‘ gáº¯ng hoÃ n thÃ nh nÃ³, vÃ¬ tháº¿ Ä‘Æ°á»£c gá»i lÃ  tÃ¡c vá»¥ hoÃ n thÃ nh (completion tasks). Ráº¥t nhiá»u váº¥n Ä‘á» cá»§a chÃºng ta cÃ³ thá»ƒ Ä‘Æ°á»£c diá»…n giáº£i thÃ nh cÃ¡c tÃ¡c vá»¥ pháº£i hoÃ n thÃ nh. CÃ¡c bÃ i toÃ¡n nhÆ° phiÃªn dá»‹ch, láº­p trÃ¬nh, phÃ¢n tÃ­ch dá»¯ liá»‡u, hay giáº£i toÃ¡n hay phÃ¢n tÃ­ch cÆ¡ báº£n, doanh thu Ä‘á»u cÃ³ thá»ƒ Ä‘Æ°á»£c thiáº¿t káº¿ dÆ°á»›i dáº¡ng cÃ¡c tÃ¡c vá»¥ hoÃ n thÃ nh thÃ´ng qua cÃ¡ch báº¡n thiáº¿t káº¿ cÃ¢u prompt. Tá»« Ä‘Ã³, cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ sáº½ cá»‘ gáº¯ng Ä‘Æ°a ra cÃ¢u tráº£ lá»i cÃ³ xÃ¡c suáº¥t cao nháº¥t dá»±a trÃªn táº¥t cáº£ thÃ´ng tin báº¡n cung cáº¥p.\nğŸ’¡ VÃ­ dá»¥ cá»¥ thá»ƒ\nCÃ¢u há»i: Dá»±a trÃªn bÃ i bÃ¡o Ä‘Æ°á»£c cung cáº¥p, hÃ£y phÃ¢n tÃ­ch cáº£m xÃºc (Sentiment) cá»§a bÃ i bÃ¡o nÃ y.\n\u0026lt;TiÃªu Ä‘á»\u0026gt;\nQuá»‘c Há»™i Ä‘á» xuáº¥t â€¦.\n\u0026lt;Ná»™i dung\u0026gt;\nNgÃ y 28/12 vá»«a qua \u0026hellip;\nTráº£ lá»i: TÃ­ch cá»±c!\nMÃ´ hÃ¬nh ngÃ´n ngá»¯ sáº½ cá»‘ gáº¯ng xÃ¡c Ä‘á»‹nh bÃ i bÃ¡o vá»›i ná»™i dung nÃ y cÃ³ cáº£m xÃºc lÃ  tÃ­ch cá»±c, tiÃªu cá»±c hay trung tÃ­nh. Tá»« Ä‘Ã³, mÃ´ hÃ¬nh ngÃ´n ngá»¯ Ä‘Ã£ trá»Ÿ thÃ nh má»™t mÃ´ hÃ¬nh phÃ¢n loáº¡i cáº£m xÃºc cho tin tá»©c thÃ´ng qua quÃ¡ trÃ¬nh tá»‘i Æ°u hoÃ¡ xÃ¡c suáº¥t.\nAI trong tÃ i chÃ­nh NhÆ° Ä‘Ã£ bÃ n luáº­n kÄ© á»Ÿ trÃªn, báº£n thÃ¢n cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ cÃ³ sá»©c máº¡nh ráº¥t lá»›n, nhá» vÃ o kháº£ nÄƒng hoÃ n thÃ nh cÃ¡c yÃªu cáº§u Ä‘Æ°á»£c giao. Tuy nhiÃªn, cáº§n nháº¥n máº¡nh ráº±ng quy trÃ¬nh nÃ y lÃ  má»™t quy trÃ¬nh dá»± Ä‘oÃ¡n dá»±a trÃªn xÃ¡c suáº¥t, nÃªn khÃ´ng Ä‘áº£m báº£o luÃ´n luÃ´n chÃ­nh xÃ¡c. Máº·c dÃ¹ váº­y, nhá» kháº£ nÄƒng nÃ y, ráº¥t nhiá»u tÃ¡c vá»¥ trÆ°á»›c Ä‘Ã¢y tá»‘n nhiá»u nhÃ¢n lá»±c, nguá»“n lá»±c vÃ  thá»i gian Ä‘Ã£ trá»Ÿ nÃªn Ä‘Æ¡n giáº£n hÆ¡n, hiá»‡u quáº£ hÆ¡n vÃ  cÃ²n cÃ³ Ä‘á»™ chÃ­nh xÃ¡c cao hÆ¡n ráº¥t nhiá»u.\nLáº¥y má»™t vÃ­ dá»¥ cá»¥ thá»ƒ, táº¡i miquant, trong cÃ¡c nghiÃªn cá»©u Ä‘Ã£ thá»±c hiá»‡n, viá»‡c táº¡o ra má»™t mÃ´ hÃ¬nh phÃ¢n tÃ­ch cáº£m xÃºc cho cÃ¡c thÃ´ng tin bÃ¡o chÃ­ Viá»‡t Nam Ä‘Ã²i há»i má»™t lÆ°á»£ng dá»¯ liá»‡u cÃ³ cáº¥u trÃºc (structured data) ráº¥t lá»›n. Miquant tá»«ng xÃ¢y dá»±ng bá»™ dá»¯ liá»‡u vá»›i 20.000 Ä‘iá»ƒm máº«u phÃ¢n loáº¡i thÃ´ng tin tÃ­ch cá»±c, tiÃªu cá»±c hay trung tÃ­nh. KhÃ´ng chá»‰ váº­y, viá»‡c huáº¥n luyá»‡n má»™t mÃ´ hÃ¬nh nháº­n diá»‡n cáº£m xÃºc cÃ²n Ä‘Ã²i há»i ráº¥t nhiá»u thá»i gian Ä‘á»ƒ huáº¥n luyá»‡n, kiá»ƒm tra vÃ  triá»ƒn khai. Tuy nhiÃªn, ká»ƒ tá»« khi LLM xuáº¥t hiá»‡n, miquant Ä‘Ã£ tá»‘i Æ°u hÃ³a Ä‘Ã¡ng ká»ƒ cho bÃ i toÃ¡n phÃ¢n tÃ­ch cáº£m xÃºc. Thay vÃ¬ 20.000 Ä‘iá»ƒm máº«u, miquant chá»‰ cáº§n sá»­ dá»¥ng chÆ°a Ä‘áº¿n 200 máº«u, Ä‘á»“ng thá»i thá»i gian triá»ƒn khai Ä‘Æ°á»£c rÃºt ngáº¯n xuá»‘ng cÃ²n vÃ i giÃ¢y Ä‘á»ƒ xá»­ lÃ½ cÃ¡c bÃ i bÃ¡o khÃ¡c nhauâ€”vá»›i Ä‘á»™ chÃ­nh xÃ¡c tháº­m chÃ­ cÃ²n cao hÆ¡n trÆ°á»›c. Má»™t káº¿t quáº£ mÃ  ngay cáº£ Ä‘á»™i ngÅ© miquant cÅ©ng khÃ´ng ngá» tá»›i!\nNgoÃ i ra, cÃ¡c mÃ´ hÃ¬nh LLM cÅ©ng Ä‘Ã£ Ä‘Æ°á»£c thá»­ nghiá»‡m cho quÃ¡ trÃ¬nh thu tháº­p dá»¯ liá»‡u, backtest cÃ¡c chiáº¿n lÆ°á»£c Ä‘áº§u tÆ°, tá»‘i Æ°u hoÃ¡ danh má»¥c, hay gáº§n hÆ¡n, cÃ¡c mÃ´ hÃ¬nh vá» AI agent nháº±m tÄƒng Ä‘á»™ chÃ­nh xÃ¡c cho cÃ¡c bÃ i toÃ¡n phá»©c táº¡p hÆ¡n.\nSong, miquant tin ráº±ng, sá»©c máº¡nh lá»›n nháº¥t cá»§a cÃ¡c mÃ´ hÃ¬nh LLM chÃ­nh lÃ  tá»± Ä‘á»™ng hoÃ¡ khÃ¢u phÃ¢n tÃ­nh Ä‘á»‹nh tÃ­nh (qualitative analysis) hÆ¡n lÃ  cho cÃ¡c phÃ¢n tÃ­ch vá» Ä‘á»‹nh lÆ°á»£ng (quantitative analysis) trong Ä‘áº§u tÆ°. Dá»±a trÃªn cÆ¡ cháº¿ khÃ¡c háº³n cÃ¡c mÃ´ hÃ¬nh AI truyá»n thá»‘ng, LLM cÃ³ thá»ƒ hiá»ƒu ngÃ´n ngá»¯ (understanding) , suy luáº­n (reasoning) vÃ  Ä‘Æ°a ra má»™t káº¿t luáº­n hay khuyáº¿n nghá»‹ (acting). ChÃ­nh nhá» cÃ¡c yáº¿u tá»‘ nÃ y, khÃ¢u phÃ¢n tÃ­nh vá» Ä‘á»‹nh tÃ­nh mÃ  chá»‰ con ngÆ°á»i má»›i cÃ³ thá»ƒ lÃ m Ä‘Æ°á»£c, giá» Ä‘Ã¢y Ä‘Ã£ Ä‘Æ°á»£c tá»± Ä‘á»™ng hoÃ¡.\n(https://arxiv.org/pdf/2405.05345v1)\nPhÃ¢n tÃ­ch Ä‘á»‹nh tÃ­nh truyá»n thá»‘ng trong Ä‘áº§u tÆ° tÃ i chÃ­nh thÆ°á»ng Ä‘Ã²i há»i chuyÃªn gia xá»­ lÃ½ vÃ  nghiÃªn cá»©u hÃ ng trÄƒm bÃ¡o cÃ¡o tÃ i chÃ­nh, tin tá»©c, vÃ  tÃ i liá»‡u khÃ¡c Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ cÃ¡c yáº¿u tá»‘ khÃ´ng thá»ƒ lÆ°á»£ng hÃ³a nhÆ° chiáº¿n lÆ°á»£c cÃ´ng ty, nÄƒng lá»±c ban lÃ£nh Ä‘áº¡o, cÃ¡c xu hÆ°á»›ng thá»‹ trÆ°á»ng vÃ  cáº£m xÃºc cá»§a nhÃ  Ä‘áº§u tÆ°. Vá»›i sá»± xuáº¥t hiá»‡n cá»§a cÃ¡c mÃ´ hÃ¬nh LLM, phÃ¢n tÃ­ch Ä‘á»‹nh tÃ­nh khÃ´ng chá»‰ Ä‘Æ°á»£c tá»± Ä‘á»™ng hoÃ¡ mÃ  cÃ²n nÃ¢ng cao Ä‘Ã¡ng ká»ƒ theo nhiá»u cÃ¡ch:\nPhÃ¢n tÃ­ch bÃ¡o cÃ¡o tÃ i chÃ­nh toÃ n diá»‡n: LLM cÃ³ thá»ƒ nhanh chÃ³ng Ä‘á»c vÃ  tÃ³m táº¯t cÃ¡c bÃ¡o cÃ¡o tÃ i chÃ­nh dÃ i, xÃ¡c Ä‘á»‹nh cÃ¡c Ä‘iá»ƒm máº¡nh, Ä‘iá»ƒm yáº¿u, cÆ¡ há»™i vÃ  thÃ¡ch thá»©c mÃ  cÃ´ng ty Ä‘ang Ä‘á»‘i máº·t. CÃ¡c mÃ´ hÃ¬nh nÃ y cÃ³ thá»ƒ Ä‘áº¡t Ä‘á»™ chÃ­nh xÃ¡c tÆ°Æ¡ng Ä‘Æ°Æ¡ng vá»›i phÆ°Æ¡ng phÃ¡p tuyá»n thá»‘ng nhÆ° cÃ¡c analyst trÃªn thá»‹ trÆ°á»ng. Äiá»u Ä‘áº·c biá»‡t á»Ÿ Ä‘Ã¢y chÃ­nh lÃ  tá»‘c Ä‘á»™ vÃ  Ä‘á»™ bao phá»§ (cover) kháº¯p cÃ¡c mÃ£ trÃªn thá»‹ trÆ°á»ng. ÄÃ¡nh giÃ¡ Ä‘iá»ƒm nhÃ¬n chung (consensus) thá»‹ trÆ°á»ng: LLM cÃ³ thá»ƒ phÃ¢n tÃ­ch hÃ ng nghÃ¬n bÃ i bÃ¡o, bÃ¬nh luáº­n trÃªn máº¡ng xÃ£ há»™i vÃ  diá»…n Ä‘Ã n Ä‘áº§u tÆ° Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ cáº£m xÃºc thá»‹ trÆ°á»ng Ä‘á»‘i vá»›i má»™t cá»• phiáº¿u hoáº·c ngÃ nh cá»¥ thá»ƒ. Äiá»u nÃ y giÃºp nhÃ  Ä‘áº§u tÆ° hiá»ƒu Ä‘Æ°á»£c pháº§n \u0026ldquo;tÃ¢m lÃ½\u0026rdquo; cá»§a thá»‹ trÆ°á»ng, má»™t yáº¿u tá»‘ quan trá»ng trong viá»‡c Ä‘á»‹nh giÃ¡ tÃ i sáº£n. Máº·c dÃ¹ váº­y, cáº§n lÆ°u Ã½ ráº±ng LLM khÃ´ng pháº£i lÃ  giáº£i phÃ¡p tuyá»‡t Ä‘á»‘i. CÃ¡c mÃ´ hÃ¬nh nÃ y váº«n cÃ³ thá»ƒ gáº·p pháº£i váº¥n Ä‘á» nhÆ° \u0026ldquo;áº£o giÃ¡c\u0026rdquo; (hallucination), khi chÃºng táº¡o ra thÃ´ng tin khÃ´ng chÃ­nh xÃ¡c hoáº·c khÃ´ng tá»“n táº¡i, Ä‘iá»u nÃ y chÃ­nh lÃ  má»™t Ä‘iá»ƒm yáº¿u lá»›n vÃ¬ báº£n thÃ¢n cÆ¡ cháº¿ cá»§a LLM lÃ  dá»± Ä‘oÃ¡n dá»±a trÃªn xÃ¡c suáº¥t. Do Ä‘Ã³, vai trÃ² cá»§a con ngÆ°á»i váº«n ráº¥t quan trá»ng trong viá»‡c xÃ¡c minh, Ä‘Ã¡nh giÃ¡ vÃ  Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh cuá»‘i cÃ¹ng dá»±a trÃªn nhá»¯ng phÃ¢n tÃ­ch nÃ y.\nÄá»ƒ sá»­ dá»¥ng Ä‘Æ°á»£c cÃ¡c mÃ´ hÃ¬nh LLM hiá»‡u quáº£, Ä‘iá»u quan trá»ng nháº¥t lÃ  khÃ´ng Ä‘Æ°á»£c lá»‡ thuá»™c vÃ o nÃ³. NhÆ° má»i giai Ä‘oáº¡n phÃ¡t triá»ƒn cá»§a lá»‹ch sá»­ khÃ¡c, cÃ´ng nghá»‡ Ä‘áº¿n rá»“i Ä‘i. Táº¥t cáº£ cÃ´ng nghá»‡ cÅ©ng chá»‰ lÃ  cÃ´ng cá»¥ nháº±m há»— trá»£ cho con ngÆ°á»i thá»±c hiá»‡n Ä‘Æ°á»£c cÃ¡c tÃ¡c vá»¥ cá»§a há» vá»›i tá»‘c Ä‘á»™ nhanh nháº¥t, xá»­ lÃ½ Ä‘Æ°á»£c nhiá»u tÃ¡c vá»¥ nháº¥t vÃ  Ä‘á»™ chÃ­nh xÃ¡c lÃ  cao nháº¥t.\nKáº¿t luáº­n Trong thá»i Ä‘áº¡i cá»§a sá»± bÃ¹ng ná»• cÃ´ng nghá»‡ AI, cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) vÃ  AI agent Ä‘ang dáº§n Ä‘á»‹nh hÃ¬nh láº¡i cÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a ngÃ nh tÃ i chÃ­nh vÃ  Ä‘áº§u tÆ°. Nhá»¯ng cÃ´ng cá»¥ nÃ y khÃ´ng chá»‰ Ä‘Æ¡n thuáº§n lÃ  phÆ°Æ¡ng tiá»‡n tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ láº·p Ä‘i láº·p láº¡i, mÃ  cÃ²n má»Ÿ ra má»™t ká»· nguyÃªn má»›i trong phÃ¢n tÃ­ch tÃ i chÃ­nhâ€”nÆ¡i phÃ¢n tÃ­ch Ä‘á»‹nh tÃ­nh Ä‘Æ°á»£c thá»±c hiá»‡n vá»›i tá»‘c Ä‘á»™, quy mÃ´ vÃ  Ä‘á»™ chÃ­nh xÃ¡c chÆ°a tá»«ng cÃ³.\nTáº¡i miquant, chÃºng tÃ´i tin ráº±ng tÆ°Æ¡ng lai cá»§a Ä‘áº§u tÆ° tÃ i chÃ­nh sáº½ lÃ  sá»± káº¿t há»£p hÃ i hÃ²a giá»¯a sá»©c máº¡nh cá»§a AI vÃ  kinh nghiá»‡m cá»§a con ngÆ°á»i. LLM vÃ  AI agent sáº½ tiáº¿p tá»¥c phÃ¡t triá»ƒn, trá»Ÿ thÃ nh nhá»¯ng cÃ´ng cá»¥ khÃ´ng thá»ƒ thiáº¿u cho cÃ¡c nhÃ  Ä‘áº§u tÆ° hiá»‡n Ä‘áº¡i, giÃºp há» Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh sÃ¡ng suá»‘t hÆ¡n trong má»™t thá»‹ trÆ°á»ng ngÃ y cÃ ng phá»©c táº¡p vÃ  biáº¿n Ä‘á»™ng.\nTuy nhiÃªn, Ä‘á»«ng quÃªn ráº±ng, dÃ¹ cÃ´ng nghá»‡ cÃ³ tiÃªn tiáº¿n Ä‘áº¿n Ä‘Ã¢u, trÃ­ tuá»‡, kinh nghiá»‡m vÃ  kháº£ nÄƒng phÃ¡n Ä‘oÃ¡n cá»§a con ngÆ°á»i váº«n lÃ  yáº¿u tá»‘ quyáº¿t Ä‘á»‹nh cuá»‘i cÃ¹ng trong hÃ nh trÃ¬nh Ä‘áº§u tÆ° thÃ nh cÃ´ng. Nhá»¯ng cÃ´ng cá»¥ AI chá»‰ thá»±c sá»± phÃ¡t huy giÃ¡ trá»‹ khi Ä‘Æ°á»£c sá»­ dá»¥ng nhÆ° má»™t pháº§n bá»• sung cho kiáº¿n thá»©c vÃ  ká»¹ nÄƒng cá»§a nhÃ  Ä‘áº§u tÆ°, chá»© khÃ´ng pháº£i thay tháº¿ hoÃ n toÃ n vai trÃ² cá»§a há».\nTrong cÃ¡c bÃ i viáº¿t tiáº¿p theo cá»§a chuá»—i series nÃ y, chÃºng tÃ´i sáº½ Ä‘i sÃ¢u hÆ¡n vÃ o nhá»¯ng á»©ng dá»¥ng cá»¥ thá»ƒ cá»§a LLM vÃ  AI agent trong Ä‘áº§u tÆ°, chia sáº» nhá»¯ng nghiÃªn cá»©u vÃ  kinh nghiá»‡m thá»±c táº¿ tá»« miquant, Ä‘á»“ng thá»i mang Ä‘áº¿n nhá»¯ng gÃ³c nhÃ¬n má»›i vá» tÆ°Æ¡ng lai cá»§a ngÃ nh tÃ i chÃ­nh trong ká»· nguyÃªn trÃ­ tuá»‡ nhÃ¢n táº¡o.\n","permalink":"http://localhost:1313/posts/2025/2025-03-03-llm-concept-and-application/","summary":"Miquant khÃ¡m phÃ¡ cÆ¡ cháº¿ cá»§a cÃ¡c mÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) vÃ  tÃ¡c Ä‘á»™ng cá»§a AI trong Ä‘áº§u tÆ°, nháº¥n máº¡nh kháº£ nÄƒng tá»± Ä‘á»™ng hÃ³a phÃ¢n tÃ­ch Ä‘á»‹nh tÃ­nh, cáº£i thiá»‡n hiá»‡u suáº¥t vÃ  Ä‘á»™ chÃ­nh xÃ¡c trong cÃ¡c tÃ¡c vá»¥ tÃ i chÃ­nh, Ä‘á»“ng thá»i kháº³ng Ä‘á»‹nh vai trÃ² quan trá»ng cá»§a con ngÆ°á»i trong quÃ¡ trÃ¬nh ra quyáº¿t Ä‘á»‹nh.","title":"AI - NgÆ°á»i lÃ m viá»‡c khÃ´ng ngá»«ng nghá»‰"},{"content":" BÃ i viáº¿t nÃ y thá»­ nghiá»‡m tá»‘i Æ°u hoÃ¡ danh má»¥c sá»­ dá»¥ng Large Language Model (LLM). ThÆ° viá»‡n langchain vÃ  OpenAI gpt4o vÃ  4o-mini sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng cho thá»­ nghiá»‡m.\nConcept Tá»‘i Æ°u hoÃ¡ danh má»¥c Tá»‘i Æ°u hÃ³a danh má»¥c Ä‘áº§u tÆ° lÃ  quÃ¡ trÃ¬nh phÃ¢n bá»• tÃ i sáº£n vÃ o cÃ¡c khoáº£n Ä‘áº§u tÆ° khÃ¡c nhau nháº±m Ä‘áº¡t Ä‘Æ°á»£c sá»± cÃ¢n báº±ng tá»‘i Æ°u giá»¯a lá»£i nhuáº­n ká»³ vá»ng vÃ  rá»§i ro. CÃ¡c phÆ°Æ¡ng phÃ¡p tá»‘i Æ°u hÃ³a truyá»n thá»‘ng, nhÆ° Modern Portfolio Theory hay Mean-variance optimization, chá»§ yáº¿u dá»±a vÃ o dá»¯ liá»‡u lá»‹ch sá»­ vÃ  cÃ¡c giáº£ Ä‘á»‹nh vá» phÃ¢n phá»‘i lá»£i nhuáº­n. Tuy nhiÃªn, chÃºng cÃ³ má»™t sá»‘ háº¡n cháº¿:\nKhÃ³ khÄƒn trong viá»‡c tÃ­ch há»£p cÃ¡c yáº¿u tá»‘ Ä‘á»‹nh tÃ­nh: CÃ¡c phÆ°Æ¡ng phÃ¡p nÃ y thÆ°á»ng khÃ´ng xem xÃ©t cÃ¡c yáº¿u tá»‘ Ä‘á»‹nh tÃ­nh nhÆ° tin tá»©c thá»‹ trÆ°á»ng, sá»± kiá»‡n kinh táº¿ hoáº·c quan Ä‘iá»ƒm cá»§a chuyÃªn gia, tiá»m nÄƒng tá»« cÃ¢u chuyá»‡n kinh doanh dáº«n Ä‘áº¿n viá»‡c thiáº¿u linh hoáº¡t trong pháº£n á»©ng vá»›i cÃ¡c biáº¿n Ä‘á»™ng thá»‹ trÆ°á»ng. Giáº£ Ä‘á»‹nh Ä‘Æ¡n giáº£n hÃ³a: Viá»‡c giáº£ Ä‘á»‹nh ráº±ng lá»£i nhuáº­n tuÃ¢n theo phÃ¢n phá»‘i chuáº©n vÃ  má»‘i quan há»‡ giá»¯a cÃ¡c tÃ i sáº£n lÃ  tuyáº¿n tÃ­nh cÃ³ thá»ƒ khÃ´ng pháº£n Ã¡nh chÃ­nh xÃ¡c thá»±c táº¿ phá»©c táº¡p cá»§a thá»‹ trÆ°á»ng. LLM lÃ  gÃ¬? MÃ´ hÃ¬nh ngÃ´n ngá»¯ lá»›n (LLM) lÃ  cÃ¡c mÃ´ hÃ¬nh há»c sÃ¢u Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn khá»‘i lÆ°á»£ng dá»¯ liá»‡u vÄƒn báº£n khá»•ng lá»“, giÃºp chÃºng cÃ³ kháº£ nÄƒng hiá»ƒu vÃ  táº¡o ra ngÃ´n ngá»¯ tá»± nhiÃªn. Vá»›i kháº£ nÄƒng Ä‘á»c hiá»ƒu ngÃ´n ngá»¯ nÃ y, LLM cÃ³ thá»ƒ trÃ­ch xuáº¥t thÃ´ng tin vÃ  phÃ¢n tÃ­ch dá»¯ liá»‡u phi cáº¥u trÃºc nhanh chÃ³ng vÃ  Ä‘Æ¡n giáº£n hÆ¡n nhiá»u so vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p truyá»n thá»‘ng. VÃ­ dá»¥, LLM cÃ³ thá»ƒ Ä‘á»c 10 bÃ i bÃ¡o gáº§n Ä‘Ã¢y vÃ  tá»•ng há»£p ra 3 luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° phá»• biáº¿n nháº¥t tá»« cÃ¡c bÃ i bÃ¡o Ä‘Ã³â€”má»™t nhiá»‡m vá»¥ mÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p truyá»n thá»‘ng khÃ³ thá»±c hiá»‡n Ä‘Æ°á»£c.\nTáº£n máº¡n: má»™t cÃ¡ch khoa há»c mÃ  nÃ³i, chÃºng ta cÃ³ thá»ƒ \u0026ldquo;hÃ¬nh dung\u0026rdquo; LLM nhÆ° sau: LLM lÃ  má»™t cá»— mÃ¡y Ä‘Æ°a ra káº¿t quáº£ dá»±a trÃªn trÆ°á»ng há»£p cÃ³ xÃ¡c suáº¥t cao nháº¥t. CÃ¡c cÃ¢u prompt Ä‘Ã³ng vai trÃ² giá»›i háº¡n pháº¡m vi lá»±a chá»n cá»§a LLM, tá»« Ä‘Ã³ tÄƒng xÃ¡c suáº¥t cho káº¿t quáº£ mong muá»‘n.\nLLM cho tá»‘i Æ°u hoÃ¡ danh má»¥c Vá»›i kháº£ nÄƒng phÃ¢n tÃ­ch vÃ  táº­n dá»¥ng cÃ¡c dá»¯ liá»‡u phi cáº¥u trÃºc trÃªn, LLM lÃ  má»™t á»©ng cá»­ viÃªn sÃ¡ng giÃ¡ cho quÃ¡ trÃ¬nh tá»‘i Æ°u hoÃ¡ danh má»¥c khi cÃ³ thá»ƒ táº­n dá»¥ng Ä‘Æ°á»£c: (1) dá»¯ liá»‡u cÃ³ cáº¥u trÃºc, thá»‘ng kÃª lá»£i nhuáº­n rá»§i ro; (2) dá»¯ liá»‡u phi cáº¥u trÃºc nhÆ° tiá»m nÄƒng tÄƒng trÆ°á»Ÿng cÃ´ng ty, â€¦; (3) Ä‘Ã¡p á»©ng Ä‘Æ°á»£c cÃ¡c yÃªu cáº§u vá» má»¥c tiÃªu Ä‘áº§u tÆ° (objective), hay cÃ¡c ráº±ng buá»™c Ä‘i kÃ¨m (constraints) má»™t cÃ¡c nhanh chÃ³ng.\nÄá»ƒ dá»… dÃ ng hÃ¬nh dung, chÃºng ta sáº½ cÃ¹ng nhau Ä‘i qua thá»­ nghiá»‡m thá»±c táº¿ cho 6 cá»• phiáº¿u FPT, HPG, MWG, REE, VCB vÃ  VNM!\nXÃ¢y dá»±ng danh má»¥c Ä‘áº§u tÆ° sá»­ dá»¥ng LLM Quy trÃ¬nh tá»‘i Æ°u sáº½ nhau sau\nB1: XÃ¡c Ä‘á»‹nh rá»• cá»• phiáº¿u Ä‘áº§u tÆ° B2: Thu tháº­p thÃ´ng tin: (1) Sentiment cá»§a cá»• phiáº¿u; (2) CÃ¡c luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° - rá»§i ro cá»§a cá»• phiáº¿u; (3) tÃ­n hiá»‡u kÄ© thuáº­t; (4) Äá»™ tÆ°Æ¡ng quan giá»¯a cÃ¡c cá»• phiáº¿u vá»›i nhau B3: Tá»‘i Æ°u hoÃ¡ danh má»¥c: (1) CÃ¡c má»¥c tiÃªu Ä‘áº§u tÆ° cÅ©ng nhÆ° giá»›i háº¡n cho phÃ©p; (2) Xem xÃ©t danh má»¥c quÃ¡ khá»© vÃ  hiá»‡u suáº¥t quÃ½ gáº§n nháº¥t. B4: Backtest Thu tháº­p tin tá»©c tá»« google Táº¡i bÆ°á»›c Ä‘áº§u tiÃªn, chÃºng ta cáº§n xÃ¢y dá»±ng má»™t pipeline Ä‘á»ƒ thu tháº­p Ä‘Æ°á»£c cÃ¡c tin tá»©c liÃªn quan Ä‘áº¿n tá»«ng cá»• phiáº¿u, vÃ  pháº£i phÃ¹ há»£p vá»›i thá»i gian cá»§a giai Ä‘oáº¡n backtest. Táº¡i khÃ¢u nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng thÆ° viá»‡n langchain Ä‘á»ƒ xÃ¢y dá»±ng pipeline vÃ  mÃ´ hÃ¬nh gpt-4o-mini Ä‘á»ƒ xá»­ lÃ½ tin tá»©c\n1 2 3 4 5 6 7 8 9 10 11 def load_google_news_before(query: str, before_date: datetime.date, num_results: int = 30): \u0026#34;\u0026#34;\u0026#34; Query Google News via LangChainâ€™s Google Serper API Wrapper, filtering articles so that only those published before the given date are returned. \u0026#34;\u0026#34;\u0026#34; cd_min = convert_date_to_str(before_date - datetime.timedelta(days=90)) cd_max = convert_date_to_str(before_date) tbs = f\u0026#34;cdr:1,cd_min:{cd_min},cd_max:{cd_max}\u0026#34; search = GoogleSerperAPIWrapper(type=\u0026#34;news\u0026#34;, tbs=tbs, gl=\u0026#34;vn\u0026#34;,hl=\u0026#39;vi\u0026#39;,k=num_results) results = search.results(query) return results Ta cÃ³ thá»ƒ dá»… dÃ ng táº¡o ra má»™t hÃ m Ä‘á»c tin tá»©c sá»­ dá»¥ng Serper vÃ  thÆ° viá»‡n langchain. HÃ m trÃªn thiáº¿t káº¿ Ä‘á»ƒ láº¥y cÃ¡c tin tá»©c trong vÃ o 90 ngÃ y trÆ°á»›c ngÃ y truyá»n vÃ o.\nTrÃ­ch xuáº¥t cÃ¡c thÃ´ng tin mong muá»‘n Äá»ƒ thu tháº­p thÃ´ng tin phá»¥c vá»¥ Ä‘áº§u tÆ°, ta tÃ¬m kiáº¿m cÃ¡c bÃ i bÃ¡o vá»›i tá»« khÃ³a \u0026ldquo;Ä‘áº§u tÆ° vÃ o cá»• phiáº¿u ABC\u0026rdquo;, trong Ä‘Ã³ ABC lÃ  mÃ£ cá»• phiáº¿u cáº§n phÃ¢n tÃ­ch.\nSau khi cÃ³ Ä‘Æ°á»£c cÃ¡c bÃ i bÃ¡o liÃªn quan, ta thu tháº­p cÃ¡c thÃ´ng tin quan trá»ng bao gá»“m: (1) sentiment cá»§a cá»• phiáº¿u trong quÃ½ vá»«a qua; (2) lÃ½ giáº£i cho káº¿t quáº£ sentiment Ä‘Ã³; (3) cÃ¡c luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° (Catalyst); (4) cÃ¡c yáº¿u tá»‘ rá»§i ro.\nÄá»ƒ thá»±c hiá»‡n viá»‡c nÃ y, ta thiáº¿t káº¿ cÃ¢u prompt dá»±a trÃªn cÃ¡c yÃªu cáº§u trÃªn vÃ  sá»­ dá»¥ng mÃ´ hÃ¬nh LLM gpt-4o-mini. VÃ¬ nhiá»‡m vá»¥ nÃ y chá»§ yáº¿u lÃ  tá»•ng há»£p thÃ´ng tin, khÃ´ng Ä‘Ã²i há»i nhiá»u suy luáº­n phá»©c táº¡p, nÃªn viá»‡c sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh nhá» gá»n, nhanh vÃ  tiáº¿t kiá»‡m nhÆ° gpt-4o-mini lÃ  lá»±a chá»n phÃ¹ há»£p.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 ## Sá»­ dá»¥ng pydantic Ä‘á»ƒ Ã©p model tráº£ vá» dáº¡ng dá»¯ liá»‡u nhÆ° mong muá»‘n class Sentiment(BaseModel): sentiment: str = Field(default=None, description=\u0026#34;The financial market sentiment of all news\u0026#34;, enum=[\u0026#34;bearish\u0026#34;, \u0026#34;bullish\u0026#34;, \u0026#34;neutral\u0026#34;]) explanation: str = Field(default=None, description=\u0026#34;The short explanation about the chosen sentiment \u0026#34;) catalyst: List[str] = Field(default=None, description=\u0026#34;The catalyst based on all news\u0026#34;) risk_factor: List[str] = Field(default=None, description=\u0026#34;The risk factor based on all news\u0026#34;) def extract_key_info(stock , date): \u0026#34;\u0026#34;\u0026#34; Extract key information from a news article. \u0026#34;\u0026#34;\u0026#34; nest_asyncio.apply() query = f\u0026#34;Ä‘áº§u tÆ° cá»• phiáº¿u {stock}\u0026#34; # For example, retrieve articles published before January 1, 2025. cutoff_date = date articles = load_google_news_before(query, cutoff_date, num_results=15) links = pd.DataFrame(articles[\u0026#39;news\u0026#39;])[\u0026#39;link\u0026#39;].to_list() ## drop the link from https://etime.danviet.vn links = [link for link in links if \u0026#39;danviet.vn\u0026#39; not in link] ## skip for danviet.vn as it block the request loader = WebBaseLoader(links, continue_on_failure=True) loader.requests_per_second = 0.5 docs = loader.aload() ls = [] for doc in docs: ls.append(doc.page_content.replace(\u0026#39;\\n\\n\u0026#39;, \u0026#39;\u0026#39;).replace(\u0026#39;\\n\u0026#39;, \u0026#39; \u0026#39;)) llm = ChatOpenAI(model=\u0026#39;gpt-4o-mini\u0026#39;) prompt = \u0026#34;\u0026#34;\u0026#34; You\u0026#39;re a senior analyst. You are analyzing stock {stock} Your tasks are: - Analyze the sentiment of the given news - Explain the sentiment in few words - Identify the key catalysts or drivers - Identify the risk factors {document} Requirement - Be specific and concise - Do not make up information or make assumption - Do not use external source \u0026#34;\u0026#34;\u0026#34;.format(stock = stock,document=ls) response = llm.with_structured_output(Sentiment).invoke(prompt) return response date = datetime.date(2024, 1, 1) extract_key_info(\u0026#39;HPG\u0026#39;, date) Káº¿t quáº£ cá»§a hÃ m trÃªn sáº½ nhÆ° sau:\nSentiment(sentiment=\u0026lsquo;bearish\u0026rsquo;, explanation=\u0026lsquo;Sentiment is bearish due to significant losses reported by HPG and related companies, along with ongoing challenges in the steel market.\u0026rsquo;, catalyst=[\u0026lsquo;Increased production and sales in October 2023\u0026rsquo;, \u0026lsquo;Expected recovery in demand and prices for steel\u0026rsquo;, \u0026lsquo;Completion of Dung Quáº¥t 2 project may increase capacity\u0026rsquo;], risk_factor=[\u0026lsquo;High competition in the steel industry\u0026rsquo;, \u0026lsquo;Dependence on domestic market recovery\u0026rsquo;, \u0026lsquo;Fluctuations in raw material prices\u0026rsquo;])\nTá»‘i Æ°u hoÃ¡ danh má»¥c Khi tá»‘i Æ°u hoÃ¡ danh má»¥c, viá»‡c xÃ¢y dá»±ng cÃ¢u prompt chi tiáº¿t vÃ  cá»¥ thá»ƒ sáº½ giÃºp giáº£m thiá»ƒu lá»—i vÃ  táº¡o ra tá»· trá»ng há»£p lÃ½ hÆ¡n. Do Ä‘á»™ phá»©c táº¡p táº¡i khÃ¢u nÃ y tÄƒng cao, chÃºng ta cáº§n sá»­ dá»¥ng má»™t mÃ´ hÃ¬nh LLM máº¡nh máº½ hÆ¡n. BÃ i viáº¿t chá»n sá»­ dá»¥ng gpt-4o.\nMá»¥c tiÃªu Ä‘áº§u tÆ°: PhÃ¢n bá»• tá»· trá»ng cho cÃ¡c cá»• phiáº¿u cÃ³ tiá»m nÄƒng tÄƒng trÆ°á»Ÿng cao, dá»±a trÃªn tÃ­n hiá»‡u ká»¹ thuáº­t, sentiment vÃ  cÃ¡c luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ°.\nCÃ¡c ráº±ng buá»™c:\nLong-only portfolio KhÃ´ng sá»­ dá»¥ng margin Hold trong 3 thÃ¡ng KhÃ´ng cáº§n Ä‘áº§u tÆ° háº¿t 6 cá»• phiáº¿u nhÆ°ng pháº£i cÃ³ Ã­t nháº¥t 4 cá»• phiáº¿u NgoÃ i ra, cÃ¢u prompt cÅ©ng bao gá»“m má»™t workflow (quy trÃ¬nh) Ä‘á»ƒ LLM cÃ³ thá»ƒ dá»±a vÃ o Ä‘Ã³ Ä‘á»ƒ Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh phÃ¢n bá»• tá»· trá»ng\nDá»±a trÃªn cÃ¡c luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c cá»• phiáº¿u tiá»m nÄƒng ÄÃ¡nh giÃ¡ sentiment cá»§a cÃ¡c cá»• phiáº¿u Ä‘Ã£ chá»n Sá»­ dá»¥ng tÃ­n hiá»‡u ká»¹ thuáº­t Ä‘á»ƒ xÃ¡c nháº­n thÃªm tiá»m nÄƒng cá»§a cÃ¡c cá»• phiáº¿u Cuá»‘i cÃ¹ng, sá»­ dá»¥ng dá»¯ liá»‡u rá»§i ro-lá»£i nhuáº­n cá»§a 3 thÃ¡ng qua Ä‘á»ƒ xÃ¡c Ä‘á»‹nh cÃ¡c cá»• phiáº¿u Ä‘Æ°á»£c mua quÃ¡ má»©c hoáº·c bá»‹ thá»•i phá»“ng, trÃ¡nh phÃ¢n bá»• quÃ¡ nhiá»u vá»‘n cho chÃºng. Tuy nhiÃªn, náº¿u luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° há»©a háº¹n, ta váº«n cÃ³ thá»ƒ phÃ¢n bá»• tiá»n cho cá»• phiáº¿u Ä‘Ã³ náº¿u tin ráº±ng nÃ³ cÃ³ tiá»m nÄƒng Ä‘Ã¡ng ká»ƒ Chia tá»· trá»ng cho tá»«ng cá»• phiáº¿u dá»±a trÃªn tiá»m nÄƒng cá»§a cÃ¡c luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° PhÃ¢n bá»• nhiá»u tá»· trá»ng hÆ¡n cho cÃ¡c cá»• phiáº¿u cÃ³ luáº­n Ä‘iá»ƒm Ä‘áº§u tÆ° kháº£ thi vÃ  tiá»m nÄƒng cao 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 prompt = \u0026#34;\u0026#34;\u0026#34; Create a portfolio with the following stocks: {stocks} Objective: - Use the technical signal, market sentiment and catalysts to assign weight to each stock for a long-only portfolio - The portfolio aim to invest in the stock with the highest potential return Constraints: - The portfolio should be well diversified - You can invest in each stock with a maximum of 0.5 of the portfolio - You do not need to invest in all stocks, but you must invest in at least 4 stocks. Only select the most promising stocks. - There is no leverage \u0026amp; short selling - The holding period is 3 months (1 quarter) - The weight should be a float number between 0 and 1 - The sum of all weights should be 1 Workflow: 1. Analyze information first. 2. Based on the catalysts, identify the stocks that are likely to perform well. 3. Assess the sentiment of the news to confirm the potential of the selected stocks. 4. Use the technical signal to further confirm the potential of the stocks. 5. Finally, use the past 3 months\u0026#39; risk-return data to identify overbought or hyped stocks to avoid allocating too much capital to them. However, if the catalyst is highly promising, you may still allocate funds to it if you believe it has significant potential. 6. Assign weights to each stock based on the potential return driven by the catalyst. 7. Allocate more weight to stocks where the catalyst is more likely to occur and has a higher magnitude. 8. Be confident in assigning higher weights to stocks with better catalysts and sentiment. 9. **Think carefully; do not simply split the weights equally.** Technical signal: simple EMA50-200 crossover, 1 for bullish, 0 for bearish {ta_signal} Past 3 risk return {risk_return} News sentiment (0 for bearish, 1 for bullish, 2 for neutral) \u0026amp; Catalysts {sentiment} Correlation between stocks {correlation} Your previous portfolio {past_portfolios} Your previous return: {last_period_return} Output - A list with weight for every stock. The weight must correspond to the oder {stocks}. For stock that not invest, simple return 0 for the weight - A detailed explanation of the rationale behind the portfolio allocation \u0026#34;\u0026#34;\u0026#34; Sau Ä‘Ã³, ta sáº½ tÃ­nh toÃ¡n cÃ¡c tham sá»‘ vÃ  Ä‘Æ°a cÃ¡c thÃ´ng tin cáº§n thiáº¿t vÃ o trong mÃ´ hÃ¬nh Ä‘á»ƒ mÃ´ hÃ¬nh thá»±c hiá»‡n vÃ  tÃ­nh toÃ¡n.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 class PortfolioOptimizationResult(BaseModel): \u0026#34;\u0026#34;\u0026#34; A class to represent the result of portfolio optimization. \u0026#34;\u0026#34;\u0026#34; stock_weight: List[float] = Field( default=None, description=\u0026#34;A list containing the weight for all stocks in the portfolio.\u0026#34; ) explanation: str = Field( default=None, description=\u0026#34;A detailed explanation of the rationale behind the portfolio allocation.\u0026#34; ) def llm_optimizer(date, stocks = [\u0026#39;FPT\u0026#39;, \u0026#39;HPG\u0026#39;, \u0026#39;MWG\u0026#39;, \u0026#39;REE\u0026#39;, \u0026#39;VCB\u0026#39;, \u0026#39;VNM\u0026#39;], past_portfolios = None, last_period_return = None): results = run_in_parallel(stocks, date) llm = ChatOpenAI(model=\u0026#39;gpt-4o\u0026#39;) ta_signal = ta_compare[:date].iloc[-1] start_sample = date - datetime.timedelta(days=30*3) ## 3 months sample_rets = rets[start_sample:date] risk_return = ((1+sample_rets).product()-1).to_frame() risk_return.columns = [\u0026#39;past_3m_rets\u0026#39;] risk_return[\u0026#39;past_3m_volatility\u0026#39;] = sample_rets.std() risk_return[\u0026#39;past_3m_sharpe_ratio\u0026#39;] = sample_rets.mean()/risk_return[\u0026#39;past_3m_volatility\u0026#39;] risk_return = risk_return.round(4) correlation = sample_rets.corr().round(4) chatprompt = prompt.format(ta_signal=ta_signal, sentiment=results, risk_return=risk_return, stocks=stocks, correlation=correlation, past_portfolios=past_portfolios, last_period_return=last_period_return) optimizer = llm.with_structured_output(PortfolioOptimizationResult).invoke(chatprompt) weight = pd.DataFrame(optimizer.stock_weight, index=stocks, columns=[\u0026#39;weights\u0026#39;]) weight = weight/weight.sum() ## make sure the sum of weight is 1 retionale = optimizer.explanation return weight, retionale weight, expla = llm_optimizer(datetime.date(2024, 6, 1)) ## this takes around 35 seconds Sau khi cháº¡y hÃ m trÃªn, ta sáº½ nháº­n Ä‘Æ°á»£c káº¿t quáº£ nhÆ° sau (danh má»¥c cho thÃ¡ng 6.2024):\nTá»· trá»ng danh má»¥c\nweights FPT 0.25 HPG 0.2 MWG 0.3 REE 0.15 VCB 0.1 VNM 0.0 LÃ½ do cho tá»· trá»ng trÃªn\nğŸ’¡ In constructing this portfolio, we focused on stocks with strong bullish technical signals and favorable market sentiment, while considering catalysts and risks.\nFPT (Weight: 0.25): FPT has a bullish technical signal, strong sentiment driven by its partnership with NVIDIA for AI development, and projected revenue growth. Although its valuation is high, its catalysts are promising, warranting a significant allocation. HPG (Weight: 0.2): HPG also exhibits a bullish technical signal and optimistic market sentiment due to strong Q1 financial results and upcoming projects like Dung Quáº¥t 2. Despite high debt levels, its growth potential justifies a substantial allocation. MWG (Weight: 0.3): MWG has demonstrated strong past returns and a bullish sentiment, supported by strategic investments and projected growth. The high weight reflects its potential for recovery and profit, despite some risks. REE (Weight: 0.15): REE\u0026rsquo;s neutral sentiment and mixed outlook are balanced by its dividend plans and growth in renewable energy. Its lower weight reflects these uncertainties, but its diversification benefits and potential in energy justify inclusion. VCB (Weight: 0.1): Despite a neutral sentiment and recent negative returns, VCB\u0026rsquo;s catalysts such as planned capital increases and potential equity sales offer upside potential, meriting a smaller allocation. VNM (Weight: 0): VNM is excluded due to bearish sentiment and negative past performance, with significant foreign sell-offs and declining market position, making it less attractive for the portfolio. Overall, this portfolio is designed to be diversified and capitalize on stocks with strong potential returns driven by clear catalysts, while mitigating risks associated with each stock\u0026rsquo;s market position and sentiment.\nBacktest cho phÆ°Æ¡ng phÃ¡p trÃªn Ta tiáº¿n hÃ nh xÃ¢y dá»±ng mÃ´ hÃ¬nh backtest Ä‘Æ¡n giáº£n.\nMua danh má»¥c vÃ o Ä‘áº§u má»—i quÃ½ Bá» qua cÃ¡c yáº¿u tá»‘ nhÆ° phÃ­ giao dá»‹ch, market impact 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 ## backtest the strategy - \u0026gt;=35s for 1 loop -\u0026gt; 4 years = 4*4*35s \u0026gt;= 560s ~ 9.3 minutes ## create a function that takes the weights and returns the portfolio returns def backtest_strategy(weights, returns): \u0026#34;\u0026#34;\u0026#34; Backtest the strategy \u0026#34;\u0026#34;\u0026#34; port_rets = returns @ weights port_rets.rename(columns={\u0026#39;weights\u0026#39;:\u0026#39;rets\u0026#39;}, inplace=True) return port_rets date_idx = pd.date_range(\u0026#39;2020-12-31\u0026#39;, \u0026#39;2024-12-31\u0026#39;, freq=\u0026#39;QE\u0026#39;) llm_rets = pd.DataFrame() llm_retionale = {} llm_weights = {} for date in date_idx[:-1]: i = 0 start_sample = date - pd.DateOffset(years=3) end_sample = date start_out_sample = date+ pd.DateOffset(days=1) end_out_sample = date + pd.DateOffset(months=3) ## data for the sample period sample_data = rets[start_sample:end_sample] out_sample = rets[start_out_sample:end_out_sample] # run the optimizer if i \u0026gt;=1: past_port = pd.DataFrame(llm_weights[previous_date.strftime(\u0026#34;%Y-%m-%d\u0026#34;)]) w, explanation = llm_optimizer(date, past_portfolios=past_port, last_period_return= past_return) else: w, explanation = llm_optimizer(date) llm_retionale[date.strftime(\u0026#34;%Y-%m-%d\u0026#34;)] = explanation llm_weights[date.strftime(\u0026#34;%Y-%m-%d\u0026#34;)] = w.to_dict()[\u0026#34;weights\u0026#34;] # run the backtest llm_backtest = backtest_strategy(w, out_sample) llm_rets = pd.concat([llm_rets, llm_backtest], axis=0) i+=1 previous_date = date past_return = (1+llm_backtest).product()-1 Tá»« Ä‘Ã³, ta thu Ä‘Æ°á»£c káº¿t quáº£ sau:\nLá»£i nhuáº­n danh má»¥c tá»« 2021 tá»›i nay\nThá»‘ng kÃª liÃªn quan\nLLM VNINDEX Lá»£i nhuáº­n tÃ­ch luá»¹ 70.9% 12.6% Lá»£i nhuáº­n trung bÃ¬nh hÃ ng nÄƒm 14.52% 3.04% Äá»™ biáº¿n Ä‘á»™ng trung bÃ¬nh háº±ng nÄƒm 21.66% 19.6% Sharpe ratio 0.73 0.25 Láº§n sá»¥t giáº£m máº¡nh nháº¥t 24.19% 40.34% Chiáº¿n lÆ°á»£c sá»­ dá»¥ng LLM cho káº¿t quáº£ tÆ°Æ¡ng Ä‘á»‘i tá»‘t vá»›i lá»£i nhuáº­n tÃ­ch luá»¹ 70.9% so vá»›i 12.6% cá»§a vnindex qua 4 nÄƒm. Tuy nhiÃªn, tá»· lá»‡ sharpe thÃ¬ tÆ°Æ¡ng Ä‘á»‘i khiÃªm tá»‘n chá»‰ 0.73 vá»›i Ä‘á»™ biáº¿n Ä‘á»™ng 21.6%. NgoÃ i ra láº§n sá»¥t giáº£m lá»›n nháº¥t Ä‘áº¡t 24.19% lÃ  má»™t káº¿t quáº£ cháº¥p nháº­n Ä‘Æ°á»£c trong Ä‘áº§u tÆ°.\nDanh má»¥c qua tá»«ng giai Ä‘oáº¡n\nKáº¿t luáº­n BÃ i viáº¿t Ä‘Ã£ tiáº¿n hÃ nh xÃ¢y dá»±ng tá»‘i Æ°u hoÃ¡ danh má»¥c sá»­ dá»¥ng LLM. ThÃ´ng qua LLM, ta cÃ³ thá»ƒ Ä‘Æ°a cÃ¡c dá»¯ liá»‡u phi cáº¥u trÃºc (unstructured-data) vÃ o trong quÃ¡ trÃ¬nh tá»‘i Æ°u. ÄÃ¢y lÃ  má»™t Ä‘iá»ƒm thÃº vá»‹ vÃ  cÃ¡c phÆ°Æ¡ng phÃ¡p truyá»n thá»‘ng táº­n dá»¥ng cÃ¡c tÃ­nh cháº¥t thá»‘ng kÃª chÆ°a Ä‘Æ°a vÃ o Ä‘Æ°á»£c. Tuy nhiÃªn, pháº£i nháº¥n máº¡nh láº¡i ráº±ng, tá»‘i Æ°u danh má»¥c theo phÆ°Æ¡ng phÃ¡p nÃ y thÃ¬ mang náº·ng yáº¿u tá»‘ Ä‘á»‹nh tÃ­nh (qualitative) hÆ¡n so vá»›i Ä‘á»‹nh lÆ°á»£ng (quantitative).\nMá»™t Ä‘iá»ƒm thÃº vá»‹ nÃ y, ta cÃ³ thá»ƒ káº¿t há»£p 2 phÆ°Æ¡ng phÃ¡p nÃ y vá»›i nhau. ThÃ´ng qua LLM, ta cÃ³ thá»ƒ tÃ¬m ra má»™t prior belief mang tÃ­nh Ä‘á»‹nh tÃ­nh vÃ  dÃ¹ng nÃ³ Ä‘á»ƒ báº¯t Ä‘áº§u quÃ¡ trÃ¬nh tá»‘i Æ°u hoÃ¡ Ä‘á»‹nh lÆ°á»£ng hÆ¡n (bayesian style).\nBÃ i viáº¿t sau sáº½ tiáº¿n hÃ nh so sÃ¡nh cÃ¡c phÆ°Æ¡ng phÃ¡p truyá»n thá»‘ng vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p má»›i nÃ y. Äá»ƒ nháº­n file code vÃ  data Ä‘áº§y Ä‘á»§, xin hÃ£y Ä‘á»ƒ comment vÃ o bÃ i viáº¿t trÃªn linkedin hoáº·c gá»­i email Ä‘áº¿n hung.ha@miquant.vn.\n","permalink":"http://localhost:1313/posts/2025/2025-02-03-llm-portfolio-optimization/","summary":"Trong ká»· nguyÃªn má»›i, dá»¯ liá»‡u phi cáº¥u trÃºc nhÆ° tin tá»©c, bÃ¡o cÃ¡o phÃ¢n tÃ­ch, vÃ  thá»‘ng kÃª kinh táº¿ trá»Ÿ thÃ nh nguá»“n thÃ´ng tin quan trá»ng trong quyáº¿t Ä‘á»‹nh Ä‘áº§u tÆ°. Tuy nhiÃªn, cÃ¡c mÃ´ hÃ¬nh tÃ i chÃ­nh truyá»n thá»‘ng nhÆ° LÃ½ thuyáº¿t Danh má»¥c Hiá»‡n Ä‘áº¡i (MPT) vÃ  Tá»‘i Æ°u Rá»§i ro-Lá»£i nhuáº­n (Mean-Variance Optimization) chá»§ yáº¿u dá»±a vÃ o dá»¯ liá»‡u Ä‘á»‹nh lÆ°á»£ng, bá» qua yáº¿u tá»‘ Ä‘á»‹nh tÃ­nh quan trá»ng. Sá»± phÃ¡t triá»ƒn cá»§a Large Language Model (LLM) mang Ä‘áº¿n tiá»m nÄƒng káº¿t há»£p dá»¯ liá»‡u Ä‘á»‹nh lÆ°á»£ng vÃ  dá»¯ liá»‡u phi cáº¥u trÃºc trong quáº£n lÃ½ danh má»¥c Ä‘áº§u tÆ°. BÃ i viáº¿t nÃ y trÃ¬nh bÃ y má»™t thá»±c nghiá»‡m á»©ng dá»¥ng LLM trong quÃ¡ trÃ¬nh tá»‘i Æ°u danh má»¥c.","title":"Tá»‘i Æ°u hoÃ¡ danh má»¥c thÃ´ng qua LLM"},{"content":" Concept AI Agent, má»™t topic hiá»‡n Ä‘ang ráº¥t hot trÃªn tháº¿ giá»›i vá» lÄ©nh vá»±c AI.\nTheo fpt.ai:\nAI Agent lÃ  má»™t há»‡ thá»‘ng pháº§n má»m hoáº·c pháº§n cá»©ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ má»™t cÃ¡ch tá»± Ä‘á»™ng vÃ  Ä‘á»™c láº­p, nháº±m Ä‘áº¡t Ä‘Æ°á»£c nhá»¯ng má»¥c tiÃªu nháº¥t Ä‘á»‹nh.\nMá»™tÂ AI AgentÂ cÃ³ kháº£ nÄƒng xá»­ lÃ½ thÃ´ng tin, Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh vÃ  thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c Ä‘iá»u kiá»‡n vÃ  há»‡ thá»‘ng liÃªn quan. NhÃ¢n sá»±Â AI táº¡o sinhÂ cÃ³ thá»ƒ Ã¡p dá»¥ng cho nhiá»u lÄ©nh vá»±c, tá»« trá»£ lÃ½ áº£o cho khÃ¡ch hÃ ng Ä‘áº¿n há»‡ thá»‘ng Ä‘iá»u khiá»ƒn tá»± Ä‘á»™ng phá»©c táº¡p, tháº­m chÃ­ lÃ  robot trong cÃ¡c mÃ´i trÆ°á»ng thá»±c táº¿.\nTheo IBM:\nAnÂ artificial intelligence (AI)Â agent refers to a system or program that is capable of autonomously performing tasks on behalf of a user or another system by designing its workflow and utilizing available tools.\nTÃ³m gá»n láº¡i: AI agent lÃ  má»™t há»‡ thá»‘ng thÃ´ng minh vÃ  autonomous (tá»± trá»‹ â†’ tá»± suy nghÄ©, suy luáº­n, ra quyáº¿t Ä‘á»‹nh,â€¦). Má»—i agent cÃ³ thá»ƒ thá»±c hiá»‡n Ä‘Æ°á»£c cÃ¡c task mÃ  ngÆ°á»i thiáº¿t káº¿ giao. VÃ  má»™t Ä‘iá»ƒm Ä‘áº·c biá»‡t so vá»›i chatbot thÃ´ng thÆ°á»ng lÃ  ngÆ°á»i thiáº¿t káº¿ cho thá»ƒ Ä‘Æ°a cho Agent cÃ¡c tools Ä‘á»ƒ tá»± sá»­ dá»¥ng vÃ  cÃ¡c Agent phá»‘i há»£p vá»›i nhau Ä‘á»ƒ hoÃ n thÃ nh má»¥c tiÃªu cuá»‘i cÃ¹ng.\nVÃ­ dá»¥, trong Ä‘áº§u tÆ°, ngÃ y xÆ°a báº¡n cÃ³ tool láº¥y giá»¯ liá»‡u tá»« database lÃªn. Báº¡n sá»­ dá»¥ng nÃ³ vÃ  tool tráº£ ra output, báº¡n dÃ¹ng output nÃ y cho vÃ´ AI. Giá» thÃ¬ Ä‘Ã£ khÃ¡c, báº¡n cÃ³ thá»ƒ Ä‘Æ°a sáºµn tool cho Agent, vÃ  cÃ¡c Agent nÃ y sáº½ sá»­ dá»¥ng chÃ­nh cÃ¡i tool nÃ y Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c task cáº§n thiáº¿t, loáº¡i bá» báº¡n ra trong quÃ¡ trÃ¬nh â€œtá»± trá»‹â€ cá»§a nÃ³.\nNáº¿u báº¡n chÆ°a hiá»ƒu thÃ¬ hÃ£y tÆ°á»Ÿng tÆ°á»£ng nhÆ° sau.\nBáº¡n lÃ  1 financial analysis, trong quÃ¡ trÃ¬nh phÃ¢n tÃ­ch, báº¡n sáº½ luÃ´n follow 1 sá»‘ quy trÃ¬nh nháº¥t Ä‘á»‹nh vÃ  sá»­ dá»¥ng 1 vÃ i tools nháº¥t Ä‘á»‹nh.\nB1: lÃªn google search cá»• phiáº¿u HPG.\nTáº¡i bÆ°á»›c nÃ y, báº¡n sá»­ dá»¥ng 1 tools lÃ  google_search\nB2: download cÃ¡c bÃ i bÃ¡o vá», lÆ°u xuá»‘ng database, sá»­ dá»¥ng 1 tool sentiment calculator Ä‘á»ƒ tÃ­nh Ä‘iá»ƒm cÃ¡c bÃ i bÃ¡o nÃ y.\nTáº¡i bÆ°á»›c nÃ y, báº¡n sá»­ dá»¥ng 1 tools lÃ  sentiment_calculator\nB3: Viáº¿t report theo 1 khung nháº¥t Ä‘á»‹nh (ThÃ¢n bÃ i, má»Ÿ bÃ i, káº¿t bÃ i) Ä‘i kÃ¨m cÃ¡c tool khÃ¡c nhÆ°: váº½ chart correlation vá»›i thá»‹ trÆ°á»ng, tÃ­nh toÃ¡n cÃ¡c chá»‰ sá»‘ tÃ i chÃ­nh ,..\nTáº¡i bÆ°á»›c nÃ y, báº¡n sá»­ dá»¥ng 2 tools lÃ  report_writing vÃ  metrics_calculator.\nVÃ , Ä‘iá»u thÃº vá»‹ á»Ÿ Ä‘Ã¢y lÃ , báº¡n chá»‰ cáº§n chuáº©n hoÃ¡ cÃ¡c tools trÃªn nhÆ° lÃ  1 function trong python vÃ  Ä‘Æ°a cho Agent. CÃ¡c Agent Ä‘Ã£ cÃ³ thá»ƒ thá»±c hiá»‡n tá»« bÆ°á»›c 1 Ä‘áº¿n bÆ°á»›c 3 mÃ  khÃ´ng cáº§n báº¡n can thiá»‡p vÃ o bÆ°á»›c nÃ o. NgoÃ i ra, thÃ´ng qua cÆ¡ cháº¿ Specialization vÃ  Multi-Agent system, báº¡n cÃ²n tÄƒng Ä‘Æ°á»£c Ä‘á»™ chÃ­nh xÃ¡c, hiá»‡u quáº£ vÃ  kháº£ nÄƒng thÃ­ch á»©ng cá»§a há»‡ thá»‘ng tá»± trá»‹ nÃ y (fpt.ai).\nVÃ  Ä‘iá»u thÃº vá»‹ hÆ¡n ná»¯a, lÃ  lÃ m nhá»¯ng thá»© nÃ y, ráº¥t Ä‘Æ¡n giáº£n, thÃ´ng qua kÄ© thuáº­t prompt engineering.\nXÃ¢y dá»±ng má»™t há»‡ thá»‘ng phÃ¢n tÃ­ch kÄ© thuáº­t, thÃ´ng tin vÃ  tÆ° váº¥n chiáº¿n lÆ°á»£c Ä‘áº§u tÆ°. HÃ£y cÃ¹ng nhau thá»­ nghiá»‡m Ä‘i xÃ¢y dá»±ng má»™t team phÃ¢n tÃ­ch tÆ° váº¥n nhÆ° má»™t phÃ²ng trong cÃ´ng ty chá»©ng khoÃ¡n nhÃ©. LÆ°u Ã½, phÃ²ng tÆ° váº¥n nÃ y â€œtá»± trá»‹â€ - autonomous. Viá»‡c cáº§n lÃ m lÃ  Ä‘Æ°a vÃ o 1 mÃ£ cá»• phiáº¿u (vÃ­ dá»¥ HPG), cÃ¡c AI Agent sáº½ tá»± xá»­ lÃ½ 100%.\nPhÃ²ng tÆ° váº¥n cá»§a ctck cÃ³ mÃ´ hÃ¬nh tá»• chá»©c Ä‘Æ¡n giáº£n nháº¥t nhÆ° sau:\n1 báº¡n phÃ¢n tÃ­ch kÄ© thuáº­t (technical analyst) 1 báº¡n phÃ¢n tÃ­ch thÃ´ng tin, bÃ¡o (news analyst) 1 báº¡n tÆ° váº¥n Ä‘áº§u tÆ° (investment advisor) 1 báº¡n xÃ¢y dá»±ng chiáº¿n lÆ°á»£c giao dá»‹ch (strategy advisor) CÃ¹ng nhau xÃ¢y phÃ²ng tÆ° váº¥n nÃ o. TrÆ°á»›c tiÃªn, Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c nghiá»‡p vá»¥ trÃªn, ta cáº§n cÃ¡c cÃ´ng cá»¥ sau:\nLáº¥y giÃ¡ cá»• phiáº¿u, tÃ­nh cÃ¡c chá»‰ bÃ¡o kÄ© thuáº­t LÃªn google search vÃ  thu tháº­p cÃ¡c thÃ´ng tin liÃªn quan Ä‘áº¿n cá»• phiáº¿u ta muá»‘n 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 ## MÃ¬nh sá»­ dá»¥ng gpt-4o-mini lÃ  model llm bÃªn dÆ°á»›i llm = ChatOpenAI(model=\u0026#34;gpt-4o-mini\u0026#34;) ## Tools def load_price_and_ta(company_stock): query = f\u0026#34;SELECT * FROM eod WHERE symbol = \u0026#39;{company_stock}\u0026#39; order by timestamp DESC LIMIT 1000\u0026#34; host = \u0026#39;xyz\u0026#39; (database link) response = requests.get( host + \u0026#39;/exec\u0026#39;, params={\u0026#39;query\u0026#39;: query}).json() df = pd.DataFrame(response[\u0026#39;dataset\u0026#39;], columns=pd.DataFrame(response[\u0026#39;columns\u0026#39;])[\u0026#39;name\u0026#39;].values) df.set_index(\u0026#39;timestamp\u0026#39;, inplace=True) df.index = pd.to_datetime(df.index).strftime(\u0026#39;%Y-%m-%d\u0026#39;) df = df.iloc[::-1] ## indicator df[\u0026#39;RSI\u0026#39;] = ta.rsi(df[\u0026#39;close\u0026#39;]) adx = ta.adx(df[\u0026#39;high\u0026#39;], df[\u0026#39;low\u0026#39;], df[\u0026#39;close\u0026#39;], 14) df[adx.columns] = adx bbands = ta.bbands(df[\u0026#39;close\u0026#39;]) df[bbands.columns] = bbands df[\u0026#39;SMA200\u0026#39;] = ta.sma(df[\u0026#39;close\u0026#39;], 200) df[\u0026#39;SMA50\u0026#39;] = ta.sma(df[\u0026#39;close\u0026#39;], 50) df[\u0026#39;SMA20\u0026#39;] = ta.sma(df[\u0026#39;close\u0026#39;], 20) macd = ta.macd(df[\u0026#39;close\u0026#39;]) df[macd.columns] = macd return df.dropna() ## Tool láº¥y giÃ¡ vÃ  tÃ­nh cÃ¡c indicator ta_tool = Tool( name = \u0026#34;Price and technical indicator tools for Vietnam stock\u0026#34;, description = \u0026#34;Collect stocks prices adn technical indicator for {company_stock} about a specific company in Vietnam stock market.\u0026#34;, func= lambda symbol: load_price_and_ta(symbol) ) ## Tool search web search_tool = SerperDevTool( country=\u0026#34;vn\u0026#34;,locale=\u0026#34;vn\u0026#34;,location=\u0026#34;Vietnam\u0026#34;, n_results=20, ) ## Tool scraping scrape_tool = ScrapeWebsiteTool() Sau Ä‘Ã³, chÃºng ta sáº½ tiáº¿n hÃ nh Ä‘i xÃ¢y dá»±ng cÃ¡c nhÃ¢n sá»±.\nNhÃ¢n sá»± AI BÃ i viáº¿t sá»­ dá»¥ng framework Crewai nháº±m xÃ¢y dá»±ng cÃ¡c agent. Äá»ƒ xÃ¢y dá»±ng 1 agent, ta cáº§n cÃ¡c thÃ´ng tin sau:\nRole: vai trÃ² cá»§a agent nÃ y lÃ  gÃ¬? Goal: má»¥c tiÃªu cá»§a agent nÃ y lÃ  gÃ¬? Backstory: cÃ¢u chuyá»‡n vá» agent nÃ y lÃ  gÃ¬? Báº¡n cÃ³ thá»ƒ Ä‘á»c thÃªm táº¡i Crew.ai\nTechnical analyst 1 2 3 4 5 6 7 8 9 10 11 12 13 14 ## ChuyÃªn viÃªn phÃ¢n tÃ­ch kÄ© thuáº­t ## PhÃ¢n tÃ­ch TA, dá»± Ä‘oÃ¡n giÃ¡ trong 20 ngÃ y tá»›i technicalAnalyst = Agent( role= \u0026#34;Senior Technical Analyst\u0026#34;, goal=\u0026#34;\u0026#34;\u0026#34;Provide the most recent technical analysis about trend, momentum and stockprice prediction in short timeframe (20 days) for targeted stock\u0026#34;\u0026#34;\u0026#34;, backstory=\u0026#34;\u0026#34;\u0026#34;You\u0026#39;re the best at technical analysis, stock price trend prediction and market risk assessment. and you\u0026#39;re working for a top security firm in Vietnam.\u0026#34;\u0026#34;\u0026#34;, verbose=True, tools=[ta_tool], allow_delegation=True, llm = llm ) News analyst 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ## chuyÃªn viÃªn phÃ¢n tÃ­ch thÃ´ng tin ## tÃ¬m catalyst, phÃ¢n tÃ­ch cÃ¡c yáº¿u tá»‘ rá»§i ro newsAnalyst = Agent( role= \u0026#34;Senior Market Analyst\u0026#34;, goal=\u0026#34;\u0026#34;\u0026#34;Provide the most recent news and market sentiment analysis that can highly affect stock price performance. Also, you must provide the top catalyst as well as risk factors that can highly affect company business performance.\u0026#34;\u0026#34;\u0026#34;, backstory= \u0026#34;\u0026#34;\u0026#34; You\u0026#39;re highly experienced in analyzing the market information and risk assessment that can affect company revenue. You are also excel in analyzing market sentiment and always skepticism and consider also the source of the news articles. \u0026#34;\u0026#34;\u0026#34;, verbose=True, tools=[search_tool,scrape_tool], allow_delegation=True, llm=llm, ) Investment advisor 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ## chuyÃªn viÃªn tÆ° váº¥n Ä‘áº§u tÆ° ## PhÃ¢n tÃ­ch dá»±a vÃ o 2 nhÃ¢n tá»‘ giÃ¡ vÃ  thÃ´ng tin Ä‘á»ƒ Ä‘Æ°a ra tÆ° váº¥n Ä‘áº§u tÆ° investmentAdvisor = Agent( role= \u0026#34;Senior Investment Advisor\u0026#34;, goal=\u0026#34;\u0026#34;\u0026#34;Impress your customers with full analyses over stocks based on technical, and news insights and complete investment recommendations. All the information must come from the technicalAnalyst and newsAnalyst.\u0026#34;\u0026#34;\u0026#34;, backstory= \u0026#34;\u0026#34;\u0026#34; You\u0026#39;re the best at providing investment advice and risk management for the targeted stock. You\u0026#39;re also excel in risk management and always consider the risk factors that can affect the investment performance. You are now working for a super important customer you need to impress. \u0026#34;\u0026#34;\u0026#34;, verbose=True, allow_delegation=True, tools=[search_tool, scrape_tool], llm=llm, ) Strategy builder 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 ## chuyÃªn viÃªn xÃ¢y dá»±ng chiáº¿n lÆ°á»£c ## chiáº¿n lÆ°á»£c mua há»£p lÃ½ tá»‘i Æ°u hoÃ¡ lá»£i nhuáº­n tradingAdvisor = Agent( role=\u0026#34;Trade Advisor\u0026#34;, goal=\u0026#34;\u0026#34;\u0026#34;Develop and test various trading strategies based on the technicalAnalyst and investmentAdvisor\u0026#39;s recommendation. Finally, you must provide the best trading strategy to maximize profit\u0026#34;\u0026#34;\u0026#34;, backstory=\u0026#34;This agent specializes in analyzing the timing, price, \u0026#34; \u0026#34;and logistical details of potential trades. By evaluating \u0026#34; \u0026#34;these factors, it provides well-founded suggestions for \u0026#34; \u0026#34;when and how trades should be executed to maximize \u0026#34; \u0026#34;efficiency and adherence to strategy.\u0026#34;, verbose=True, allow_delegation=True, tools = [ta_tool], llm=llm, ) Ta Ä‘Ã£ cÃ³ Ä‘á»§ nhÃ¢n sá»± rá»“i, giá» chÃºng ta sáº½ xÃ¢y dá»±ng cÃ¡c â€œnhiá»‡m vá»¥â€ Ä‘á»ƒ hoÃ n thÃ nh Ä‘Æ°á»£c cÃ´ng viá»‡c.\nQuy trÃ¬nh sáº½ nhÆ° sau:\nPhÃ¢n tÃ­ch giÃ¡ cá»• phiáº¿u, TA PhÃ¢n tÃ­ch thÃ´ng tin, tÃ¬m kiáº¿m catalyst, phÃ¢n tÃ­ch cÃ¡c rá»§i ro cÃ³ thá»ƒ cÃ³ Tá»•ng há»£p vÃ  Ä‘Æ°a ra khuyáº¿n nghá»‹ XÃ¢y dá»±ng chiáº¿n lÆ°á»£c mua bÃ¡n há»£p lÃ½ Nhiá»‡m vá»¥ PhÃ¢n tÃ­ch giÃ¡ cá»• phiáº¿u, TA 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 ## phÃ¢n tÃ­ch TA, khÃ¡ng cá»±, há»— trá»£ ## tÃ¬m hiá»ƒu xem cá»• phiáº¿u quÃ¡ mua/bÃ¡n chÆ°a getStockPrice = Task( description= \u0026#34;\u0026#34;\u0026#34; Conduct a technical analysis of {company_stock} stock price trends and patterns, resistance and support level utilizing technical indicators that have provided. Considering whether the stock is overbought or oversold. \u0026#34;\u0026#34;\u0026#34;, expected_output = \u0026#34;\u0026#34;\u0026#34; The final report must include a detailed analysis of the stock\u0026#39;s price trends, key technical indicators, support-resistance level, and any potential buy/sell signals. Make sure to provide a clear and concise summary of the stock\u0026#39;s current technical position and any potential price targets or risk levels. Make sure to use the most recent data possible. Finally, please translate the final output to Vietnamese. \u0026#34;\u0026#34;\u0026#34;, agent= technicalAnalyst, output_file = \u0026#34;TA_analyses.md\u0026#34; ) PhÃ¢n tÃ­ch thÃ´ng tin, tÃ¬m kiáº¿m catalyst, phÃ¢n tÃ­ch cÃ¡c rá»§i ro cÃ³ thá»ƒ cÃ³ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 ## phÃ¢n tÃ­ch cÃ¡c thÃ´ng tin gáº§n nháº¥t ## xem xÃ©t coi cÃ³ sá»± kiá»‡n gÃ¬ sáº¯p xáº£y ra khÃ´ng ## tÃ¢m lÃ½ thá»‹ trÆ°á»ng Ä‘ang nhÆ° tháº¿ nÃ o, cÃ¡c analyst Ä‘ang nghÄ© gÃ¬ get_news = Task( description= \u0026#34;\u0026#34;\u0026#34; Collect and summarize recent news articles, press releases, and market analyses related to the {company_stock} stock and its industry. Pay special attention to any significant events, market sentiments, and analysts\u0026#39; opinions. Also include upcoming events like earnings and others.\u0026#34;\u0026#34;\u0026#34;, expected_output = \u0026#34;\u0026#34;\u0026#34; A summary of the overall market and short summary. Include a sentiment score for targeted stock based on the news, notable shifts in market sentiment, and potential impacts for the stock. Make sure to use the most recent data as possible. Finally, please translate the final output to Vietnamese. \u0026#34;\u0026#34;\u0026#34;, agent= newsAnalyst, output_file = \u0026#34;news_analyses.md\u0026#34; ) Tá»•ng há»£p vÃ  Ä‘Æ°a ra khuyáº¿n nghá»‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 ## tá»•ng há»£p thÃ´ng tin vÃ  Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh cÃ³ nÃªn tÆ° váº¥n khÃ´ng writeAnalyses = Task( description = \u0026#34;\u0026#34;\u0026#34;Use the stock price analysis and the news analysis to create an report and investment advice about the {company_stock} company. Focus on the stock price trend, news and market sentiment. What are the near future considerations? Include the previous analyses of stock trend and news summary. Be straight foward and cite or provide reasons for each of your point.\u0026#34;\u0026#34;\u0026#34;, expected_output= \u0026#34;\u0026#34;\u0026#34; A research report of the {company_stock} formated as markdown in an easy readable manner. It should contain: - An overall summary - A detailed analysis of the stock price trend from the Technical Analyst - A detailed analysis of the stock news from the News Analyst - Key catalysts and risks for the stock - Price prediction for the stock in future and does it over or under value with the current price based on the catalysts and risks - A conclusion about key facts and concrete future trend prediction - up, down or sideways. Will it worth to buy or sell the stock when take into account the risk and catalysts. Finally, please translate the final output to Vietnamese. \u0026#34;\u0026#34;\u0026#34;, agent = investmentAdvisor, output_file = \u0026#34;final_report.md\u0026#34; ) XÃ¢y dá»±ng chiáº¿n lÆ°á»£c mua bÃ¡n há»£p lÃ½ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ## xÃ¢y dá»±ng chiáº¿n lÆ°á»£c mua khi cá»• phiáº¿u quÃ¡ bÃ¡n ## bÃ¡n khi cá»• phiáº¿u cÃ³ sentiment lÃªn quÃ¡ cao tradingStrategy = Task( description= \u0026#34;\u0026#34;\u0026#34;Develop and refine trading strategies based on the insights from the technical analyst and investment advisor. The objective strategy is buy when the stock is oversold and sell when the sentiment is too high. Also, consider the risk factors that can affect the stock price based on the news analysis \u0026#34;\u0026#34;\u0026#34;, expected_output= \u0026#34;\u0026#34;\u0026#34;A set of potential trading strategies for {company_stock} that align with the objective startegy. Finally, please translate the final output to Vietnamese.\u0026#34;\u0026#34;\u0026#34;, agent=tradingAdvisor, output_file = \u0026#34;trading_strategy.md\u0026#34; ) Káº¿t quáº£ MÃ¬nh cÃ³ lÆ°u láº¡i káº¿t quáº£ á»Ÿ cÃ¡c phase, cÃ¡c báº¡n cÃ³ thá»ƒ vÃ´ Ä‘á»c file markdown. NgoÃ i ra, file Full chain of thought sáº½ cho ta tháº¥y Ä‘Æ°á»£c toÃ n thá»ƒ quÃ¡ trÃ¬nh váº­n hÃ nh cá»§a team tÆ° váº¥n nÃ y ^^.\nPhÃ¢n tÃ­ch kÄ© thuáº­t\nPhÃ¢n tÃ­ch thÃ´ng tin\nTÆ° váº¥n Ä‘áº§u tÆ°\nTÆ° váº¥n chiáº¿n lÆ°á»£c giao dá»‹ch\nFull Chain-of-thought\nMÃ¬nh láº¥y ra 1 vÃ i máº«u mÃ¬nh tháº¥y Ä‘áº·c biá»‡t Ä‘á»ƒ cÃ¹ng nhau cáº£m nháº­n (mÃ¬nh lÃ m máº«u trÃªn cá»• phiáº¿u HPG)\nTA Analyst\n5. **TÃ³m táº¯t vá»‹ tháº¿ ká»¹ thuáº­t hiá»‡n táº¡i:** - Cá»• phiáº¿u HPG hiá»‡n Ä‘ang cÃ³ xu hÆ°á»›ng giáº£m nhÆ°ng khÃ´ng bá»‹ quÃ¡ bÃ¡n. Tuy nhiÃªn, cÃ¡c chá»‰ sá»‘ cho tháº¥y cÃ³ thá»ƒ cÃ³ sá»± phá»¥c há»“i nháº¹ náº¿u vÆ°á»£t qua ngÆ°á»¡ng khÃ¡ng cá»±. - Cáº§n theo dÃµi cÃ¡c má»©c há»— trá»£ vÃ  khÃ¡ng cá»± Ä‘á»ƒ Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh Ä‘áº§u tÆ° há»£p lÃ½. 6. **Má»¥c tiÃªu giÃ¡ vÃ  má»©c rá»§i ro:** - **Má»¥c tiÃªu giÃ¡ ngáº¯n háº¡n:** Náº¿u cá»• phiáº¿u vÆ°á»£t qua má»©c khÃ¡ng cá»± 27.00 VNÄ, cÃ³ thá»ƒ hÆ°á»›ng tá»›i má»¥c tiÃªu 28.00 VNÄ. - **Má»©c rá»§i ro:** Cáº§n cáº©n trá»ng náº¿u giÃ¡ xuá»‘ng dÆ°á»›i 26.30 VNÄ, cÃ³ thá»ƒ dáº«n Ä‘áº¿n sá»± sá»¥t giáº£m sÃ¢u hÆ¡n. TÃ³m láº¡i, cá»• phiáº¿u HPG hiá»‡n táº¡i Ä‘ang trong giai Ä‘oáº¡n Ä‘iá»u chá»‰nh, vÃ  cáº§n lÆ°u Ã½ cÃ¡c yáº¿u tá»‘ ká»¹ thuáº­t trÆ°á»›c khi tham gia giao dá»‹ch. News analyst\n5. **Sá»± kiá»‡n sáº¯p tá»›i**: - HPG dá»± kiáº¿n sáº½ cÃ´ng bá»‘ bÃ¡o cÃ¡o lá»£i nhuáº­n tá»« ngÃ y 28 thÃ¡ng 1 Ä‘áº¿n ngÃ y 3 thÃ¡ng 2 nÄƒm 2025. ÄÃ¢y sáº½ lÃ  má»™t sá»± kiá»‡n quan trá»ng, vÃ¬ pháº£n á»©ng cá»§a thá»‹ trÆ°á»ng cÃ³ thá»ƒ bá»‹ áº£nh hÆ°á»Ÿng bá»Ÿi káº¿t quáº£. 9. **Yáº¿u tá»‘ kÃ­ch thÃ­ch vÃ  rá»§i ro**: - **Yáº¿u tá»‘ kÃ­ch thÃ­ch hÃ ng Ä‘áº§u**: - Bá»©t phÃ¡ trÃªn má»©c khÃ¡ng cá»± 27,00 VNÄ. - BÃ¡o cÃ¡o lá»£i nhuáº­n tÃ­ch cá»±c vÃ o Ä‘áº§u thÃ¡ng Hai. - **Yáº¿u tá»‘ rá»§i ro**: - Tiáº¿p tá»¥c giáº£m giÃ¡ thÃ©p. - TÄƒng Ã¡p lá»±c bÃ¡n tá»« nÆ°á»›c ngoÃ i. Advisor\n2. **Khuyáº¿n Nghá»‹ Tá»« CÃ¡c NhÃ  PhÃ¢n TÃ­ch**: - CÃ¡c nhÃ  phÃ¢n tÃ­ch Ä‘á»“ng thuáº­n ráº±ng giÃ¡ cá»• phiáº¿u sáº½ tÄƒng 25.5% trong nÄƒm tá»›i. - CÃ¡c má»¥c tiÃªu giÃ¡ Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»u chá»‰nh tÄƒng lÃªn nhiá»u láº§n, vá»›i má»¥c tiÃªu má»›i nháº¥t Ä‘Æ°á»£c Ä‘áº·t lÃ  â‚«34,075. 3. **Cáº£m Nháº­n Thá»‹ TrÆ°á»ng**: - Sá»± giáº£m giÃ¡ gáº§n Ä‘Ã¢y cá»§a cá»• phiáº¿u Ä‘Ã£ khiáº¿n HPG Ä‘Æ°á»£c xem lÃ  khÃ´ng Ä‘Æ°á»£c Ä‘á»‹nh giÃ¡ Ä‘Ãºng, lÃ m tÄƒng sá»± quan tÃ¢m cá»§a cÃ¡c nhÃ  Ä‘áº§u tÆ°. ## CÃ¡c Yáº¿u Tá»‘ ThÃºc Äáº©y - **Nhu Cáº§u TÄƒng**: NgÃ nh xÃ¢y dá»±ng táº¡i Viá»‡t Nam tiáº¿p tá»¥c phÃ¡t triá»ƒn, thÃºc Ä‘áº©y nhu cáº§u cho cÃ¡c sáº£n pháº©m thÃ©p. - **TÄƒng TrÆ°á»Ÿng Lá»£i Nhuáº­n**: Dá»± bÃ¡o tÄƒng trÆ°á»Ÿng lá»£i nhuáº­n 24.27% má»—i nÄƒm, Ä‘Æ°á»£c thÃºc Ä‘áº©y bá»Ÿi khá»‘i lÆ°á»£ng bÃ¡n hÃ ng cao hÆ¡n vÃ  biÃªn lá»£i nhuáº­n cáº£i thiá»‡n. - **Vá»‹ TrÃ­ Thá»‹ TrÆ°á»ng**: HPG náº¯m giá»¯ thá»‹ pháº§n lá»›n trong thÃ©p xÃ¢y dá»±ng vÃ  Ä‘ang á»Ÿ vá»‹ trÃ­ tá»‘t Ä‘á»ƒ táº­n dá»¥ng cÃ¡c xu hÆ°á»›ng ngÃ nh. Strategy recommendation\n1. **TÃ­n hiá»‡u Mua**: - Khi chá»‰ sá»‘ sá»©c máº¡nh tÆ°Æ¡ng Ä‘á»‘i (RSI) dÆ°á»›i 30, cho tháº¥y cá»• phiáº¿u bá»‹ bÃ¡n quÃ¡ má»©c. Viá»‡c cá»• phiáº¿u Ä‘Æ°á»£c phÃ¢n loáº¡i lÃ  bá»‹ bÃ¡n quÃ¡ má»©c cho tháº¥y ráº±ng nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»‹nh giÃ¡ tháº¥p, táº¡o ra cÆ¡ há»™i mua vÃ o tiá»m nÄƒng. - ThÃªm vÃ o Ä‘Ã³, xem xÃ©t giÃ¡ cá»• phiáº¿u hiá»‡n táº¡i lÃ  â‚«26,750, tháº¥p hÆ¡n khoáº£ng 30.7% so vá»›i giÃ¡ trá»‹ há»£p lÃ½ Æ°á»›c tÃ­nh, cÃ ng cá»§ng cá»‘ thÃªm cho trÆ°á»ng há»£p vÃ o lá»‡nh khi RSI chá»‰ ra Ä‘iá»u kiá»‡n Ä‘Ã¡nh giÃ¡ tháº¥p. Káº¿t luáº­n Topic vá» AI Agent mÃ¬nh tin sáº½ sáº¯p Ä‘Æ°á»£c á»©ng dá»¥ng rá»™ng rÃ£i vÃ o thá»‹ trÆ°á»ng trong 5 nÄƒm tá»›i. Viá»‡c táº¡o ra má»™t agent ráº¥t dá»…. CÃ¡i khÃ³ á»Ÿ Ä‘Ã¢y lÃ  táº¡o ra 1 agent Ä‘Ã¡ng tin vÃ  Ä‘á»§ giá»i Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c viá»‡c tá»± Ä‘á»™ng hoÃ¡ suy luáº­n cao cáº¥p hÆ¡n.\nTáº¡i start up cá»§a mÃ¬nh vÃ  cÃ¡c ae (miquant.vn), AI Agent cÅ©ng lÃ  má»™t trong nhá»¯ng sáº£n pháº©m Ä‘ang Ä‘Æ°á»£c chÃº trá»ng xÃ¢y dá»±ng. Thay vÃ¬ chá»‰ sá»­ dá»¥ng cÃ¡c phÆ°Æ¡ng phÃ¡p prompt Ä‘Æ¡n giáº£n nhÆ° nÃ y, tá»¥i mÃ¬nh nÃ¢ng cáº¥p lÃªn thÃ´ng qua cÃ¡c cÃ´ng cá»¥ phÃ¢n tÃ­ch Ä‘á»‹nh lÆ°á»£ng cÅ©ng nhÆ° cÃ¡c dá»± bÃ¡o kinh táº¿, expertise include, â€¦ nháº±m nÃ¢ng cao tÃ­nh â€œtrustworthyâ€ cá»§a cÃ¡c agent nÃ y.\nStay tuned.\nRef Enhancing Investment Analysis: Optimizing AI-Agent Collaboration in Financial Research ","permalink":"http://localhost:1313/posts/2024/2024-12-02-ai-agent-for-investment/","summary":"AI Agent lÃ  má»™t há»‡ thá»‘ng tá»± Ä‘á»™ng vÃ  Ä‘á»™c láº­p, cÃ³ kháº£ nÄƒng xá»­ lÃ½ thÃ´ng tin, ra quyáº¿t Ä‘á»‹nh vÃ  thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥ trong nhiá»u lÄ©nh vá»±c. BÃ i viáº¿t mÃ´ táº£ cÃ¡ch xÃ¢y dá»±ng má»™t Ä‘á»™i ngÅ© phÃ¢n tÃ­ch Ä‘áº§u tÆ° tá»± trá»‹ vá»›i cÃ¡c vai trÃ² nhÆ° phÃ¢n tÃ­ch ká»¹ thuáº­t, phÃ¢n tÃ­ch thÃ´ng tin, tÆ° váº¥n Ä‘áº§u tÆ° vÃ  xÃ¢y dá»±ng chiáº¿n lÆ°á»£c giao dá»‹ch, sá»­ dá»¥ng cÃ¡c cÃ´ng cá»¥ Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a quy trÃ¬nh phÃ¢n tÃ­ch vÃ  ra quyáº¿t Ä‘á»‹nh. AI Agent cÃ³ tiá»m nÄƒng á»©ng dá»¥ng rá»™ng rÃ£i trong tÆ°Æ¡ng lai gáº§n, tuy nhiÃªn, viá»‡c táº¡o ra má»™t agent Ä‘Ã¡ng tin cáº­y váº«n lÃ  thÃ¡ch thá»©c lá»›n.","title":"AI Agent: The future of Investment research"},{"content":"Giá»›i thiá»‡u Stochastic process lÃ  ngÃ´n ngá»¯ Ä‘á»ƒ miÃªu táº£ sá»± ngáº«u nhiÃªn, cÅ©ng giá»‘ng nhÆ° Calculus lÃ  ngÃ´n ngá»¯ Ä‘á»ƒ miÃªu táº£ sá»± thay Ä‘á»•i cá»§a hÃ m sá»‘.\nBÃ i viáº¿t giá»›i thiá»‡u vá» stochastic process thÃ´ng qua bÃ i toÃ¡n Gambler\u0026rsquo;s Ruin. BÃ i viáº¿t cÅ©ng mÃ´ phá»ng chiáº¿n lÆ°á»£c giao dá»‹ch VN30F1M nhÆ° má»™t trÆ°á»ng há»£p cá»§a Gambler\u0026rsquo;s ruin vÃ  sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p Monte Carlo Ä‘á»ƒ xáº¥p xá»‰ cÃ¡c giÃ¡ trá»‹ cáº§n thiáº¿t, nháº¥n máº¡nh táº§m quan trá»ng cá»§a xÃ¡c suáº¥t vÃ  ká»³ vá»ng trong viá»‡c ra quyáº¿t Ä‘á»‹nh.\nConcept Gamblerâ€™s Ruin, hay Sá»± phÃ¡ sáº£n cá»§a con báº¡c, lÃ  má»™t trong nhá»¯ng concept cá»• Ä‘iá»ƒn trong lÃ½ thuyáº¿t xÃ¡c suáº¥t (probability theory) vÃ  quÃ¡ trÃ¬nh ngáº«u nhiÃªn (stochastic process). Váº¥n Ä‘á» nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ táº£ trong nhiá»u trÆ°á»ng há»£p, trong Ä‘Ã³ phá»• biáº¿n nháº¥t lÃ :\nMá»™t con báº¡c bÆ°á»›c vÃ o sÃ²ng báº¡c vá»›i sá»‘ tiá»n $n trong tay vÃ  báº¯t Ä‘áº§u chÆ¡i má»™t trÃ² chÆ¡i, trong Ä‘Ã³ anh ta tháº¯ng vá»›i xÃ¡c suáº¥t p vÃ  thua vá»›i xÃ¡c suáº¥t $q = 1-p$. NgÆ°á»i chÆ¡i láº·p láº¡i trÃ² chÆ¡i nÃ y nhiá»u láº§n, Ä‘áº·t cÆ°á»£c $1 má»—i lÆ°á»£t. Anh ta sáº½ rá»i khá»i trÃ² chÆ¡i náº¿u tá»•ng sá»‘ tiá»n cá»§a anh ta Ä‘áº¡t Ä‘áº¿n $N hoáº·c náº¿u anh ta háº¿t tiá»n (phÃ¡ sáº£n), tÃ¹y thuá»™c vÃ o Ä‘iá»u gÃ¬ xáº£y ra trÆ°á»›c. XÃ¡c suáº¥t mÃ  con báº¡c bá»‹ phÃ¡ sáº£n hoáº·c tháº¯ng chung cuá»™c lÃ  bao nhiÃªu?\nXÃ¡c suáº¥t con báº¡c tháº¯ng cáº£ tráº­n Gamblerâ€™s Ruin cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ hÃ¬nh hoÃ¡ nhÆ° má»™t bÆ°á»›c Ä‘i ngáº«u nhiÃªn (random walk) mÃ  á»Ÿ Ä‘Ã³ chÃºng ta quan tÃ¢m Ä‘áº¿n xÃ¡c suáº¥t ngÆ°á»i chÆ¡i sáº½ tháº¯ng khi Ä‘áº¡t Ä‘Æ°á»£c $N mong muá»‘n. á» bÃ i viáº¿t nÃ y, mÃ¬nh sáº½ sá»­ dá»¥ng káº¿t quáº£, bÆ°á»›c giáº£i chi tiáº¿t cÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y.\nVá»›i $P_N(n)$ lÃ  xÃ¡c suáº¥t ngÆ°á»i chÆ¡i sáº½ Ä‘áº¡t Ä‘Æ°á»£c $N vá»›i sá»‘ tiá»n hiá»‡n táº¡i lÃ  $n. TÆ°Æ¡ng tá»±, $P_N(n+1)$ lÃ  xÃ¡c suáº¥t ngÆ°á»i chÆ¡i sáº½ Ä‘áº¡t Ä‘Æ°á»£c $N vá»›i sá»‘ tiá»n hiá»‡n táº¡i lÃ  $n+1. $p$ lÃ  xÃ¡c suáº¥t tháº¯ng 1 tráº­n, $q = 1 - p$ lÃ  xÃ¡c suáº¥t thua cá»§a 1 tráº­n.\n$$ P(\\text{sucess}) = P(\\text{sucess}| \\text{win first round}) P(\\text{win first round})\\\\ + P(\\text{sucess}| \\text{lose first round}) P(\\text{lose first round}) \\\\ P_N(n) = P(n| W) P(W) + P(n| L) P(L) \\\\ P_N(n) = P_N(n+1) p + P_N(n-1) q $$Vá»›i $\\lambda = \\frac{q}{p}$, xÃ¡c suáº¥t ngÆ°á»i chÆ¡i sáº½ Ä‘áº¡t Ä‘Æ°á»£c N lÃ :\n$$ P_N(n) = \\begin{cases} \\frac{1 - \\lambda^n}{1 - \\lambda^N}, \u0026 \\lambda \\neq 1 \\\\ \\frac{n}{N}, \u0026 \\lambda = 1 \\end{cases} \\tag{1} $$ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 def win_probability(p, initial_cap, expected_cap): assert 0\u0026lt;= p \u0026lt;=1 , \u0026#34;`p` must be a probability between 0 and 1.\u0026#34; assert 0 \u0026lt;= initial_cap \u0026lt;= expected_cap, \u0026#34;`` an initial_cap integer between 0 and expected_cap.\u0026#34; very_small_number = 1e-12 lambda_ = (1-p)/p if p\u0026lt;= very_small_number: return 0 if p\u0026gt;= 1-very_small_number: return 1 if lambda_==1: return initial_cap/expected_cap return (1-lambda_**initial_cap)/(1-lambda_**expected_cap) BÃ i toÃ¡n giáº£ Ä‘á»‹nh nhÆ° sau:\nGiáº£ sá»­ trÆ°á»ng há»£p sau, anh A cÃ³ 10 Ä‘á»“ng vÃ  quyáº¿t Ä‘á»‹nh Ä‘i Ä‘Ã¡nh black jack (xÃ¬ dÃ¡ch) vá»›i má»¥c tiÃªu sáº½ gáº¥p Ä‘Ã´i sá»‘ tiá»n (20 Ä‘á»“ng), má»—i tráº­n tháº¯ng/thua anh A sáº½ lá»i/máº¥t 1 Ä‘á»“ng. Anh A sá»­ dá»¥ng chiáº¿n thuáº­t vá»›i xÃ¡c suáº¥t tháº¯ng trong 1 vÃ¡n lÃ  (a) 50%, (b) 55%, (c) 45% thÃ¬ xÃ¡c suáº¥t anh A Ä‘áº¡t Ä‘Æ°á»£c má»¥c tiÃªu 20 Ä‘á»“ng lÃ  bao nhiÃªu.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 ### Closed-form solution p = 0.5 initial_cap = 10 expected_cap = 20 win_rate = round(win_probability(p, initial_cap, expected_cap),5) p = 0.55 win_rate = round(win_probability(p, initial_cap, expected_cap),5) p = 0.45 win_rate = round(win_probability(p, initial_cap, expected_cap),5) ----------------------------------- Output: Win rate: 0.5, Initial capital: 10, Expected capital: 20 Sucess rate: 50% ----------------------------------- Win rate: 0.55, Initial capital: 10, Expected capital: 20 Sucess rate: 88.15% ----------------------------------- Win rate: 0.45, Initial capital: 10, Expected capital: 20 Sucess rate: 11.85% ----------------------------------- Tá»« cÃ´ng thá»©c trÃªn, ta cÃ³ thá»ƒ tÃ­nh toÃ¡n Ä‘Æ°á»£c xÃ¡c suáº¥t con báº¡c tháº¯ng chung cuá»™c. Váº­y, trong thá»±c táº¿, nÃ³ sáº½ â€œtrÃ´ngâ€ nhÆ° tháº¿ nÃ o nhá»‰?\nTa tiáº¿n hÃ nh giáº£ láº­p chuá»—i thá»i gian cá»§a bÃ i toÃ¡n nÃ y. Tá»« xÃ¡c suáº¥t trÃªn, ta cÃ³ thá»ƒ tÃ­nh toÃ¡n Ä‘Æ°á»£c nhiá»u thá»©. GiÃ¡ trá»‹ kÃ¬ vá»ng trong 3 trÆ°á»ng há»£p 0.5, 0.55, 0.45 láº§n lÆ°á»£t lÃ  10, 18, 2. Vá»›i viá»‡c giáº£ láº­p 30 láº§n, ta cÃ³ thá»ƒ tháº¥y giÃ¡ trá»‹ trung bÃ¬nh (hay kÃ¬ vá»ng) cÅ©ng tiáº¿n tá»›i má»©c nÃ y.\nThá»i gian ká»³ vá»ng con báº¡c dá»«ng láº¡i NgoÃ i ra, dá»±a trÃªn giáº£ láº­p trÃªn, ta cÅ©ng cÃ³ thá»ƒ nháº­n tháº¥y 1 tÃ­nh cháº¥t ráº±ng, sáº½ tá»›i 1 thá»i gian lÃ  cÃ¡c chuá»—i sáº½ Ä‘áº¡t tá»›i Ä‘iá»ƒm dá»«ng (absorbing state). NÃ´m na lÃ  thá»i Ä‘iá»ƒm kÃ¬ vá»ng (hay trung bÃ¬nh) con báº¡c Ä‘áº¡t Ä‘Æ°á»£c $N hoáº·c thua háº¿t â€œxÃ¨ngâ€.\nVá»›i S lÃ  thá»i gian ká»³ vá»ng, D lÃ  bÆ°á»›c (step), ta cÃ³:\n$$ \\begin{align*} E(\\text{duration}) = E(\\text{duration}| \\text{win first round}) P(\\text{win first round}) \\\\+ E(\\text{duration}| \\text{lose first round}) P(\\text{lose first round})\\\\ \\end{align*}\\\\ $$$$ \\begin{align*} E_n(S) \u0026= E(S|D_1=n+1)p +E(S|D_1=n-1)q\\\\ \u0026= (1+E(S|D_0=n+1))p + (1+E(S|D_0=n-1))q\\\\ \u0026= p+q+E(S|D_0=n+1)p +E(S|D_0=n-1)q\\\\ \u0026= 1+E_{n+1}(S)p +E_{n-1}(S)q \\end{align*} $$$$ \\begin{align*} E_n(S) = \\frac{n}{q - p} - \\frac{N}{q - p} \\cdot \\frac{(\\frac{q}{p})^n - 1}{(\\frac{q}{p})^N - 1} \\end{align*} $$ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 def expected_duration(p, initial_cap, expected_cap): assert 0\u0026lt;= p \u0026lt;=1 , \u0026#34;`p` must be a probability between 0 and 1.\u0026#34; assert 0 \u0026lt;= initial_cap \u0026lt;= expected_cap, \u0026#34;`` an initial_cap integer between 0 and expected_cap.\u0026#34; very_small_number = 1e-12 q = 1-p lambda_ = q/p if lambda_==1: return initial_cap*(expected_cap - initial_cap) duration = ( initial_cap/(q-p) - expected_cap/(q-p)* ((lambda_**initial_cap-1)/(lambda_**expected_cap-1)) ) return duration ------- initial_cap = 10 expected_cap = 20 Win rate: 0.5, Expected duration: 100 Win rate: 0.45, Expected duration: 76.3 Win rate: 0.55, Expected duration: 76.3 Váº­y, ta cÃ³ thá»ƒ tá»± tin nÃ³i ráº±ng: Náº¿u xÃ¡c suáº¥t cá»§a vÃ¡n bÃ i lÃ  50/50 cho má»—i vÃ¡n, thÃ¬ ká»³ vá»ng con báº¡c sáº½ dá»«ng cuá»™c chÆ¡i (cáº£ tháº¯ng láº«n thua) sáº½ lÃ  sau 100 vÃ¡n. CÃ²n náº¿u xÃ¡c suáº¥t lÃ  45% hoáº·c 55% thÃ¬ (dá»± kiáº¿n) sau 77 vÃ¡n con báº¡c sáº½ dá»«ng cuá»™c chÆ¡i.\nVN30F1M Bá»‘i cáº£nh vá» con báº¡c Ä‘Ã£ xong, giá» ta qua tá»›i VN30F1. Ta sáº½ trade vá»›i chiáº¿n lÆ°á»£c siÃªu Ä‘Æ¡n giáº£n nhÆ° sau: Long giÃ¡ má»Ÿ cá»­a (Open) vÃ  Ä‘Ã³ng giÃ¡ Ä‘Ã³ng cá»­a (Close). Vá»›i dá»¯ liá»‡u daily tá»« 2018 tá»›i nay, ta thu Ä‘Æ°á»£c cÃ¡c káº¿t quáº£ nhÆ° sau:\nTrung bÃ¬nh tÄƒng: 9.21 Trung bÃ¬nh giáº£m: -10.14 Sá»‘ ngÃ y tÄƒng: 777; Sá»‘ ngÃ y giáº£m 734 XÃ¡c suáº¥t tÄƒng giáº£m háº±ng ngÃ y: 51% CÅ©ng khÃ¡ tÆ°Æ¡ng Ä‘á»“ng vá»›i bÃ i toÃ¡n black jack á»Ÿ trÃªn ğŸ™‚. Tá»« cÃ¡c tham sá»‘ trÃªn, ta mÃ´ hÃ¬nh hoÃ¡ nhÆ° sau: XÃ¡c suáº¥t lá»i lá»— lÃ  50%, má»—i ngÃ y tÄƒng giáº£m trung bÃ¬nh 10 Ä‘iá»ƒm. Giáº£ sá»­ báº¡n 1 sá»‘ tiá»n Ä‘á»§ Ä‘á»ƒ báº¡n â€œriskâ€ 200 Ä‘iá»ƒm (~200tr). Báº¡n ká»³ vá»ng sáº½ gáº¥p Ä‘Ã´i trong 400 Ä‘iá»ƒm. Äá»ƒ Ä‘Æ°a vá» bÃ i toÃ¡n gamblerâ€™s ruin, ta cáº§n chuáº©n hoÃ¡ lá»i lá»— vá» 1 Ä‘iá»ƒm. Tá»« Ä‘Ã³, thÃ´ng sá»‘ cá»§a bÃ i toÃ¡n sáº½ lÃ  p=0.5, n=20, N= 40.\nSucess_prob = n/N = 20/40 = 50%\nExpected_duration = n*(N-n) = 20*(40-20) = 400 (days)\nLá»£i nhuáº­n ká»³ vá»ng: 40 * 50% + 0 * 50% = 20 (báº±ng sá»‘ vá»‘n ban Ä‘áº§u)\nTá»« Ä‘Ã³ cÃ´ng thá»©c ta cÃ³ thá»ƒ suy luáº­n cÃ¡c Ã½ nhÆ° sau:\nKhi báº¡n ká»³ vá»ng cÃ ng cao (so vá»›i sá»‘ tiá»n báº¡n cÃ³) thÃ¬ xÃ¡c suáº¥t báº¡n thÃ nh cÃ´ng cÃ ng tháº¥p vÃ  thá»i gian dá»± kiáº¿n báº¡n lá»— sáº¡ch cÃ ng nhanh. Báº¡n muá»‘n tÄƒng xÃ¡c suáº¥t thÃ nh cÃ´ng thÃ¬ nÃªn cÃ³ vá»‘n dÃ i (hay cÃ³ nhiá»u tiá»n) ğŸ˜ƒ TÄƒng xÃ¡c suáº¥t tháº¯ng cho tá»«ng láº§n trade thÃ¬ lá»£i nhuáº­n ká»³ vá»ng tÄƒng vÃ  xÃ¡c suáº¥t báº¡n thua sáº¡ch cÃ ng tháº¥p. Giáº£ láº­p VN30F1M cho cÃ¡c trÆ°á»ng há»£p xÃ¡c suáº¥t tháº¯ng cho tá»«ng láº§n trade lÃ  55%, 45% vÃ  50%.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 def simulation_plot(p, initial_cap, each_step, expected_cap, n, n_sim, expected_stopping = None,title = \u0026#39;Simulate Gambler Ruin\u0026#39;): capital = np.zeros((n_sim, n)) for i in range(n_sim): capital[i] = simulate_gambler_ruin(p, initial_cap, expected_cap, each_step, n) plt.figure(figsize=(15,5), dpi = 200) plt.plot(capital.T, alpha = 0.75) ## Mean and standard deviation plt.hlines(initial_cap, 0, n, colors=\u0026#39;black\u0026#39;, linestyles=\u0026#39;dashed\u0026#39;, label=\u0026#39;Initial capital\u0026#39;) # plt.fill_between(np.arange(n), np.min(capital, axis = 0), np.max(capital, axis = 0), color = \u0026#39;gray\u0026#39;, alpha = 0.5, label = \u0026#39;Mean +/- std\u0026#39;) #Mean plt.plot(np.mean(capital, axis = 0), color = \u0026#39;black\u0026#39;, linewidth = 2, label = \u0026#39;Mean\u0026#39;) if expected_stopping: plt.vlines(expected_stopping,0, expected_cap, colors=\u0026#39;black\u0026#39;, label=\u0026#39;Expected stopping point\u0026#39;) plt.title(title) plt.xlabel(\u0026#39;tradingDate\u0026#39;) plt.ylabel(\u0026#39;Cumulative points\u0026#39;) plt.show() return capital initial_cap = 200 each_step = 10 expected_cap = 400 n= 500 n_sim = 100 Vá»›i chiáº¿n lÆ°á»£c cÃ³ xÃ¡c suáº¥t lá»i 55%, chá»‰ cÃ³ 2 láº§n lÃ  báº¡n thua sáº¡ch tiá»n trong sá»‘ 100 láº§n giáº£ láº­p.\nTá»« giáº£ láº­p trÃªn, ta cÃ³ thá»ƒ dá»… dÃ ng nháº­n ra 1 sá»‘ tÃ­nh cháº¥t cÆ¡ báº£n vÃ  ná»n mÃ³ng cá»§a stochastic process nhÆ° sau:\nNáº¿u xÃ¡c suáº¥t lÃ  p=0.5, giÃ¡ trá»‹ ká»³ vá»ng báº±ng Ä‘Ãºng vá»›i giÃ¡ trá»‹ ban Ä‘áº§u. ÄÃ¢y lÃ  tÃ­nh cháº¥t martingale cÆ¡ báº£n trong stochastic process $E(X_n) = E(X_0) \\text{ vá»›i } n \\ge 0$ . Vá»›i p \u0026gt; 0.5, ta cÃ³ thá»ƒ tháº¥y xu hÆ°á»›ng cá»§a chuá»—i thá»i gian cÃ³ chiá»u hÆ°á»›ng lÃªn (positive drift), vÃ  ngÆ°á»£c láº¡i vá»›i. p\u0026lt; 0.5, xu hÆ°á»›ng cÃ³ chiá»u hÆ°á»›ng xuá»‘ng (negative drift). GiÃ¡ trá»‹ cá»§a $X_{n+1}$ chá»‰ phá»¥ thuá»™c vÃ o $X_{n}$, hay giÃ¡ trá»‹ cá»§a ngÃ y hÃ´m sau chá»‰ phá»¥ thuá»™c vÃ o ngÃ y hÃ´m nay vÃ  khÃ´ng phá»¥ thuá»™c vÃ o quÃ¡ khá»© trÆ°á»›c Ä‘Ã³. ÄÃ¢y lÃ  tÃ­nh cháº¥t Markov. Variance cá»§a chuá»—i thá»i gian nÃ y má»Ÿ rá»™ng theo thá»i gian (hay phá»¥ thuá»™c vÃ o thá»i gian t). NgoÃ i lá»: Monte carlo simulation xáº¥p xá»‰ cÃ¡c giÃ¡ trá»‹ cáº§n thiáº¿t NgoÃ i ra, dá»±a vÃ o phÆ°Æ¡ng phÃ¡p giáº£ láº­p (Monte carlo) nÃ y, ta cÃ³ thá»ƒ xáº¥p xá»‰ cÃ¡c giÃ¡ trá»‹ xÃ¡c suáº¥t, ká»³ vá»ng nhÆ° phÆ°Æ¡ng phÃ¡p closed-form solution nhÆ° trÃªn. Dá»±a trÃªn lÃ½ thuyáº¿t sá»‘ lá»›n (Law of large number), báº±ng cÃ¡ch láº¥y máº«u ngáº«u nhiÃªn nhiá»u láº§n, ta cÃ³ thá»ƒ mÃ´ phá»ng láº¡i cÃ¡c trÆ°á»ng há»£p cÃ³ thá»ƒ xáº£y ra nháº±m tÃ­nh toÃ¡n cÃ¡c giÃ¡ trá»‹ mong muá»‘n.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # tham sá»‘ initial_cap = 200 each_step = 10 expected_cap = 400 ## giáº£ láº­p n = 2000 # (giáº£ láº­p tá»›i vÃ´ cá»±c; 2000 lÃ  cÅ©ng Ä‘á»§ lá»›n) n_sim = 20000 # (giáº£ láº­p nhiá»u láº§n; 20000 lÃ  cÅ©ng Ä‘á»§ lá»›n) capital_up = simulation_plot(0.55, initial_cap, each_step, expected_cap, n, n_sim, title = \u0026#39;Simulate Gambler Ruin with positive drift (p\u0026gt;0.5)\u0026#39;) capital_down = simulation_plot(0.45, initial_cap, each_step, expected_cap, n, n_sim, title = \u0026#39;Simulate Gambler Ruin with negative drift (p\u0026lt;0.5)\u0026#39;) capital_neutral = simulation_plot(0.5, initial_cap, each_step, expected_cap, n, n_sim, title = \u0026#39;Simulate Gambler Ruin with no drift (p=0.5)\u0026#39;) def stopping_time(capital, threshold): ls_positive = [] ls_negative = [] for i in range(capital.shape[0]): ls_positive.append(np.argmax(capital[i,:]\u0026gt;=threshold)) ls_negative.append(np.argmax(capital[i,:]\u0026lt;=0)) # ls = ls_positive + ls_negative ls = pd.DataFrame([ls_positive, ls_negative]).sum(axis = 0).mean() return ls ## tÃ­nh toÃ¡n xÃ¡c suáº¥t unique, counts = np.unique(capital_neutral[:,-1], return_counts=True) print(counts/np.sum(counts)) unique, counts = np.unique(capital_up[:,-1], return_counts=True) print(counts/np.sum(counts)) unique, counts = np.unique(capital_down[:,-1], return_counts=True) print(counts/np.sum(counts)) ## TÃ­nh toÃ¡n stopping time stopping_time(capital_neutral, 400), stopping_time(capital_up, 400), stopping_time(capital_down, 400) Káº¿t quáº£ giáº£ láº­p so vá»›i sá»­ dá»¥ng closed-form nhÆ° sau:\nSucess probability Expected duration p Simulation Closed-form Simulation Closed-form 0.5 0.4944 0.5 395.27 400 0.55 0.9803 0.98 190.263 192.9 0.45 0.0157 0.02 190.594 192.9 Tá»« Ä‘Ã³, ta cÃ³ thá»ƒ tháº¥y ráº±ng, vá»›i nhá»¯ng bÃ i toÃ¡n chÆ°a cÃ³ má»™t cÃ¡ch giáº£i â€œÄ‘áº¹pâ€, ta cÃ³ thá»ƒ tiáº¿n hÃ nh giáº£ láº­p cÃ¡c trÆ°á»ng há»£p xáº£y ra nhÆ° má»™t phÆ°Æ¡ng Ã¡n chá»¯a chÃ¡y Ä‘á»ƒ tÃ­nh toÃ¡n cÃ¡c giÃ¡ trá»‹ mong muá»‘n. Tuy nhiÃªn, ta pháº£i Ä‘Ã¡nh Ä‘á»•i báº±ng tá»‘c Ä‘á»™ vÃ  Ä‘á»™ â€œÄ‘áº¹pâ€ cá»§a káº¿t quáº£.\nKáº¿t luáº­n Okay, Ä‘Ã£ Ä‘á»§ cho bÃ i giá»›i thiá»‡u vá» stochastic process rá»“i. ChÃºng ta Ä‘Ã£ cÃ¹ng nhau Ä‘i qua nhiá»u thá»© ná»n mÃ³ng: (1) Gamblerâ€™s ruin Ä‘á»ƒ giá»›i thiá»‡u vá» stochastic process; (2) Giáº£ láº­p cho VN30F1M; (3) Monte Carlo Ä‘á»ƒ Ä‘i xáº¥p xá»‰ cÃ¡c giÃ¡ trá»‹ cáº§n thiáº¿t.\nThÃ´ng qua bÃ i viáº¿t trÃªn, báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c gÃ¬:\nNá»n mÃ³ng cho viá»‡c â€œgamblingâ€: dá»±a vÃ o xÃ¡c suáº¥t, vá»‘n cá»§a báº¡n, vÃ  ká»³ vá»ng, báº¡n cÃ³ thá»ƒ gamble tá»‘t hÆ¡n rá»“i Ä‘Ã³. TrÆ°á»›c khi báº¯t Ä‘áº§u bet vÃ o má»™t thá»© gÃ¬ Ä‘Ã³, hÃ£y cháº­m láº¡i 1 bÆ°á»›c, suy nghÄ© vá» toÃ¡n má»™t tÃ­, rá»“i má»›i quyáº¿t Ä‘á»‹nh chÆ¡i hay khÃ´ng. Hay Ä‘Ãºng khÃ´ng nÃ o ^^ Khi gáº·p 1 bÃ i toÃ¡n vÃ  bÃ­. HÃ£y Ä‘i giáº£ láº­p nÃ³ Ä‘á»ƒ xáº¥p xá»‰ trÆ°á»›c káº¿t quáº£ cuá»‘i cÃ¹ng. Strategy phÃ¡i sinh cÃ³ xÃ¡c suáº¥t tháº¯ng dÆ°á»›i 50% thÃ¬ nÃªn xem xÃ©t láº¡i. Ná»n mÃ³ng cho vÃ i tÃ­nh cháº¥t cÆ¡ báº£n cá»§a stochastic process. NgoÃ i ra, mÃ¬nh cÃ³ Ä‘á»ƒ nhá»¯ng bÃ i viáº¿t ráº¥t hay cá»§a chá»§ Ä‘á» tÆ°Æ¡ng tá»± á»Ÿ pháº§n ref, báº¡n nÃªn nghÃ­a qua Ä‘á»ƒ hiá»ƒu sÃ¢u hÆ¡n vá» pháº§n toÃ¡n á»Ÿ phÃ­a dÆ°á»›i nhÃ©!\nRef https://randomdeterminism.wordpress.com/2010/07/07/gamblers-ruin/\nhttps://web.mit.edu/neboat/Public/6.042/randomwalks.pdf\nhttps://sites.pitt.edu/~jdnorton/teaching/paradox/chapters/probability_from_expectation/gambler_ruin.pdf\nhttps://en.wikipedia.org/wiki/Monte_Carlo_method#:~:text=Sawilowsky distinguishes between a simulation,uses repeated sampling to obtain\n","permalink":"http://localhost:1313/posts/2024/2024-10-20-stochastic-process-part-1/","summary":"BÃ i viáº¿t giá»›i thiá»‡u vá» quÃ¡ trÃ¬nh ngáº«u nhiÃªn thÃ´ng qua bÃ i toÃ¡n Gambler\u0026rsquo;s Ruin. BÃ i viáº¿t cÅ©ng mÃ´ phá»ng chiáº¿n lÆ°á»£c giao dá»‹ch VN30F1M vÃ  sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p Monte Carlo Ä‘á»ƒ xáº¥p xá»‰ cÃ¡c giÃ¡ trá»‹ cáº§n thiáº¿t, nháº¥n máº¡nh táº§m quan trá»ng cá»§a xÃ¡c suáº¥t vÃ  ká»³ vá»ng trong viá»‡c ra quyáº¿t Ä‘á»‹nh.","title":"Stochastic process part 1: Gambler's ruin of VN30F"},{"content":"HÃ´m nay, chÃºng ta sáº½ cÃ¹ng nhau tháº£o luáº­n vá» cÃ¡c phÆ°Æ¡ng phÃ¡p khÃ¡c nhau Ä‘á»ƒ giáº£i quyáº¿t bÃ i toÃ¡n Linear regression - Há»“i quy tuyáº¿n tÃ­nh.\nVáº­y Linear regression lÃ  gÃ¬? Há»“i quy tuyáº¿n tÃ­nh lÃ  phÆ°Æ¡ng phÃ¡p thá»‘ng kÃª dÃ¹ng Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a má»‘i quan há»‡ giá»¯a biáº¿n phá»¥ thuá»™c vÃ  cÃ¡c biáº¿n Ä‘á»™c láº­p. Hay nÃ³i cÃ¡ch khÃ¡c, há»“i quy tuyáº¿n tÃ­nh lÃ  Ä‘i tÃ¬m má»‘i quan há»‡ tuyáº¿n tÃ­nh (y=ax+b) giá»¯a 2 biáº¿n vá»›i nhau.\ná» bÃ i nÃ y, mÃ¬nh sáº½ khÃ´ng bÃ n luáº­n sÃ¢u vá» toÃ¡n, cÃ¡c báº¡n cÃ³ thá»ƒ Ä‘á»c á»Ÿ Ä‘Ã¢y Ä‘á»ƒ náº¯m lÃ½ thuyáº¿t cáº§n thiáº¿t link. Thay vÃ o Ä‘Ã³, bÃ i viáº¿t nÃ y sáº½ Ä‘i thá»±c hiá»‡n bÃ i toÃ¡n Ä‘Æ¡n giáº£n nÃ y theo 3 cÃ¡ch tiáº¿p cáº­n khÃ¡c nhau:\nSá»­ dá»¥ng linear algebra Ä‘á»ƒ tÃ­nh trá»±c tiáº¿p ThÃ´ng qua deep learning, sá»­ dá»¥ng Ä‘áº¡o hÃ m ThÃ´ng qua bayesian inference, sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p láº¥y máº«u (sampling) NgoÃ i ra, bÃ i viáº¿t sáº½ Ã¡p dá»¥ng phÆ°Æ¡ng phÃ¡p nÃ y Ä‘á»ƒ Ä‘i xÃ¡c Ä‘á»‹nh há»‡ sá»‘ Beta cho cá»• phiáº¿u HPG. CÃ¡c báº¡n cÃ³ thá»ƒ Ä‘á»c vá» beta táº¡i Ä‘Ã¢y.\ná» bÃ i toÃ¡n nÃ y, dá»¯ liá»‡u X sáº½ lÃ  VNINDEX, trong khi y sáº½ lÃ  HPG.\nVá» máº·t tÃ i chÃ­nh, Ä‘iá»u nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c xem nhÆ° lÃ  Æ°á»›c tÃ­nh rá»§i ro thá»‹ trÆ°á»ng, hay rá»§i ro há»‡ thá»‘ng (market risk, systematic risk) cho HPG.\n1. TÃ­nh trá»±c tiáº¿p tá»« dá»¯ liá»‡u Lá»i giáº£ cho phÆ°Æ¡ng phÃ¡p nÃ y lÃ :\n$$ \\hat{\\beta} = (X^\\top X)^{-1} X^\\top yÂ $$ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 class Algebra_linear_regression: def __init__(self): self.coef_ = None self.intercept_ = None def fit(self, X, y): X = np.array(X) y = np.array(y) X = np.c_[np.ones(X.shape[0]), X] self.coef_ = np.linalg.inv(X.T @ X) @ X.T @ y self.intercept_ = self.coef_[0] self.coef_ = self.coef_[1:] def predict(self, X): X = np.array(X) return X @ self.coef_ + self.intercept_ def score(self, X, y): X = np.array(X) y = np.array(y) y_pred = self.predict(X) return 1 - ((y - y_pred) ** 2).sum() / ((y - y.mean()) ** 2).sum() model = Algebra_linear_regression() model.fit(X,y) model.coef_.round(3), model.intercept_.round(4) -\u0026gt; output: (array([[1.23]]), array([0.0005])) Tá»« phÆ°Æ¡ng phÃ¡p nÃ y, ta cÃ³ thá»ƒ Æ°á»›c lÆ°á»£ng Ä‘Æ°á»£c ráº±ng há»‡ sá»‘ beta cho cá»• phiáº¿u HPG lÃ  1.23 tÆ°Æ¡ng á»©ng vá»›i viá»‡c rá»§i ro thá»‹ trÆ°á»ng tÆ°Æ¡ng Ä‘á»‘i cao.\n2. Sá»­ dá»¥ng deep learning Deep learning cÅ©ng lÃ  má»™t trong nhá»¯ng phÆ°Æ¡ng phÃ¡p thÃ´ng dá»¥ng cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong bÃ i toÃ¡n nÃ y. ThÃ´ng qua thuáº­t toÃ¡n Gradient Descent, ta cÃ³ Ä‘i tÃ¬m bá»™ tham sá»‘ phÃ¹ há»£p vá»›i hÃ m máº¥t mÃ¡t (loss function) lÃ  tháº¥p nháº¥t.\nQuÃ¡ trÃ¬nh Ä‘i tÃ¬m Ä‘iá»ƒm tá»‘i Æ°u cá»§a bÃ i toÃ¡n nÃ y giá»‘ng nhÆ° khi báº¡n Ä‘i xuá»‘ng nÃºi. Ban Ä‘áº§u, báº¡n sáº½ báº¯t Ä‘áº§u á»Ÿ má»™t Ä‘iá»ƒm nÃ o Ä‘Ã³, táº¡i má»—i Ä‘iá»ƒm báº¡n sáº½ luÃ´n biáº¿t nÃªn Ä‘i hÆ°á»›ng nÃ o. Má»¥c tiÃªu cá»§a báº¡n sáº½ Ä‘i xuá»‘ng nÃºi tá»«ng bÆ°á»›c nhá» má»™t. Báº¡n cá»© liÃªn tá»¥c Ä‘i cho Ä‘áº¿n khi báº¡n Ä‘áº¡t Ä‘áº¿n Ä‘iá»ƒm trÅ©ng cá»§a thung lÅ©ng!\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 import torch import torch.nn as nn # Create class class LinearRegressionModel(nn.Module): def __init__(self, input_dim, output_dim): super(LinearRegressionModel, self).__init__() self.linear = nn.Linear(input_dim, output_dim) def forward(self, x): out = self.linear(x) return out input_dim = 1 output_dim = 1 model = LinearRegressionModel(input_dim, output_dim) criterion = nn.MSELoss() learning_rate = 0.001 optimizer = torch.optim.Adam(model.parameters(), lr=learning_rate) epochs = 1000 losses = [] # List to store loss at each epoch for epoch in range(epochs): epoch += 1 # Convert numpy array to torch Variable inputs = torch.from_numpy(X).requires_grad_() labels = torch.from_numpy(y) # Clear gradients w.r.t. parameters optimizer.zero_grad() # Forward to get output outputs = model(inputs) # Calculate Loss loss = criterion(outputs, labels) # Getting gradients w.r.t. parameters loss.backward() # Updating parameters optimizer.step() losses.append(loss.item()) print(\u0026#39;epoch {}, loss {}\u0026#39;.format(epoch, loss.item())) ThÃ´ng qua phÆ°Æ¡ng phÃ¡p nÃ y, ta cÅ©ng tÃ¬m Ä‘Æ°á»£c má»‘i quan há»‡ giá»‘ng há»‡t vá»›i phÆ°Æ¡ng phÃ¡p tÃ­nh trá»±c tiáº¿p!\n3. Bayesian linear regression Thay vÃ¬ chá»‰ Ä‘Æ°a ra má»™t giÃ¡ trá»‹ cá»‘ Ä‘á»‹nh cho cÃ¡c há»‡ sá»‘ nhÆ° há»“i quy tuyáº¿n tÃ­nh thÃ´ng thÆ°á»ng, phÆ°Æ¡ng phÃ¡p bayes coi cÃ¡c há»‡ sá»‘ lÃ  nhá»¯ng giÃ¡ trá»‹ cÃ³ thá»ƒ thay Ä‘á»•i vÃ  cÃ³ xÃ¡c suáº¥t xáº£y ra. Ban Ä‘áº§u, ta cÃ³ má»™t \u0026ldquo;niá»m tin\u0026rdquo; vá» cÃ¡c tham sá»‘ nÃ y (prior). Khi thu tháº­p thÃªm dá»¯ liá»‡u, ta sáº½ cáº­p nháº­t niá»m tin Ä‘Ã³, tá»« Ä‘Ã³ giÃºp dá»± Ä‘oÃ¡n chÃ­nh xÃ¡c hÆ¡n vÃ  biáº¿t má»©c Ä‘á»™ cháº¯c cháº¯n cá»§a cÃ¡c káº¿t quáº£ (posterior). KhoÃ¡ Coursera nÃ y sáº½ cho báº¡n cÃ¡i nhÃ¬n kÄ© hÆ¡n vá» phÆ°Æ¡ng phÃ¡p nÃ y.\nÄá»ƒ hiá»ƒu Ä‘Æ¡n giáº£n hÆ¡n, ta cÃ³ má»™t vÃ­ dá»¥ nÃ y: Vá»›i 2 phÆ°Æ¡ng phÃ¡p trÃªn, há»‡ sá»‘ beta cá»§a HPG lÃ  1.23. Váº­y cÃ³ bao nhiÃªu pháº§n trÄƒm (%) há»‡ sá»‘ beta lÃ  1.23, há»‡ sá»‘ beta lá»›n hÆ¡n 1 vá»›i Ä‘á»™ tá»± tin bao nhiÃªu pháº§n trÄƒm (%)? GiÃ¡ trá»‹ cá»§a há»‡ sá»‘ beta cá»§a HPG cÃ³ thá»ƒ cÃ³ giÃ¡ trá»‹ tá»« Ä‘Ã¢u tá»›i Ä‘Ã¢u vá»›i Ä‘á»™ tÆ° tin lÃ  bao nhiÃªu pháº§n trÄƒm (%)?\nÄÃ¢y lÃ  má»™t trong nhá»¯ng váº¥n Ä‘á» cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i quyáº¿t thÃ´ng qua phÆ°Æ¡ng phÃ¡p Bayes. Báº¡n cÃ³ thá»ƒ Ä‘á»c kÄ© hÆ¡n vá» Ã½ tÆ°á»Ÿng Ä‘áº±ng sau phÆ°Æ¡ng phÃ¡p nÃ y táº¡i Ä‘Ã¢y.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 def numpyro_model(X, y): # Priors for the parameters num_features = X.shape[1] beta = numpyro.sample(\u0026#34;beta\u0026#34;, dist.Normal(0,1)) # Coefficients intercept = numpyro.sample(\u0026#34;intercept\u0026#34;, dist.Normal(0, 1)) # Intercept sigma = numpyro.sample(\u0026#34;sigma\u0026#34;, dist.Normal(0,1)) # Noise level # Linear model mean = jnp.dot(X, beta) + intercept # Likelihood numpyro.sample(\u0026#34;obs\u0026#34;, dist.Normal(mean, sigma), obs=y) # Instantiate a `MCMC` object using a NUTS sampler mcmc = MCMC(sampler=NUTS(numpyro_model), num_warmup=1000, num_samples=1000, num_chains=4) # Run the MCMC sampler and collect samples mcmc.run(rng_key=random.PRNGKey(seed=42), X=X, y=y) az.plot_trace(mcmc, var_names=[\u0026#39;intercept\u0026#39;, \u0026#39;beta\u0026#39;, \u0026#39;sigma\u0026#39;], figsize=(9,9)); $$ Y = \\beta_0 + \\beta_1 X + \\epsilon $$ PhÆ°Æ¡ng phÃ¡p biá»ƒu diá»…n cÃ¡c biáº¿n trong Bayesian inference (plate notation). á» bÃ i toÃ¡n nÃ y, ta sáº½ cÃ³ 3 biáº¿n chÃ­nh: beta, intercept vÃ  sigma. Táº¥t cáº£ Ä‘á»u Ä‘Æ°á»£c giáº£ Ä‘á»‹nh lÃ  phÃ¢n phá»‘i chuáº©n.\nmean std median 5.0% 95.0% n_eff r_hat beta 1.23 0.03 1.23 1.18 1.28 734.39 1.01 intercept 0.00 0.00 0.00 -0.00 0.00 3212.78 1.00 sigma 0.02 0.00 0.02 0.02 0.02 5063.55 1.00 HÃ¬nh nÃ y Ä‘Æ°á»£c gá»i lÃ  trace plot. PhÆ°Æ¡ng phÃ¡p nÃ y Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ quÃ¡ trÃ¬nh há»™i tá»¥ cá»§a mÃ´ hÃ¬nh Bayes. Cá»™t bÃªn trÃ¡i cho ta tháº¥y phÃ¢n phá»‘i, trong khi bÃªn pháº£i cho ta tháº¥y sá»± giao Ä‘á»™ng cá»§a cÃ¡c tham sá»‘.\nTá»« káº¿t quáº£ mÃ´ hÃ¬nh trÃªn, ta ra Ä‘Æ°á»£c káº¿t luáº­n ráº±ng, há»‡ sá»‘ beta trung bÃ¬nh cho cá»• phiáº¿u HPG cÅ©ng lÃ  1.23, vÃ  ta cÃ³ thá»ƒ tá»± tin nÃ³i ráº±ng, 90% trÆ°á»ng há»£p há»‡ sá»‘ beta cá»§a HPG sáº½ trong vÃ¹ng 1.18 - 1.23.\nKáº¿t luáº­n Tá»« 3 phÆ°Æ¡ng phÃ¡p trÃªn ta Ä‘á»u thu Ä‘Æ°á»£c chung 1 káº¿t quáº£. NgoÃ i ra, má»—i phÆ°Æ¡ng phÃ¡p cÃ³ Æ°u vÃ  nhÆ°á»£c Ä‘iá»ƒm cá»§a mÃ¬nh.\nVá»›i phÆ°Æ¡ng phÃ¡p tÃ­nh toÃ¡n trá»±c tiáº¿p, ta cÃ³ thá»ƒ dá»… dÃ ng tÃ­nh toÃ¡n ra Ä‘Æ°á»£c Ä‘Ã¡p Ã¡n vá»›i Ä‘á»™ phá»©c táº¡p lÃ  tháº¥p nháº¥t. Tuy nhiÃªn, vá»›i nhá»¯ng trÆ°á»ng há»£p mÃ  dá»¯ liá»‡u lÃ  khÃ´ng kháº£ nghá»‹ch (singular), thÃ¬ bÃ i toÃ¡n cÃ³ kháº£ nÄƒng khÃ´ng cÃ³ kháº£ nÄƒng giáº£i Ä‘Æ°á»£c theo phÆ°Æ¡ng phÃ¡p nÃ y (analytical solution).\nNgÆ°á»£c láº¡i, vá»›i phÆ°Æ¡ng phÃ¡p deep learning, ta cÃ³ thá»ƒ dá»… dÃ ng xá»­ lÃ½ cÃ¡c bÃ i toÃ¡n khi khÃ´ng thá»ƒ giáº£i trá»±c tiáº¿p (analytical solution). ThÃ´ng qua Gradient Descent, ta cÃ³ thá»ƒ Æ°á»›c tÃ­nh Ä‘Æ°á»£c cÃ¡c Ä‘iá»ƒm tá»‘i Æ°u, tuy nhiÃªn Ä‘i kÃ¨m vá»›i Ä‘Ã³ lÃ  yÃªu cáº§u tÃ­nh toÃ¡n lá»›n hÆ¡n nhiá»u (computational cost).\nCuá»‘i cÃ¹ng, phÆ°Æ¡ng phÃ¡p Bayesian cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng khi ta mong muá»‘n Ä‘Æ°a niá»m tin cá»§a ta vÃ o mÃ´ hÃ¬nh, cÅ©ng nhÆ° Ä‘áº§u ra mong muá»‘n lÃ  má»™t phÃ¢n phá»‘i cÃ¡c káº¿t quáº£ cÃ³ thá»ƒ xáº£y ra thay vÃ¬ chá»‰ muá»‘n má»™t Ä‘iá»ƒm Æ°á»›c lÆ°á»£ng duy nháº¥t. Quan trá»ng nháº¥t lÃ  mÃ´ hÃ¬nh hoÃ¡ Ä‘Æ°á»£c Ä‘á»™ khÃ´ng cháº¯c cháº¯n (uncertainty). Tuy nhiÃªn, yáº¿u tá»‘ giáº£ Ä‘á»‹nh cá»§a ngÆ°á»i sá»­ dá»¥ng cÃ³ thá»ƒ cÃ³ tÃ¡c Ä‘á»™ng tiÃªu cá»±c Ä‘áº¿n mÃ´ hÃ¬nh náº¿u giáº£ Ä‘á»‹nh sai.\nVÃ  táº¥t nhiÃªn, 2 phÆ°Æ¡ng phÃ¡p sau lÃ  phá»©c táº¡p hoÃ¡ váº¥n Ä‘á» cho bÃ i toÃ¡n Ä‘Æ¡n giáº£n nÃ y. Tuy nhiÃªn, Ä‘á»ƒ gáº§n gÅ©i nháº¥t thÃ¬ mÃ¬nh chá»n Æ°á»›c lÆ°á»£ng beta cho dá»… hÃ¬nh dung!\n","permalink":"http://localhost:1313/posts/2024/2024-10-10-linear-regression/","summary":"\u003cp\u003eHÃ´m nay, chÃºng ta sáº½ cÃ¹ng nhau tháº£o luáº­n vá» cÃ¡c phÆ°Æ¡ng phÃ¡p khÃ¡c nhau Ä‘á»ƒ giáº£i quyáº¿t bÃ i toÃ¡n Linear regression - Há»“i quy tuyáº¿n tÃ­nh.\u003c/p\u003e\n\u003ch2 id=\"váº­y-linear-regression-lÃ -gÃ¬\"\u003eVáº­y Linear regression lÃ  gÃ¬?\u003c/h2\u003e\n\u003cp\u003eHá»“i quy tuyáº¿n tÃ­nh lÃ  phÆ°Æ¡ng phÃ¡p thá»‘ng kÃª dÃ¹ng Ä‘á»ƒ mÃ´ hÃ¬nh hÃ³a má»‘i quan há»‡ giá»¯a biáº¿n phá»¥ thuá»™c vÃ  cÃ¡c biáº¿n Ä‘á»™c láº­p. Hay nÃ³i cÃ¡ch khÃ¡c, há»“i quy tuyáº¿n tÃ­nh lÃ  Ä‘i tÃ¬m má»‘i quan há»‡ tuyáº¿n tÃ­nh (y=ax+b) giá»¯a 2 biáº¿n vá»›i nhau.\u003c/p\u003e","title":"Linear regression"},{"content":"\nHi, mÃ¬nh lÃ  HÃ¹ng. Hiá»‡n mÃ¬nh lÃ  sinh viÃªn tháº¡c sÄ© AI táº¡i RMIT Vietnam vá»›i Ä‘am mÃª dÃ nh cho máº£ng Ä‘áº§u tÆ° Ä‘á»‹nh lÆ°á»£ng (Quant). Blog nÃ y lÃ  nÆ¡i mÃ¬nh chia sáº» kiáº¿n thá»©c (Ä‘a pháº§n lÃ  lÆ°u trá»¯ cÃ¡i mÃ¬nh há»c) vÃ  náº¿u nÃ³ giÃºp Ä‘Æ°á»£c báº¡n trong chuyáº¿n phiÃªu lÆ°u ngÃ nh quant thÃ¬ mÃ¬nh ráº¥t vui!\nCÃ¡c máº£ng yÃªu thÃ­ch AI \u0026amp; data sci: Learning to Rank, Network science, Causal ML, Deep learning, Reinforcement learning, â€¦ TÃ i chÃ­nh: Portfolio optimization, Asset pricing, Factor investing, High frequency trading, \u0026hellip; Ráº¥t open vá»›i collaboration :), liÃªn há»‡ thÃ´ng qua Linkedin Publication:\nDecoding the Infrastructure Announcement Effect to Real Estate Price in Urban Vietnam Case Study: The Impact of Metro Line 1 HCMC, preprint The International Conference on Business and Technology (ICBTâ€™Cairo2025), draft\nMiquant MÃ¬nh vÃ  cÃ¡c anh em cÃ³ xÃ¢y dá»±ng má»™t start up \u0026ldquo;nhá»\u0026rdquo; vá» tÃ i chÃ­nh Ä‘á»‹nh lÆ°á»£ng vÃ  AI mang tÃªn miquant. Sáº£n pháº©m nÃ y giÃºp nhÃ  Ä‘áº§u tÆ°, nhÃ  phÃ¢n tÃ­ch hay cÃ¡c nhÃ  nghiÃªn cá»©u chuyÃªn sÃ¢u vá» cá»• phiáº¿u má»™t cÃ¡ch nhanh chÃ³ng, Ä‘Ã¡ng tin vÃ  chÃ­nh xÃ¡c.\nMá»i báº¡n tham kháº£o táº¡i miquant.vn Ä‘á»ƒ tÃ¬m hiá»ƒu thÃªm!\nHá»c váº¥n MSc Artificial Intelligent (RMIT Vietnam) BSc Economics \u0026amp; Finance (RMIT Vietnam) CFA lev 1 LiÃªn há»‡ Email: hungha1412@gmail.com LinkedIn: Quá»‘c HÃ¹ng ","permalink":"http://localhost:1313/about/","summary":"\u003cp\u003e\u003cimg src=\"/hamster.png\"\nalt=\"A hamster coding on a laptop\"\nwidth=\"50%\"\nstyle=\"display:block; margin:0 auto; height:auto;\"\u003e\u003c/p\u003e\n\u003cp\u003eHi, mÃ¬nh lÃ  HÃ¹ng. Hiá»‡n mÃ¬nh lÃ  sinh viÃªn tháº¡c sÄ© AI táº¡i RMIT Vietnam vá»›i Ä‘am mÃª dÃ nh cho máº£ng Ä‘áº§u tÆ° Ä‘á»‹nh lÆ°á»£ng (Quant). Blog nÃ y lÃ  nÆ¡i mÃ¬nh chia sáº» kiáº¿n thá»©c (Ä‘a pháº§n lÃ  lÆ°u trá»¯ cÃ¡i mÃ¬nh há»c) vÃ  náº¿u nÃ³ giÃºp Ä‘Æ°á»£c báº¡n trong chuyáº¿n phiÃªu lÆ°u ngÃ nh quant thÃ¬ mÃ¬nh ráº¥t vui!\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"cÃ¡c-máº£ng-yÃªu-thÃ­ch\"\u003eCÃ¡c máº£ng yÃªu thÃ­ch\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eAI \u0026amp; data sci: Learning to Rank, Network science, Causal ML, Deep learning, Reinforcement learning, â€¦\u003c/li\u003e\n\u003cli\u003eTÃ i chÃ­nh: Portfolio optimization, Asset pricing, Factor investing, High frequency trading, \u0026hellip;\u003c/li\u003e\n\u003cli\u003eRáº¥t open vá»›i collaboration :), liÃªn há»‡ thÃ´ng qua \u003ca href=\"https://www.linkedin.com/in/haquochung11/\"\u003eLinkedin\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003ePublication\u003c/strong\u003e:\u003cbr\u003e\nDecoding the Infrastructure Announcement Effect to Real Estate Price in Urban Vietnam Case Study: The Impact of Metro Line 1 HCMC, preprint The International Conference on Business and Technology (ICBTâ€™Cairo2025), \u003ca href=\"https://drive.google.com/file/d/1R4bEaI_Yz0ah5vFO80vJTwyDcUaP1UPG/view?usp=share_link\"\u003edraft\u003c/a\u003e\u003c/p\u003e","title":"About"},{"content":"","permalink":"http://localhost:1313/blog/","summary":"blog","title":"Blog"},{"content":"","permalink":"http://localhost:1313/research/","summary":"","title":"Research"}]